"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),require("colors");var fs=require("fs"),path=require("path"),httpsProxyAgent=require("https-proxy-agent"),dotenv=require("dotenv"),zod=require("zod"),url=require("url"),http=require("http"),https=require("https"),tarn=require("tarn"),uuid=require("uuid"),puppeteer=require("puppeteer"),DOMPurify=require("dompurify"),jsdom=require("jsdom"),cors=require("cors"),express=require("express"),multer=require("multer"),rateLimit=require("express-rate-limit"),_documentCurrentScript="undefined"!=typeof document?document.currentScript:null;const defaultConfig={puppeteer:{args:{value:["--allow-running-insecure-content","--ash-no-nudges","--autoplay-policy=user-gesture-required","--block-new-web-contents","--disable-accelerated-2d-canvas","--disable-background-networking","--disable-background-timer-throttling","--disable-backgrounding-occluded-windows","--disable-breakpad","--disable-checker-imaging","--disable-client-side-phishing-detection","--disable-component-extensions-with-background-pages","--disable-component-update","--disable-default-apps","--disable-dev-shm-usage","--disable-domain-reliability","--disable-extensions","--disable-features=CalculateNativeWinOcclusion,InterestFeedContentSuggestions,WebOTP","--disable-hang-monitor","--disable-ipc-flooding-protection","--disable-logging","--disable-notifications","--disable-offer-store-unmasked-wallet-cards","--disable-popup-blocking","--disable-print-preview","--disable-prompt-on-repost","--disable-renderer-backgrounding","--disable-search-engine-choice-screen","--disable-session-crashed-bubble","--disable-setuid-sandbox","--disable-site-isolation-trials","--disable-speech-api","--disable-sync","--enable-unsafe-webgpu","--hide-crash-restore-bubble","--hide-scrollbars","--metrics-recording-only","--mute-audio","--no-default-browser-check","--no-first-run","--no-pings","--no-sandbox","--no-startup-window","--no-zygote","--password-store=basic","--process-per-tab","--use-mock-keychain"],types:["string[]"],envLink:"PUPPETEER_ARGS",cliName:"puppeteerArgs",description:"Array of Puppeteer arguments",promptOptions:{type:"list",separator:";"}}},highcharts:{version:{value:"latest",types:["string"],envLink:"HIGHCHARTS_VERSION",description:"Highcharts version",promptOptions:{type:"text"}},cdnUrl:{value:"https://code.highcharts.com",types:["string"],envLink:"HIGHCHARTS_CDN_URL",description:"CDN URL for Highcharts scripts",promptOptions:{type:"text"}},forceFetch:{value:!1,types:["boolean"],envLink:"HIGHCHARTS_FORCE_FETCH",description:"Flag to refetch scripts after each server rerun",promptOptions:{type:"toggle"}},cachePath:{value:".cache",types:["string"],envLink:"HIGHCHARTS_CACHE_PATH",description:"Directory path for cached Highcharts scripts",promptOptions:{type:"text"}},coreScripts:{value:["highcharts","highcharts-more","highcharts-3d"],types:["string[]"],envLink:"HIGHCHARTS_CORE_SCRIPTS",description:"Highcharts core scripts to fetch",promptOptions:{type:"multiselect",instructions:"Space: Select specific, A: Select all, Enter: Confirm"}},moduleScripts:{value:["stock","map","gantt","exporting","parallel-coordinates","accessibility","boost-canvas","boost","data","data-tools","draggable-points","static-scale","broken-axis","heatmap","tilemap","tiledwebmap","timeline","treemap","treegraph","item-series","drilldown","histogram-bellcurve","bullet","funnel","funnel3d","geoheatmap","pyramid3d","networkgraph","overlapping-datalabels","pareto","pattern-fill","pictorial","price-indicator","sankey","arc-diagram","dependency-wheel","series-label","series-on-point","solid-gauge","sonification","streamgraph","sunburst","variable-pie","variwide","vector","venn","windbarb","wordcloud","xrange","no-data-to-display","drag-panes","debugger","dumbbell","lollipop","cylinder","organization","dotplot","marker-clusters","hollowcandlestick","heikinashi","flowmap","export-data","navigator","textpath"],types:["string[]"],envLink:"HIGHCHARTS_MODULE_SCRIPTS",description:"Highcharts module scripts to fetch",promptOptions:{type:"multiselect",instructions:"Space: Select specific, A: Select all, Enter: Confirm"}},indicatorScripts:{value:["indicators-all"],types:["string[]"],envLink:"HIGHCHARTS_INDICATOR_SCRIPTS",description:"Highcharts indicator scripts to fetch",promptOptions:{type:"multiselect",instructions:"Space: Select specific, A: Select all, Enter: Confirm"}},customScripts:{value:["https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.30.1/moment.min.js","https://cdnjs.cloudflare.com/ajax/libs/moment-timezone/0.5.45/moment-timezone-with-data.min.js"],types:["string[]"],envLink:"HIGHCHARTS_CUSTOM_SCRIPTS",description:"Additional custom scripts or dependencies to fetch",promptOptions:{type:"list",separator:";"}}},export:{infile:{value:null,types:["string","null"],envLink:"EXPORT_INFILE",description:"Input filename with type, formatted correctly as JSON or SVG",promptOptions:{type:"text"}},instr:{value:null,types:["Object","string","null"],envLink:"EXPORT_INSTR",description:"Overrides the `infile` with JSON, stringified JSON, or SVG input",promptOptions:{type:"text"}},options:{value:null,types:["Object","string","null"],envLink:"EXPORT_OPTIONS",description:"Alias for the `instr` option",promptOptions:{type:"text"}},svg:{value:null,types:["string","null"],envLink:"EXPORT_SVG",description:"SVG string representation of the chart to render",promptOptions:{type:"text"}},batch:{value:null,types:["string","null"],envLink:"EXPORT_BATCH",description:'Batch job string with input/output pairs: "in=out;in=out;..."',promptOptions:{type:"text"}},outfile:{value:null,types:["string","null"],envLink:"EXPORT_OUTFILE",description:"Output filename with type. Can be jpeg, png, pdf, or svg and ignores `type` option",promptOptions:{type:"text"}},type:{value:"png",types:["string"],envLink:"EXPORT_TYPE",description:"File export format. Can be jpeg, png, pdf, or svg",promptOptions:{type:"select",hint:"Default: png",choices:["png","jpeg","pdf","svg"]}},constr:{value:"chart",types:["string"],envLink:"EXPORT_CONSTR",description:"Chart constructor. Can be chart, stockChart, mapChart, or ganttChart",promptOptions:{type:"select",hint:"Default: chart",choices:["chart","stockChart","mapChart","ganttChart"]}},b64:{value:!1,types:["boolean"],envLink:"EXPORT_B64",description:"Whether or not to the chart should be received in Base64 format instead of binary",promptOptions:{type:"toggle"}},noDownload:{value:!1,types:["boolean"],envLink:"EXPORT_NO_DOWNLOAD",description:"Whether or not to include or exclude attachment headers in the response",promptOptions:{type:"toggle"}},height:{value:null,types:["number","null"],envLink:"EXPORT_HEIGHT",description:"Height of the exported chart, overrides chart settings",promptOptions:{type:"number"}},width:{value:null,types:["number","null"],envLink:"EXPORT_WIDTH",description:"Width of the exported chart, overrides chart settings",promptOptions:{type:"number"}},scale:{value:null,types:["number","null"],envLink:"EXPORT_SCALE",description:"Scale of the exported chart, overrides chart settings. Ranges from 0.1 to 5.0",promptOptions:{type:"number"}},defaultHeight:{value:400,types:["number"],envLink:"EXPORT_DEFAULT_HEIGHT",description:"Default height of the exported chart if not set",promptOptions:{type:"number"}},defaultWidth:{value:600,types:["number"],envLink:"EXPORT_DEFAULT_WIDTH",description:"Default width of the exported chart if not set",promptOptions:{type:"number"}},defaultScale:{value:1,types:["number"],envLink:"EXPORT_DEFAULT_SCALE",description:"Default scale of the exported chart if not set. Ranges from 0.1 to 5.0",promptOptions:{type:"number",min:.1,max:5}},globalOptions:{value:null,types:["Object","string","null"],envLink:"EXPORT_GLOBAL_OPTIONS",description:"JSON, stringified JSON or filename with global options for Highcharts.setOptions",promptOptions:{type:"text"}},themeOptions:{value:null,types:["Object","string","null"],envLink:"EXPORT_THEME_OPTIONS",description:"JSON, stringified JSON or filename with theme options for Highcharts.setOptions",promptOptions:{type:"text"}},rasterizationTimeout:{value:1500,types:["number"],envLink:"EXPORT_RASTERIZATION_TIMEOUT",description:"Milliseconds to wait for webpage rendering",promptOptions:{type:"number"}}},customLogic:{allowCodeExecution:{value:!1,types:["boolean"],envLink:"CUSTOM_LOGIC_ALLOW_CODE_EXECUTION",description:"Allows or disallows execution of arbitrary code during exporting",promptOptions:{type:"toggle"}},allowFileResources:{value:!1,types:["boolean"],envLink:"CUSTOM_LOGIC_ALLOW_FILE_RESOURCES",description:"Allows or disallows injection of filesystem resources (disabled in server mode)",promptOptions:{type:"toggle"}},customCode:{value:null,types:["string","null"],envLink:"CUSTOM_LOGIC_CUSTOM_CODE",description:"Custom code to execute before chart initialization. Can be a function, code wrapped in a function, or a .js filename",promptOptions:{type:"text"}},callback:{value:null,types:["string","null"],envLink:"CUSTOM_LOGIC_CALLBACK",description:"JavaScript code to run during construction. Can be a function or a .js filename",promptOptions:{type:"text"}},resources:{value:null,types:["Object","string","null"],envLink:"CUSTOM_LOGIC_RESOURCES",description:"Additional resources as JSON, stringified JSON, or filename, containing files, js, and css sections",promptOptions:{type:"text"}},loadConfig:{value:null,types:["string","null"],envLink:"CUSTOM_LOGIC_LOAD_CONFIG",legacyName:"fromFile",description:"File with a pre-defined configuration to use",promptOptions:{type:"text"}},createConfig:{value:null,types:["string","null"],envLink:"CUSTOM_LOGIC_CREATE_CONFIG",description:"Prompt-based option setting, saved to a provided config file",promptOptions:{type:"text"}}},server:{enable:{value:!1,types:["boolean"],envLink:"SERVER_ENABLE",cliName:"enableServer",description:"Starts the server when true",promptOptions:{type:"toggle"}},host:{value:"0.0.0.0",types:["string"],envLink:"SERVER_HOST",description:"Hostname of the server",promptOptions:{type:"text"}},port:{value:7801,types:["number"],envLink:"SERVER_PORT",description:"Port number for the server",promptOptions:{type:"number"}},uploadLimit:{value:3,types:["number"],envLink:"SERVER_UPLOAD_LIMIT",description:"Maximum request body size in MB",promptOptions:{type:"number"}},benchmarking:{value:!1,types:["boolean"],envLink:"SERVER_BENCHMARKING",cliName:"serverBenchmarking",description:"Displays or not action durations in milliseconds during server requests",promptOptions:{type:"toggle"}},proxy:{host:{value:null,types:["string","null"],envLink:"SERVER_PROXY_HOST",cliName:"proxyHost",description:"Host of the proxy server, if applicable",promptOptions:{type:"text"}},port:{value:null,types:["number","null"],envLink:"SERVER_PROXY_PORT",cliName:"proxyPort",description:"Port of the proxy server, if applicable",promptOptions:{type:"number"}},timeout:{value:5e3,types:["number"],envLink:"SERVER_PROXY_TIMEOUT",cliName:"proxyTimeout",description:"Timeout in milliseconds for the proxy server, if applicable",promptOptions:{type:"number"}}},rateLimiting:{enable:{value:!1,types:["boolean"],envLink:"SERVER_RATE_LIMITING_ENABLE",cliName:"enableRateLimiting",description:"Enables or disables rate limiting on the server",promptOptions:{type:"toggle"}},maxRequests:{value:10,types:["number"],envLink:"SERVER_RATE_LIMITING_MAX_REQUESTS",legacyName:"rateLimit",description:"Maximum number of requests allowed per minute",promptOptions:{type:"number"}},window:{value:1,types:["number"],envLink:"SERVER_RATE_LIMITING_WINDOW",description:"Time window in minutes for rate limiting",promptOptions:{type:"number"}},delay:{value:0,types:["number"],envLink:"SERVER_RATE_LIMITING_DELAY",description:"Delay duration between successive requests before reaching the limit",promptOptions:{type:"number"}},trustProxy:{value:!1,types:["boolean"],envLink:"SERVER_RATE_LIMITING_TRUST_PROXY",description:"Set to true if the server is behind a load balancer",promptOptions:{type:"toggle"}},skipKey:{value:null,types:["string","null"],envLink:"SERVER_RATE_LIMITING_SKIP_KEY",description:"Key to bypass the rate limiter, used with `skipToken`",promptOptions:{type:"text"}},skipToken:{value:null,types:["string","null"],envLink:"SERVER_RATE_LIMITING_SKIP_TOKEN",description:"Token to bypass the rate limiter, used with `skipKey`",promptOptions:{type:"text"}}},ssl:{enable:{value:!1,types:["boolean"],envLink:"SERVER_SSL_ENABLE",cliName:"enableSsl",description:"Enables or disables SSL protocol",promptOptions:{type:"toggle"}},force:{value:!1,types:["boolean"],envLink:"SERVER_SSL_FORCE",cliName:"sslForce",legacyName:"sslOnly",description:"Forces the server to use HTTPS only when true",promptOptions:{type:"toggle"}},port:{value:443,types:["number"],envLink:"SERVER_SSL_PORT",cliName:"sslPort",description:"Port for the SSL server",promptOptions:{type:"number"}},certPath:{value:null,types:["string","null"],envLink:"SERVER_SSL_CERT_PATH",cliName:"sslCertPath",legacyName:"sslPath",description:"Path to the SSL certificate/key file",promptOptions:{type:"text"}}}},pool:{minWorkers:{value:4,types:["number"],envLink:"POOL_MIN_WORKERS",description:"Minimum and initial number of pool workers to spawn",promptOptions:{type:"number"}},maxWorkers:{value:8,types:["number"],envLink:"POOL_MAX_WORKERS",legacyName:"workers",description:"Maximum number of pool workers to spawn",promptOptions:{type:"number"}},workLimit:{value:40,types:["number"],envLink:"POOL_WORK_LIMIT",description:"Number of tasks a worker can handle before restarting",promptOptions:{type:"number"}},acquireTimeout:{value:5e3,types:["number"],envLink:"POOL_ACQUIRE_TIMEOUT",description:"Timeout in milliseconds for acquiring a resource",promptOptions:{type:"number"}},createTimeout:{value:5e3,types:["number"],envLink:"POOL_CREATE_TIMEOUT",description:"Timeout in milliseconds for creating a resource",promptOptions:{type:"number"}},destroyTimeout:{value:5e3,types:["number"],envLink:"POOL_DESTROY_TIMEOUT",description:"Timeout in milliseconds for destroying a resource",promptOptions:{type:"number"}},idleTimeout:{value:3e4,types:["number"],envLink:"POOL_IDLE_TIMEOUT",description:"Timeout in milliseconds for destroying idle resources",promptOptions:{type:"number"}},createRetryInterval:{value:200,types:["number"],envLink:"POOL_CREATE_RETRY_INTERVAL",description:"Interval in milliseconds before retrying resource creation on failure",promptOptions:{type:"number"}},reaperInterval:{value:1e3,types:["number"],envLink:"POOL_REAPER_INTERVAL",description:"Interval in milliseconds to check and destroy idle resources",promptOptions:{type:"number"}},benchmarking:{value:!1,types:["boolean"],envLink:"POOL_BENCHMARKING",cliName:"poolBenchmarking",description:"Shows statistics for the pool of resources",promptOptions:{type:"toggle"}}},logging:{level:{value:4,types:["number"],envLink:"LOGGING_LEVEL",cliName:"logLevel",description:"Logging verbosity level",promptOptions:{type:"number",round:0,min:0,max:5}},file:{value:"highcharts-export-server.log",types:["string"],envLink:"LOGGING_FILE",cliName:"logFile",description:"Log file name. Requires `logToFile` and `logDest` to be set",promptOptions:{type:"text"}},dest:{value:"log",types:["string"],envLink:"LOGGING_DEST",cliName:"logDest",description:"Path to store log files. Requires `logToFile` to be set",promptOptions:{type:"text"}},toConsole:{value:!0,types:["boolean"],envLink:"LOGGING_TO_CONSOLE",cliName:"logToConsole",description:"Enables or disables console logging",promptOptions:{type:"toggle"}},toFile:{value:!0,types:["boolean"],envLink:"LOGGING_TO_FILE",cliName:"logToFile",description:"Enables or disables logging to a file",promptOptions:{type:"toggle"}}},ui:{enable:{value:!1,types:["boolean"],envLink:"UI_ENABLE",cliName:"enableUi",description:"Enables or disables the UI for the export server",promptOptions:{type:"toggle"}},route:{value:"/",types:["string"],envLink:"UI_ROUTE",cliName:"uiRoute",description:"The endpoint route for the UI",promptOptions:{type:"text"}}},other:{nodeEnv:{value:"production",types:["string"],envLink:"OTHER_NODE_ENV",description:"The Node.js environment type",promptOptions:{type:"text"}},listenToProcessExits:{value:!0,types:["boolean"],envLink:"OTHER_LISTEN_TO_PROCESS_EXITS",description:"Whether or not to attach process.exit handlers",promptOptions:{type:"toggle"}},noLogo:{value:!1,types:["boolean"],envLink:"OTHER_NO_LOGO",description:"Display or skip printing the logo on startup",promptOptions:{type:"toggle"}},hardResetPage:{value:!1,types:["boolean"],envLink:"OTHER_HARD_RESET_PAGE",description:"Whether or not to reset the page content entirely",promptOptions:{type:"toggle"}},browserShellMode:{value:!0,types:["boolean"],envLink:"OTHER_BROWSER_SHELL_MODE",description:"Whether or not to set the browser to run in shell mode",promptOptions:{type:"toggle"}}},debug:{enable:{value:!1,types:["boolean"],envLink:"DEBUG_ENABLE",cliName:"enableDebug",description:"Enables or disables debug mode for the underlying browser",promptOptions:{type:"toggle"}},headless:{value:!1,types:["boolean"],envLink:"DEBUG_HEADLESS",description:"Whether or not to set the browser to run in headless mode during debugging",promptOptions:{type:"toggle"}},devtools:{value:!1,types:["boolean"],envLink:"DEBUG_DEVTOOLS",description:"Enables or disables DevTools in headful mode",promptOptions:{type:"toggle"}},listenToConsole:{value:!1,types:["boolean"],envLink:"DEBUG_LISTEN_TO_CONSOLE",description:"Enables or disables listening to console messages from the browser",promptOptions:{type:"toggle"}},dumpio:{value:!1,types:["boolean"],envLink:"DEBUG_DUMPIO",description:"Redirects or not browser stdout and stderr to process.stdout and process.stderr",promptOptions:{type:"toggle"}},slowMo:{value:0,types:["number"],envLink:"DEBUG_SLOW_MO",description:"Delays Puppeteer operations by the specified milliseconds",promptOptions:{type:"number"}},debuggingPort:{value:9222,types:["number"],envLink:"DEBUG_DEBUGGING_PORT",description:"Port used for debugging",promptOptions:{type:"number"}}}};dotenv.config();const v={array:e=>zod.z.string().transform((t=>t.split(",").map((e=>e.trim())).filter((t=>e.includes(t))))).transform((e=>e.length?e:void 0)),boolean:()=>zod.z.enum(["true","false",""]).transform((e=>""!==e?"true"===e:void 0)),enum:e=>zod.z.enum([...e,""]).transform((e=>""!==e?e:void 0)),string:()=>zod.z.string().trim().refine((e=>!["false","undefined","null","NaN"].includes(e)||""===e),(e=>({message:`The string contains forbidden values, received '${e}'`}))).transform((e=>""!==e?e:void 0)),positiveNum:()=>zod.z.string().trim().refine((e=>""===e||!isNaN(parseFloat(e))&&parseFloat(e)>0),(e=>({message:`The value must be numeric and positive, received '${e}'`}))).transform((e=>""!==e?parseFloat(e):void 0)),nonNegativeNum:()=>zod.z.string().trim().refine((e=>""===e||!isNaN(parseFloat(e))&&parseFloat(e)>=0),(e=>({message:`The value must be numeric and non-negative, received '${e}'`}))).transform((e=>""!==e?parseFloat(e):void 0))},Config=zod.z.object({PUPPETEER_ARGS:v.string(),HIGHCHARTS_VERSION:zod.z.string().trim().refine((e=>/^(latest|\d+(\.\d+){0,2})$/.test(e)||""===e),(e=>({message:`HIGHCHARTS_VERSION must be 'latest', a major version, or in the form XX.YY.ZZ, received '${e}'`}))).transform((e=>""!==e?e:void 0)),HIGHCHARTS_CDN_URL:zod.z.string().trim().refine((e=>e.startsWith("https://")||e.startsWith("http://")||""===e),(e=>({message:`Invalid value for HIGHCHARTS_CDN_URL. It should start with http:// or https://, received '${e}'`}))).transform((e=>""!==e?e:void 0)),HIGHCHARTS_FORCE_FETCH:v.boolean(),HIGHCHARTS_CACHE_PATH:v.string(),HIGHCHARTS_ADMIN_TOKEN:v.string(),HIGHCHARTS_CORE_SCRIPTS:v.array(defaultConfig.highcharts.coreScripts.value),HIGHCHARTS_MODULE_SCRIPTS:v.array(defaultConfig.highcharts.moduleScripts.value),HIGHCHARTS_INDICATOR_SCRIPTS:v.array(defaultConfig.highcharts.indicatorScripts.value),HIGHCHARTS_CUSTOM_SCRIPTS:v.array(defaultConfig.highcharts.customScripts.value),EXPORT_INFILE:v.string(),EXPORT_INSTR:v.string(),EXPORT_OPTIONS:v.string(),EXPORT_SVG:v.string(),EXPORT_BATCH:v.string(),EXPORT_OUTFILE:v.string(),EXPORT_TYPE:v.enum(["jpeg","png","pdf","svg"]),EXPORT_CONSTR:v.enum(["chart","stockChart","mapChart","ganttChart"]),EXPORT_B64:v.boolean(),EXPORT_NO_DOWNLOAD:v.boolean(),EXPORT_HEIGHT:v.positiveNum(),EXPORT_WIDTH:v.positiveNum(),EXPORT_SCALE:v.positiveNum(),EXPORT_DEFAULT_HEIGHT:v.positiveNum(),EXPORT_DEFAULT_WIDTH:v.positiveNum(),EXPORT_DEFAULT_SCALE:v.positiveNum(),EXPORT_GLOBAL_OPTIONS:v.string(),EXPORT_THEME_OPTIONS:v.string(),EXPORT_RASTERIZATION_TIMEOUT:v.nonNegativeNum(),CUSTOM_LOGIC_ALLOW_CODE_EXECUTION:v.boolean(),CUSTOM_LOGIC_ALLOW_FILE_RESOURCES:v.boolean(),CUSTOM_LOGIC_CUSTOM_CODE:v.string(),CUSTOM_LOGIC_CALLBACK:v.string(),CUSTOM_LOGIC_RESOURCES:v.string(),CUSTOM_LOGIC_LOAD_CONFIG:v.string(),CUSTOM_LOGIC_CREATE_CONFIG:v.string(),SERVER_ENABLE:v.boolean(),SERVER_HOST:v.string(),SERVER_PORT:v.positiveNum(),SERVER_UPLOAD_LIMIT:v.positiveNum(),SERVER_BENCHMARKING:v.boolean(),SERVER_PROXY_HOST:v.string(),SERVER_PROXY_PORT:v.positiveNum(),SERVER_PROXY_TIMEOUT:v.nonNegativeNum(),SERVER_RATE_LIMITING_ENABLE:v.boolean(),SERVER_RATE_LIMITING_MAX_REQUESTS:v.nonNegativeNum(),SERVER_RATE_LIMITING_WINDOW:v.nonNegativeNum(),SERVER_RATE_LIMITING_DELAY:v.nonNegativeNum(),SERVER_RATE_LIMITING_TRUST_PROXY:v.boolean(),SERVER_RATE_LIMITING_SKIP_KEY:v.string(),SERVER_RATE_LIMITING_SKIP_TOKEN:v.string(),SERVER_SSL_ENABLE:v.boolean(),SERVER_SSL_FORCE:v.boolean(),SERVER_SSL_PORT:v.positiveNum(),SERVER_SSL_CERT_PATH:v.string(),POOL_MIN_WORKERS:v.nonNegativeNum(),POOL_MAX_WORKERS:v.nonNegativeNum(),POOL_WORK_LIMIT:v.positiveNum(),POOL_ACQUIRE_TIMEOUT:v.nonNegativeNum(),POOL_CREATE_TIMEOUT:v.nonNegativeNum(),POOL_DESTROY_TIMEOUT:v.nonNegativeNum(),POOL_IDLE_TIMEOUT:v.nonNegativeNum(),POOL_CREATE_RETRY_INTERVAL:v.nonNegativeNum(),POOL_REAPER_INTERVAL:v.nonNegativeNum(),POOL_BENCHMARKING:v.boolean(),LOGGING_LEVEL:zod.z.string().trim().refine((e=>""===e||!isNaN(parseFloat(e))&&parseFloat(e)>=0&&parseFloat(e)<=5),(e=>({message:`Invalid value for LOGGING_LEVEL. We only accept values from 0 to 5 as logging levels, received '${e}'`}))).transform((e=>""!==e?parseFloat(e):void 0)),LOGGING_FILE:v.string(),LOGGING_DEST:v.string(),LOGGING_TO_CONSOLE:v.boolean(),LOGGING_TO_FILE:v.boolean(),UI_ENABLE:v.boolean(),UI_ROUTE:v.string(),OTHER_NODE_ENV:v.enum(["development","production","test"]),OTHER_LISTEN_TO_PROCESS_EXITS:v.boolean(),OTHER_NO_LOGO:v.boolean(),OTHER_HARD_RESET_PAGE:v.boolean(),OTHER_BROWSER_SHELL_MODE:v.boolean(),DEBUG_ENABLE:v.boolean(),DEBUG_HEADLESS:v.boolean(),DEBUG_DEVTOOLS:v.boolean(),DEBUG_LISTEN_TO_CONSOLE:v.boolean(),DEBUG_DUMPIO:v.boolean(),DEBUG_SLOW_MO:v.nonNegativeNum(),DEBUG_DEBUGGING_PORT:v.positiveNum()}),envs=Config.partial().parse(process.env),__dirname$1=url.fileURLToPath(new URL("../.","undefined"==typeof document?require("url").pathToFileURL(__filename).href:_documentCurrentScript&&"SCRIPT"===_documentCurrentScript.tagName.toUpperCase()&&_documentCurrentScript.src||new URL("index.cjs",document.baseURI).href));function deepCopy(e){if(null===e||"object"!=typeof e)return e;const t=Array.isArray(e)?[]:{};for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=deepCopy(e[o]));return t}function getAbsolutePath(e){return path.isAbsolute(e)?path.normalize(e):path.resolve(e)}function getBase64(e,t){return"pdf"===t||"svg"==t?Buffer.from(e,"utf8").toString("base64"):e}function getNewDate(){return(new Date).toString().split("(")[0].trim()}function getNewDateTime(){return(new Date).getTime()}function isObject(e){return"[object Object]"===Object.prototype.toString.call(e)}function isObjectEmpty(e){return"object"==typeof e&&!Array.isArray(e)&&null!==e&&0===Object.keys(e).length}function isPrivateRangeUrlFound(e){return[/xlink:href="(?:http:\/\/|https:\/\/)?localhost\b/,/xlink:href="(?:http:\/\/|https:\/\/)?10\.\d{1,3}\.\d{1,3}\.\d{1,3}\b/,/xlink:href="(?:http:\/\/|https:\/\/)?127\.\d{1,3}\.\d{1,3}\.\d{1,3}\b/,/xlink:href="(?:http:\/\/|https:\/\/)?172\.(1[6-9]|2[0-9]|3[0-1])\.\d{1,3}\.\d{1,3}\b/,/xlink:href="(?:http:\/\/|https:\/\/)?192\.168\.\d{1,3}\.\d{1,3}\b/].some((t=>t.test(e)))}function measureTime(){const e=process.hrtime.bigint();return()=>Number(process.hrtime.bigint()-e)/1e6}function roundNumber(e,t=1){const o=Math.pow(10,t||0);return Math.round(+e*o)/o}const colors=["red","yellow","blue","gray","green"],logging={toConsole:!0,toFile:!1,pathCreated:!1,pathToLog:"",levelsDesc:[{title:"error",color:colors[0]},{title:"warning",color:colors[1]},{title:"notice",color:colors[2]},{title:"verbose",color:colors[3]},{title:"benchmark",color:colors[4]}]};function log(...e){const[t,...o]=e,{levelsDesc:r,level:n}=logging;if(5!==t&&(0===t||t>n||n>r.length))return;const i=`${getNewDate()} [${r[t-1].title}] -`;logging.toFile&&_logToFile(o,i),logging.toConsole&&console.log.apply(void 0,[i.toString()[logging.levelsDesc[t-1].color]].concat(o))}function logWithStack(e,t,o){const r=o||t&&t.message||"",{level:n,levelsDesc:i}=logging;if(0===e||e>n||n>i.length)return;const s=`${getNewDate()} [${i[e-1].title}] -`,a=t&&t.stack,l=[r];a&&l.push("\n",a),logging.toFile&&_logToFile(l,s),logging.toConsole&&console.log.apply(void 0,[s.toString()[logging.levelsDesc[e-1].color]].concat([l.shift()[colors[e-1]],...l]))}function initLogging(e){const{level:t,dest:o,file:r,toConsole:n,toFile:i}=e;logging.pathCreated=!1,logging.pathToLog="",setLogLevel(t),enableConsoleLogging(n),enableFileLogging(o,r,i)}function setLogLevel(e){Number.isInteger(e)&&e>=0&&e<=logging.levelsDesc.length&&(logging.level=e)}function enableConsoleLogging(e){logging.toConsole=!!e}function enableFileLogging(e,t,o){logging.toFile=!!o,logging.toFile&&(logging.dest=e||"log",logging.file=t||"highcharts-export-server.log")}function _logToFile(e,t){logging.pathCreated||(!fs.existsSync(getAbsolutePath(logging.dest))&&fs.mkdirSync(getAbsolutePath(logging.dest)),logging.pathToLog=getAbsolutePath(path.join(logging.dest,logging.file)),logging.pathCreated=!0),fs.appendFile(logging.pathToLog,[t].concat(e).join(" ")+"\n",(e=>{e&&logging.toFile&&logging.pathCreated&&(logging.toFile=!1,logging.pathCreated=!1,logWithStack(2,e,"[logger] Unable to write to log file."))}))}const globalOptions=_initOptions(defaultConfig),nestedProps=_createNestedProps(defaultConfig),absoluteProps=_createAbsoluteProps(defaultConfig);function getOptions(e=!0){return e?deepCopy(globalOptions):globalOptions}function updateOptions(e,t=!1){return _mergeOptions(getOptions(t),e)}function mapToNewOptions(e){const t={};if(isObject(e))for(const[o,r]of Object.entries(e)){const e=nestedProps[o]?nestedProps[o].split("."):[];e.reduce(((t,o,n)=>t[o]=e.length-1===n?r:t[o]||{}),t)}else log(2,"[config] No correct object with options was provided. Returning an empty object.");return t}function isAllowedConfig(config,toString=!1,allowFunctions=!1){try{if(!isObject(config)&&"string"!=typeof config)return null;const objectConfig="string"==typeof config?allowFunctions?eval(`(${config})`):JSON.parse(config):config,stringifiedOptions=_optionsStringify(objectConfig,allowFunctions,!1),parsedOptions=allowFunctions?JSON.parse(_optionsStringify(objectConfig,allowFunctions,!0),((_,value)=>"string"==typeof value&&value.startsWith("function")?eval(`(${value})`):value)):JSON.parse(stringifiedOptions);return toString?stringifiedOptions:parsedOptions}catch(e){return null}}function _initOptions(e){const t={};for(const[o,r]of Object.entries(e))Object.prototype.hasOwnProperty.call(r,"value")?void 0!==envs[r.envLink]&&null!==envs[r.envLink]?t[o]=envs[r.envLink]:t[o]=r.value:t[o]=_initOptions(r);return t}function _mergeOptions(e,t){if(isObject(e)&&isObject(t))for(const[o,r]of Object.entries(t))e[o]=isObject(r)&&!absoluteProps.includes(o)&&void 0!==e[o]?_mergeOptions(e[o],r):void 0!==r?r:e[o]||null;return e}function _optionsStringify(e,t,o){return JSON.stringify(e,((e,r)=>{if("string"==typeof r&&(r=r.trim()),"function"==typeof r||"string"==typeof r&&r.startsWith("function")&&r.endsWith("}")){if(t)return o?`"EXP_FUN${(r+"").replaceAll(/\s+/g," ")}EXP_FUN"`:`EXP_FUN${(r+"").replaceAll(/\s+/g," ")}EXP_FUN`;throw new Error}return r})).replaceAll(o?/\\"EXP_FUN|EXP_FUN\\"/g:/"EXP_FUN|EXP_FUN"/g,"")}function _createNestedProps(e,t={},o=""){return Object.keys(e).forEach((r=>{const n=e[r];void 0===n.value?_createNestedProps(n,t,`${o}.${r}`):(t[n.cliName||r]=`${o}.${r}`.substring(1),void 0!==n.legacyName&&(t[n.legacyName]=`${o}.${r}`.substring(1)))})),t}function _createAbsoluteProps(e,t=[]){return Object.keys(e).forEach((o=>{const r=e[o];void 0===r.types?_createAbsoluteProps(r,t):r.types.includes("Object")&&t.push(o)})),t}async function get$1(e,t={}){return new Promise(((o,r)=>{_getProtocolModule(e).get(e,t,(e=>{let t="";e.on("data",(e=>{t+=e})),e.on("end",(()=>{t||r("Nothing was fetched from the URL."),e.text=t,o(e)}))})).on("error",(e=>{r(e)}))}))}function _getProtocolModule(e){return e.startsWith("https")?https:http}class ExportError extends Error{constructor(e,t){super(),this.message=e,this.stackMessage=e,t&&(this.statusCode=t)}setError(e){return this.error=e,e.name&&(this.name=e.name),e.statusCode&&(this.statusCode=e.statusCode),e.stack&&(this.stackMessage=e.message,this.stack=e.stack),this}}const cache={cdnUrl:"https://code.highcharts.com",activeManifest:{},sources:"",hcVersion:""};async function checkCache(e,t){try{let o;const r=getCachePath(),n=path.join(r,"manifest.json"),i=path.join(r,"sources.js");if(!fs.existsSync(r)&&fs.mkdirSync(r,{recursive:!0}),!fs.existsSync(n)||e.forceFetch)log(3,"[cache] Fetching and caching Highcharts dependencies."),o=await _updateCache(e,t,i);else{let r=!1;const s=JSON.parse(fs.readFileSync(n),"utf8");if(s.modules&&Array.isArray(s.modules)){const e={};s.modules.forEach((t=>e[t]=1)),s.modules=e}const{coreScripts:a,moduleScripts:l,indicatorScripts:c}=e,p=a.length+l.length+c.length;s.version!==e.version?(log(2,"[cache] A Highcharts version mismatch in the cache, need to re-fetch."),r=!0):Object.keys(s.modules||{}).length!==p?(log(2,"[cache] The cache and the requested modules do not match, need to re-fetch."),r=!0):r=(l||[]).some((e=>{if(!s.modules[e])return log(2,`[cache] The ${e} is missing in the cache, need to re-fetch.`),!0})),r?o=await _updateCache(e,t,i):(log(3,"[cache] Dependency cache is up to date, proceeding."),cache.sources=fs.readFileSync(i,"utf8"),o=s.modules,cache.hcVersion=_extractHcVersion(cache.sources))}await _saveConfigToManifest(e.version,o)}catch(e){throw new ExportError("[cache] Could not configure cache and create or update the config manifest.",500).setError(e)}}function getHcVersion(){return cache.hcVersion}async function updateHcVersion(e){const t=updateOptions({highcharts:{version:e}});await checkCache(t.highcharts,t.server.proxy)}function getCachePath(){return getAbsolutePath(getOptions().highcharts.cachePath)}async function _saveConfigToManifest(e,t={}){cache.activeManifest={version:e,modules:t},log(3,"[cache] Writing a new manifest.");try{fs.writeFileSync(path.join(getCachePath(),"manifest.json"),JSON.stringify(cache.activeManifest),"utf8")}catch(e){throw new ExportError("[cache] Error writing the cache manifest.",500).setError(e)}}async function _updateCache(e,t,o){try{const r="latest"===e.version?null:`${e.version}`;log(3,`[cache] Updating cache version to Highcharts: ${r||"latest"}.`);const n=e.cdnUrl||cache.cdnUrl,i=_configureRequest(t),s={};return cache.sources=(await Promise.all([...e.coreScripts.map((e=>_fetchScript(r?`${n}/${r}/${e}`:`${n}/${e}`,i,s,!0))),...e.moduleScripts.map((e=>_fetchScript("map"===e?r?`${n}/maps/${r}/modules/${e}`:`${n}/maps/modules/${e}`:r?`${n}/${r}/modules/${e}`:`${n}/modules/${e}`,i,s))),...e.indicatorScripts.map((e=>_fetchScript(r?`${n}/stock/${r}/indicators/${e}`:`${n}/stock/indicators/${e}`,i,s))),...e.customScripts.map((e=>_fetchScript(`${e}`,i)))])).join(";\n"),cache.hcVersion=_extractHcVersion(cache.sources),fs.writeFileSync(o,cache.sources),s}catch(e){throw new ExportError("[cache] Unable to update the local Highcharts cache.",500).setError(e)}}async function _fetchScript(e,t,o,r=!1){e.endsWith(".js")&&(e=e.substring(0,e.length-3)),log(4,`[cache] Fetching script - ${e}.js`);const n=await get$1(`${e}.js`,t);if(200===n.statusCode&&"string"==typeof n.text){if(o){o[_extractModuleName(e)]=1}return n.text}if(r)throw new ExportError(`[cache] Could not fetch the ${e}.js. The script might not exist in the requested version (status code: ${n.statusCode}).`,404).setError(n);log(2,`[cache] Could not fetch the ${e}.js. The script might not exist in the requested version.`)}function _configureRequest(e){const t=e.host,o=e.port;if(t&&o)try{return{agent:new httpsProxyAgent.HttpsProxyAgent({host:t,port:o}),timeout:e.timeout}}catch(e){throw new ExportError("[cache] Could not create a Proxy Agent.",500).setError(e)}return{}}function _extractHcVersion(e){return e.substring(0,e.indexOf("*/")).replace("/*","").replace("*/","").replace(/\n/g,"").trim()}function _extractModuleName(e){return e.replace(/(.*)\/|(.*)modules\/|stock\/(.*)indicators\/|maps\/(.*)modules\//gi,"")}function setupHighcharts(){Highcharts.animObject=function(){return{duration:0}}}async function createChart(e,t){const{getOptions:o,setOptions:r,merge:n,wrap:i}=Highcharts;Highcharts.setOptionsObj=n(!1,{},o()),window.isRenderComplete=!1,i(Highcharts.Chart.prototype,"init",(function(e,t,o){((t=n(t,{exporting:{enabled:!1},plotOptions:{series:{label:{enabled:!1}}},tooltip:{}})).series||[]).forEach((function(e){e.animation=!1})),window.onHighchartsRender||(window.onHighchartsRender=Highcharts.addEvent(this,"render",(()=>{window.isRenderComplete=!0}))),e.apply(this,[t,o])})),i(Highcharts.Series.prototype,"init",(function(e,t,o){e.apply(this,[t,o])}));const s={chart:{animation:!1,height:e.height,width:e.width},exporting:{enabled:!1}},a=new Function(`return ${e.instr}`)(),l=new Function(`return ${e.themeOptions}`)(),c=n(!1,l,a,s),p=t.callback?new Function(`return ${t.callback}`)():null;t.customCode&&new Function("options",t.customCode)(a);const u=new Function(`return ${e.globalOptions}`)();u&&r(u),Highcharts[e.constr]("container",c,p);const g=Array.from(document.querySelectorAll(".highcharts-container image"));await Promise.race([Promise.all(g.map((e=>e.complete&&0!==e.naturalHeight?Promise.resolve():new Promise((t=>e.addEventListener("load",t,{once:!0})))))),new Promise((e=>setTimeout(e,2e3)))]);const d=o();for(const e in d)"function"!=typeof d[e]&&delete d[e];r(Highcharts.setOptionsObj),Highcharts.setOptionsObj={}}const pageTemplate=fs.readFileSync(path.join(__dirname$1,"templates","template.html"),"utf8");let browser=null;async function createBrowser(e){const{debug:t,other:o}=getOptions(),{enable:r,...n}=t,i={headless:!o.browserShellMode||"shell",userDataDir:"tmp",args:e||[],handleSIGINT:!1,handleSIGTERM:!1,handleSIGHUP:!1,waitForInitialPage:!1,defaultViewport:null,...r&&n};if(!browser){let e=0;const t=async()=>{try{log(3,`[browser] Attempting to launch and get a browser instance (try ${++e}).`),browser=await puppeteer.launch(i)}catch(o){if(logWithStack(1,o,"[browser] Failed to launch a browser instance."),!(e<25))throw o;log(3,`[browser] Retry to open a browser (${e} out of 25).`),await new Promise((e=>setTimeout(e,4e3))),await t()}};try{await t(),"shell"===i.headless&&log(3,"[browser] Launched browser in shell mode."),r&&log(3,"[browser] Launched browser in debug mode.")}catch(e){throw new ExportError("[browser] Maximum retries to open a browser instance reached.",500).setError(e)}if(!browser)throw new ExportError("[browser] Cannot find a browser to open.",500)}return browser}async function closeBrowser(){browser&&browser.connected&&await browser.close(),browser=null,log(4,"[browser] Closed the browser.")}async function newPage(e){if(!browser||!browser.connected)throw new ExportError("[browser] Browser is not yet connected.",500);if(e.page=await browser.newPage(),await e.page.setCacheEnabled(!1),await _setPageContent(e.page),_setPageEvents(e.page),!e.page||e.page.isClosed())throw new ExportError("[browser] The page is invalid or closed.",400)}async function clearPage(e,t=!1){try{if(e.page&&!e.page.isClosed())return t?(await e.page.goto("about:blank",{waitUntil:"domcontentloaded"}),await _setPageContent(e.page)):await e.page.evaluate((()=>{document.body.innerHTML='<div id="chart-container"><div id="container"></div></div>'})),!0}catch(t){logWithStack(2,t,`[pool] Pool resource [${e.id}] - Content of the page could not be cleared.`),e.workCount=getOptions().pool.workLimit+1}return!1}async function addPageResources(e,t){const o=[],r=t.resources;if(r){const n=[];if(r.js&&n.push({content:r.js}),r.files)for(const e of r.files){const t=!e.startsWith("http");n.push(t?{content:fs.readFileSync(getAbsolutePath(e),"utf8")}:{url:e})}for(const t of n)try{o.push(await e.addScriptTag(t))}catch(e){logWithStack(2,e,"[browser] The JS resource cannot be loaded.")}n.length=0;const i=[];if(r.css){const n=r.css.match(/@import\s*([^;]*);/g);if(n)for(let e of n)e&&(e=e.replace("url(","").replace("@import","").replace(/"/g,"").replace(/'/g,"").replace(/;/,"").replace(/\)/g,"").trim(),e.startsWith("http")?i.push({url:e}):t.allowFileResources&&i.push({path:getAbsolutePath(e)}));i.push({content:r.css.replace(/@import\s*([^;]*);/g,"")||" "});for(const t of i)try{o.push(await e.addStyleTag(t))}catch(e){logWithStack(2,e,"[browser] The CSS resource cannot be loaded.")}i.length=0}}return o}async function clearPageResources(e,t){try{for(const e of t)await e.dispose();await e.evaluate((()=>{if("undefined"!=typeof Highcharts){const e=Highcharts.charts;if(Array.isArray(e)&&e.length)for(const t of e)t&&t.destroy(),Highcharts.charts.shift()}const[...e]=document.getElementsByTagName("script"),[,...t]=document.getElementsByTagName("style"),[...o]=document.getElementsByTagName("link");for(const r of[...e,...t,...o])r.remove()}))}catch(e){logWithStack(2,e,"[browser] Could not clear page's resources.")}}async function _setPageContent(e){await e.setContent(pageTemplate,{waitUntil:"domcontentloaded"}),await e.addScriptTag({path:path.join(getCachePath(),"sources.js")}),await e.evaluate(setupHighcharts)}function _setPageEvents(e){const{debug:t}=getOptions();e.on("pageerror",(async()=>{e.isClosed()})),t.enable&&t.listenToConsole&&e.on("console",(e=>{console.log(`[debug] ${e.text()}`)}))}var cssTemplate=()=>"\n\nhtml, body {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\n#table-div, #sliders, #datatable, #controls, .ld-row {\n  display: none;\n  height: 0;\n}\n\n#chart-container {\n  box-sizing: border-box;\n  margin: 0;\n  overflow: auto;\n  font-size: 0;\n}\n\n#chart-container > figure, div {\n  margin-top: 0 !important;\n  margin-bottom: 0 !important;\n}\n\n",svgTemplate=e=>`\n<!DOCTYPE html>\n<html lang='en-US'>\n  <head>\n    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">\n    <title>Highcharts Export</title>\n  </head>\n  <style>\n    ${cssTemplate()}\n  </style>\n  <body>\n    <div id="chart-container">\n      ${e}\n    </div>\n  </body>\n</html>\n\n`;async function puppeteerExport(e,t,o){const r=[];try{let n=!1;if(t.svg){if(log(4,"[export] Treating as SVG input."),"svg"===t.type)return t.svg;n=!0,await e.setContent(svgTemplate(t.svg),{waitUntil:"domcontentloaded"})}else log(4,"[export] Treating as JSON config."),await e.evaluate(createChart,t,o);r.push(...await addPageResources(e,o));const i=await _getChartSize(e,n,t.scale),{x:s,y:a}=await _getClipRegion(e),l=Math.abs(Math.ceil(i.chartHeight||t.height)),c=Math.abs(Math.ceil(i.chartWidth||t.width));let p;switch(await e.setViewport({height:l,width:c,deviceScaleFactor:n?1:parseFloat(t.scale)}),t.type){case"svg":p=await _createSVG(e);break;case"png":case"jpeg":p=await _createImage(e,t.type,{width:c,height:l,x:s,y:a},t.rasterizationTimeout);break;case"pdf":p=await _createPDF(e,l,c,t.rasterizationTimeout);break;default:throw new ExportError(`[export] Unsupported output format: ${t.type}.`,400)}return await clearPageResources(e,r),p}catch(t){return await clearPageResources(e,r),t}}async function _getClipRegion(e){return e.$eval("#chart-container",(e=>{const{x:t,y:o,width:r,height:n}=e.getBoundingClientRect();return{x:t,y:o,width:r,height:Math.trunc(n>1?n:500)}}))}async function _getChartSize(e,t,o){return t?await e.evaluate((e=>{const t=document.querySelector("#chart-container svg:first-of-type"),o=t.height.baseVal.value*e,r=t.width.baseVal.value*e;return document.body.style.zoom=e,document.body.style.margin="0px",{chartHeight:o,chartWidth:r}}),parseFloat(o)):await e.evaluate((()=>{const{chartHeight:e,chartWidth:t}=window.Highcharts.charts[0];return document.body.style.zoom=1,{chartHeight:e,chartWidth:t}}))}async function _createSVG(e){return e.$eval("#container svg:first-of-type",(e=>e.outerHTML))}async function _createImage(e,t,o,r){return Promise.race([e.screenshot({type:t,clip:o,encoding:"base64",fullPage:!1,optimizeForSpeed:!0,captureBeyondViewport:!0,..."png"!==t?{quality:80}:{},omitBackground:"png"==t}),new Promise(((e,t)=>setTimeout((()=>t(new ExportError("Rasterization timeout",408))),r||1500)))])}async function _createPDF(e,t,o,r){return await e.emulateMediaType("screen"),e.pdf({height:t+1,width:o,encoding:"base64",timeout:r||1500})}let pool=null;const poolStats={exportsAttempted:0,exportsPerformed:0,exportsDropped:0,exportsFromSvg:0,exportsFromOptions:0,exportsFromSvgAttempts:0,exportsFromOptionsAttempts:0,timeSpent:0,timeSpentAverage:0};async function initPool(e,t){await createBrowser(t);try{if(log(3,`[pool] Initializing pool with workers: min ${e.minWorkers}, max ${e.maxWorkers}.`),pool)return void log(4,"[pool] Already initialized, please kill it before creating a new one.");e.minWorkers>e.maxWorkers&&(e.minWorkers=e.maxWorkers),pool=new tarn.Pool({..._factory(e),min:e.minWorkers,max:e.maxWorkers,acquireTimeoutMillis:e.acquireTimeout,createTimeoutMillis:e.createTimeout,destroyTimeoutMillis:e.destroyTimeout,idleTimeoutMillis:e.idleTimeout,createRetryIntervalMillis:e.createRetryInterval,reapIntervalMillis:e.reaperInterval,propagateCreateError:!1}),pool.on("release",(async e=>{const t=await clearPage(e,!1);log(4,`[pool] Pool resource [${e.id}] - Releasing a worker. Clear page status: ${t}.`)})),pool.on("destroySuccess",((e,t)=>{log(4,`[pool] Pool resource [${t.id}] - Destroyed a worker successfully.`),t.page=null}));const t=[];for(let o=0;o<e.minWorkers;o++)try{const e=await pool.acquire().promise;t.push(e)}catch(e){logWithStack(2,e,"[pool] Could not create an initial resource.")}t.forEach((e=>{pool.release(e)})),log(3,"[pool] The pool is ready"+(t.length?` with ${t.length} initial resources waiting.`:"."))}catch(e){throw new ExportError("[pool] Could not configure and create the pool of workers.",500).setError(e)}}async function killPool(){if(log(3,"[pool] Killing pool with all workers and closing browser."),pool){for(const e of pool.used)pool.release(e.resource);pool.destroyed||(await pool.destroy(),log(4,"[pool] Destroyed the pool of resources.")),pool=null}await closeBrowser()}async function postWork(e){let t;try{if(log(4,"[pool] Work received, starting to process."),++poolStats.exportsAttempted,e.pool.benchmarking&&_getPoolInfo(),!pool)throw new ExportError("[pool] Work received, but pool has not been started.",500);const o=measureTime();try{log(4,"[pool] Acquiring a worker handle."),t=await pool.acquire().promise,e.server.benchmarking&&log(5,"[benchmark] "+(e.requestId?`Request [${e.requestId}] - `:""),`Acquiring a worker handle took ${o()}ms.`)}catch(t){throw new ExportError(`[pool] ${e.requestId?`Request [${e.requestId}] - `:""}Error encountered when acquiring an available entry: ${o()}ms.`,400).setError(t)}if(log(4,"[pool] Acquired a worker handle."),!t.page)throw t.workCount=e.pool.workLimit+1,new ExportError("[pool] Resolved worker page is invalid: the pool setup is wonky.",400);log(4,`[pool] Pool resource [${t.id}] - Starting work on this pool entry.`);const r=measureTime(),n=await puppeteerExport(t.page,e.export,e.customLogic);if(n instanceof Error)throw"Rasterization timeout"===n.message&&(t.workCount=e.pool.workLimit+1,t.page=null),"TimeoutError"===n.name||"Rasterization timeout"===n.message?new ExportError(`[pool] ${e.requestId?`Request [${e.requestId}] - `:""}Rasterization timeout: your chart may be too complex or large, and failed to render within the allotted time.`).setError(n):new ExportError(`[pool] ${e.requestId?`Request [${e.requestId}] - `:""}Error encountered during export: ${r()}ms.`).setError(n);return e.server.benchmarking&&log(5,"[benchmark] "+(e.requestId?`Request [${e.requestId}] - `:""),`Exporting a chart sucessfully took ${r()}ms.`),pool.release(t),poolStats.timeSpent+=r(),poolStats.timeSpentAverage=poolStats.timeSpent/++poolStats.exportsPerformed,log(4,`[pool] Work completed in ${r()}ms.`),{result:n,options:e}}catch(e){throw++poolStats.exportsDropped,t&&pool.release(t),e}}function getPoolStats(){return poolStats}function getPoolInfoJSON(){return{min:pool.min,max:pool.max,used:pool.numUsed(),available:pool.numFree(),allCreated:pool.numUsed()+pool.numFree(),pendingAcquires:pool.numPendingAcquires(),pendingCreates:pool.numPendingCreates(),pendingValidations:pool.numPendingValidations(),pendingDestroys:pool.pendingDestroys.length,absoluteAll:pool.numUsed()+pool.numFree()+pool.numPendingAcquires()+pool.numPendingCreates()+pool.numPendingValidations()+pool.pendingDestroys.length}}function _getPoolInfo(){const{min:e,max:t,used:o,available:r,allCreated:n,pendingAcquires:i,pendingCreates:s,pendingValidations:a,pendingDestroys:l,absoluteAll:c}=getPoolInfoJSON();log(5,`[pool] The minimum number of resources allowed by pool: ${e}.`),log(5,`[pool] The maximum number of resources allowed by pool: ${t}.`),log(5,`[pool] The number of used resources: ${o}.`),log(5,`[pool] The number of free resources: ${r}.`),log(5,`[pool] The number of all created (used and free) resources: ${n}.`),log(5,`[pool] The number of resources waiting to be acquired: ${i}.`),log(5,`[pool] The number of resources waiting to be created: ${s}.`),log(5,`[pool] The number of resources waiting to be validated: ${a}.`),log(5,`[pool] The number of resources waiting to be destroyed: ${l}.`),log(5,`[pool] The number of all resources: ${c}.`)}function _factory(e){return{create:async()=>{const t={id:uuid.v4(),workCount:Math.round(Math.random()*(e.workLimit/2))};try{const e=getNewDateTime();return await newPage(t),log(3,`[pool] Pool resource [${t.id}] - Successfully created a worker, took ${getNewDateTime()-e}ms.`),t}catch(e){throw log(3,`[pool] Pool resource [${t.id}] - Error encountered when creating a new page.`),e}},validate:async t=>t.page?t.page.isClosed()?(log(3,`[pool] Pool resource [${t.id}] - Validation failed (page is closed or invalid).`),!1):t.page.mainFrame().detached?(log(3,`[pool] Pool resource [${t.id}] - Validation failed (page's frame is detached).`),!1):!(e.workLimit&&++t.workCount>e.workLimit)||(log(3,`[pool] Pool resource [${t.id}] - Validation failed (exceeded the ${e.workLimit} works per resource limit).`),!1):(log(3,`[pool] Pool resource [${t.id}] - Validation failed (no valid page is found).`),!1),destroy:async e=>{if(log(3,`[pool] Pool resource [${e.id}] - Destroying a worker.`),e.page&&!e.page.isClosed())try{e.page.removeAllListeners("pageerror"),e.page.removeAllListeners("console"),e.page.removeAllListeners("framedetached"),await e.page.close()}catch(t){throw log(3,`[pool] Pool resource [${e.id}] - Page could not be closed upon destroying.`),t}}}}function sanitize(e){const t=new jsdom.JSDOM("").window;return DOMPurify(t).sanitize(e,{ADD_TAGS:["foreignObject"]})}let allowCodeExecution=!1;async function singleExport(e){if(!e||!e.export)throw new ExportError("[chart] No expected `export` options were found. Please provide one of the following options: `infile`, `instr`, `options`, or `svg` to generate a valid image.",400);await startExport({export:e.export,customLogic:e.customLogic},(async(e,t)=>{if(e)throw e;const{b64:o,outfile:r,type:n}=t.options.export;try{o?fs.writeFileSync(`${r.split(".").shift()||"chart"}.txt`,getBase64(t.result,n)):fs.writeFileSync(r||`chart.${n}`,"svg"!==n?Buffer.from(t.result,"base64"):t.result)}catch(e){throw new ExportError("[chart] Error while saving a chart.",500).setError(e)}await killPool()}))}async function batchExport(e){if(!(e&&e.export&&e.export.batch))throw new ExportError("[chart] No expected `export` options were found. Please provide the `batch` option to generate valid images.",400);{const t=[];for(let o of e.export.batch.split(";")||[])o=o.split("="),2===o.length?t.push(startExport({export:{...e.export,infile:o[0],outfile:o[1]},customLogic:e.customLogic},((e,t)=>{if(e)throw e;const{b64:o,outfile:r,type:n}=t.options.export;try{o?fs.writeFileSync(`${r.split(".").shift()||"chart"}.txt`,getBase64(t.result,n)):fs.writeFileSync(r,"svg"!==n?Buffer.from(t.result,"base64"):t.result)}catch(e){throw new ExportError("[chart] Error while saving a chart.",500).setError(e)}}))):log(2,"[chart] No correct pair found for the batch export.");const o=await Promise.allSettled(t);await killPool(),o.forEach(((e,t)=>{e.reason&&logWithStack(1,e.reason,`[chart] Batch export number ${t+1} could not be correctly completed.`)}))}}async function startExport(e,t){try{if(!isObject(e))throw new ExportError("[chart] Incorrect value of the provided `imageOptions`. Needs to be an object.",400);const o=updateOptions({export:e.export,customLogic:e.customLogic},!0),r=o.export;if(log(4,"[chart] Starting the exporting process."),null!==r.infile){let e;log(4,"[chart] Attempting to export from a file input.");try{e=fs.readFileSync(getAbsolutePath(r.infile),"utf8")}catch(e){throw new ExportError("[chart] Error loading content from a file input.",400).setError(e)}if(r.infile.endsWith(".svg"))r.svg=e;else{if(!r.infile.endsWith(".json"))throw new ExportError("[chart] Incorrect value of the `infile` option.",400);r.instr=e}}if(null!==r.svg){log(4,"[chart] Attempting to export from an SVG input."),++getPoolStats().exportsFromSvgAttempts;const e=await _exportFromSvg(sanitize(r.svg),o);return++getPoolStats().exportsFromSvg,t(null,e)}if(null!==r.instr||null!==r.options){log(4,"[chart] Attempting to export from options input."),++getPoolStats().exportsFromOptionsAttempts;const e=await _exportFromOptions(r.instr||r.options,o);return++getPoolStats().exportsFromOptions,t(null,e)}return t(new ExportError("[chart] No valid input specified. Check if at least one of the following parameters is correctly set: 'infile', 'instr', 'options', or 'svg'.",400))}catch(e){return t(e)}}function getAllowCodeExecution(){return allowCodeExecution}function setAllowCodeExecution(e){allowCodeExecution=e}async function _exportFromSvg(e,t){if("string"==typeof e&&(e.indexOf("<svg")>=0||e.indexOf("<?xml")>=0))return log(4,"[chart] Parsing input as SVG."),t.export.svg=e,t.export.options=null,t.export.instr=null,_prepareExport(t);throw new ExportError("[chart] Not a correct SVG input.",400)}async function _exportFromOptions(e,t){log(4,"[chart] Parsing input from options.");const o=isAllowedConfig(e,!0,t.customLogic.allowCodeExecution);if(null===o||"string"!=typeof o||!o.startsWith("{")||!o.endsWith("}"))throw new ExportError("[chart] Invalid configuration provided - Only options configurations and SVG are allowed for this server. If this is your server, JavaScript custom code can be enabled by starting the server with the `allowCodeExecution` options set to true.",403);return t.export.instr=o,t.export.options=null,t.export.svg=null,_prepareExport(t)}async function _prepareExport(e){const{export:t,customLogic:o}=e;return t.constr=_fixConstr(t.constr),t.type=_fixType(t.type,t.outfile),t.outfile=_fixOutfile(t.type,t.outfile),log(3,`[chart] The custom logic is ${o.allowCodeExecution?"allowed":"disallowed"}.`),_handleCustomLogic(o),_handleGlobalAndTheme(t,o),_handleSize(t),_checkDataSize({export:t,customLogic:o}),postWork(e)}function _fixConstr(e){try{const t=`${e.toLowerCase().replace("chart","")}Chart`;return"Chart"===t&&t.toLowerCase(),["chart","stockChart","mapChart","ganttChart"].includes(t)?t:"chart"}catch{return"chart"}}function _fixOutfile(e,t){return`${getAbsolutePath(t||"chart").split(".").shift()}.${e||"png"}`}function _fixType(e,t=null){const o={"image/png":"png","image/jpeg":"jpeg","application/pdf":"pdf","image/svg+xml":"svg"},r=Object.values(o);if(t){const o=t.split(".").pop();"jpg"===o?e="jpeg":r.includes(o)&&e!==o&&(e=o)}return o[e]||r.find((t=>t===e))||"png"}function _handleSize(e){const{chart:t,exporting:o}=isAllowedConfig(e.instr)||!1,{chart:r,exporting:n}=isAllowedConfig(e.globalOptions)||!1,{chart:i,exporting:s}=isAllowedConfig(e.themeOptions)||!1,a=e.height||o?.sourceHeight||t?.height||n?.sourceHeight||r?.height||s?.sourceHeight||i?.height||e.defaultHeight||400,l=e.width||o?.sourceWidth||t?.width||n?.sourceWidth||r?.width||s?.sourceWidth||i?.width||e.defaultWidth||600,c=roundNumber(Math.max(.1,Math.min(e.scale||o?.scale||n?.scale||s?.scale||e.defaultScale||1,5)),2);e.height=a,e.width=l,e.scale=c;for(let t of["height","width","scale"])"string"==typeof e[t]&&(e[t]=+e[t].replace(/px|%/gi,""))}function _handleCustomLogic(e){if(e.allowCodeExecution){try{e.resources=_handleResources(e.resources,e.allowFileResources,!0)}catch(t){log(2,"[chart] The `resources` cannot be loaded."),e.resources=null}try{e.customCode=_handleCustomCode(e.customCode,e.allowFileResources)}catch(t){logWithStack(2,t,"[chart] The `customCode` cannot be loaded."),e.customCode=null}try{e.callback=_handleCustomCode(e.callback,e.allowFileResources,!0)}catch(t){logWithStack(2,t,"[chart] The `callback` cannot be loaded."),e.callback=null}[null,void 0].includes(e.customCode)&&log(3,"[chart] No value for the `customCode` option found."),[null,void 0].includes(e.callback)&&log(3,"[chart] No value for the `callback` option found."),[null,void 0].includes(e.resources)&&log(3,"[chart] No value for the `resources` option found.")}else if(e.callback||e.resources||e.customCode)throw e.callback=null,e.resources=null,e.customCode=null,new ExportError("[chart] The 'callback', 'resources', and 'customCode' options have been disabled for this server.",403)}function _handleResources(e=null,t,o){let r=e;r||(e="resources.json");const n=["js","css","files"];let i=!1;t&&"string"==typeof e&&e.endsWith(".json")?r=isAllowedConfig(fs.readFileSync(getAbsolutePath(e),"utf8"),!1,o):(r=isAllowedConfig(e,!1,o),r&&!t&&delete r.files);for(const e in r)n.includes(e)?i||(i=!0):delete r[e];return i?(r.files&&(r.files=r.files.map((e=>e.trim())),(!r.files||r.files.length<=0)&&delete r.files),r):null}function _handleCustomCode(e,t,o=!1){if(e&&"string"==typeof e)return(e=e.trim()).endsWith(".js")?t?_handleCustomCode(fs.readFileSync(getAbsolutePath(e),"utf8"),t,o):null:!o&&(e.startsWith("function()")||e.startsWith("function ()")||e.startsWith("()=>")||e.startsWith("() =>"))?`(${e})()`:e.replace(/;$/,"")}function _handleGlobalAndTheme(e,t){const{allowFileResources:o,allowCodeExecution:r}=t;["globalOptions","themeOptions"].forEach((t=>{try{e[t]&&(o&&"string"==typeof e[t]&&e[t].endsWith(".json")?e[t]=isAllowedConfig(fs.readFileSync(getAbsolutePath(e[t]),"utf8"),!0,r):e[t]=isAllowedConfig(e[t],!0,r))}catch(o){logWithStack(2,o,`[chart] The \`${t}\` cannot be loaded.`),e[t]=null}})),[null,void 0].includes(e.globalOptions)&&log(3,"[chart] No value for the `globalOptions` option found."),[null,void 0].includes(e.themeOptions)&&log(3,"[chart] No value for the `themeOptions` option found.")}function _checkDataSize(e){const t=Buffer.byteLength(JSON.stringify(e),"utf-8");if(log(3,`[chart] The current total size of the data for the export process is around ${(t/1048576).toFixed(2)}MB.`),t>=104857600)throw new ExportError("[chart] The data for the export process exceeds 100MB limit.")}const timerIds=[];function addTimer(e){timerIds.push(e)}function clearAllTimers(){log(4,"[timer] Clearing all registered intervals and timeouts.");for(const e of timerIds)clearInterval(e),clearTimeout(e)}function logErrorMiddleware(e,t,o,r){return logWithStack(1,e),"development"!==getOptions().other.nodeEnv&&delete e.stack,r(e)}function returnErrorMiddleware(e,t,o,r){const{message:n,stack:i}=e,s=e.statusCode||400;o.status(s).json({statusCode:s,message:n,stack:i})}function errorMiddleware(e){e.use(logErrorMiddleware),e.use(returnErrorMiddleware)}function rateLimitingMiddleware(e,t){try{if(e&&t.enable){const o="Too many requests, you have been rate limited. Please try again later.",r={window:t.window||1,maxRequests:t.maxRequests||30,delay:t.delay||0,trustProxy:t.trustProxy||!1,skipKey:t.skipKey||null,skipToken:t.skipToken||null};r.trustProxy&&e.enable("trust proxy");const n=rateLimit({windowMs:60*r.window*1e3,limit:r.maxRequests,delayMs:r.delay,handler:(e,t)=>{t.format({json:()=>{t.status(429).send({message:o})},default:()=>{t.status(429).send(o)}})},skip:e=>null!==r.skipKey&&null!==r.skipToken&&e.query.key===r.skipKey&&e.query.access_token===r.skipToken&&(log(4,"[rate limiting] Skipping rate limiter."),!0)});e.use(n),log(3,`[rate limiting] Enabled rate limiting with ${r.maxRequests} requests per ${r.window} minute for each IP, trusting proxy: ${r.trustProxy}.`)}}catch(e){throw new ExportError("[rate limiting] Could not configure and set the rate limiting options.",500).setError(e)}}function contentTypeMiddleware(e,t,o){try{const t=e.headers["content-type"]||"";if(!t.includes("application/json")&&!t.includes("application/x-www-form-urlencoded")&&!t.includes("multipart/form-data"))throw new ExportError("[validation] Content-Type must be application/json, application/x-www-form-urlencoded, or multipart/form-data.",415);return o()}catch(e){return o(e)}}function requestBodyMiddleware(e,t,o){try{const t=e.body,r=uuid.v4();if(!t||isObjectEmpty(t))throw log(2,`[validation] Request [${r}] - The request from ${e.headers["x-forwarded-for"]||e.connection.remoteAddress} was incorrect. Received payload is empty.`),new ExportError(`[validation] Request [${r}] - The request body is required. Please ensure that your Content-Type header is correct. Accepted types are 'application/json' and 'multipart/form-data'.`,400);const n=getAllowCodeExecution(),i=isAllowedConfig(t.instr||t.options||t.infile||t.data,!0,n);if(null===i&&!t.svg)throw log(2,`[validation] Request [${r}] - The request from ${e.headers["x-forwarded-for"]||e.connection.remoteAddress} was incorrect. Received payload is missing correct chart data for export: ${JSON.stringify(t)}.`),new ExportError(`[validation] Request [${r}] - No correct chart data found. Ensure that you are using either application/json or multipart/form-data headers. If sending JSON, make sure the chart data is in the 'infile', 'options', or 'data' attribute. If sending SVG, ensure it is in the 'svg' attribute.`,400);if(t.svg&&isPrivateRangeUrlFound(t.svg))throw new ExportError(`[validation] Request [${r}] - SVG potentially contain at least one forbidden URL in 'xlink:href' element. Please review the SVG content and ensure that all referenced URLs comply with security policies.`,400);return e.validatedOptions={requestId:r,export:{instr:i,svg:t.svg,outfile:t.outfile||`${e.params.filename||"chart"}.${t.type||"png"}`,type:t.type,constr:t.constr,b64:t.b64,noDownload:t.noDownload,height:t.height,width:t.width,scale:t.scale,globalOptions:isAllowedConfig(t.globalOptions,!0,n),themeOptions:isAllowedConfig(t.themeOptions,!0,n)},customLogic:{allowCodeExecution:n,allowFileResources:!1,customCode:t.customCode,callback:t.callback,resources:isAllowedConfig(t.resources,!0,n)}},o()}catch(e){return o(e)}}function validationMiddleware(e){e.post(["/","/:filename"],contentTypeMiddleware),e.post(["/","/:filename"],requestBodyMiddleware)}const reversedMime={png:"image/png",jpeg:"image/jpeg",gif:"image/gif",pdf:"application/pdf",svg:"image/svg+xml"};async function requestExport(e,t,o){try{const o=measureTime();let r=!1;e.socket.on("close",(e=>{e&&(r=!0)}));const n=e.validatedOptions,i=n.requestId;log(4,`[export] Request [${i}] - Got an incoming HTTP request.`),await startExport(n,((n,s)=>{if(e.socket.removeAllListeners("close"),r)log(3,`[export] Request [${i}] - The client closed the connection before the chart finished processing.`);else{if(n)throw n;if(!s||!s.result)throw log(2,`[export] Request [${i}] - Request from ${e.headers["x-forwarded-for"]||e.connection.remoteAddress} was incorrect. Received result is ${s.result}.`),new ExportError(`[export] Request [${i}] - Unexpected return of the export result from the chart generation. Please check your request data.`,400);if(s.result){log(3,`[export] Request [${i}] - The whole exporting process took ${o()}ms.`);const{type:e,b64:r,noDownload:n,outfile:a}=s.options.export;return r?t.send(getBase64(s.result,e)):(t.header("Content-Type",reversedMime[e]||"image/png"),n||t.attachment(a),"svg"===e?t.send(s.result):t.send(Buffer.from(s.result,"base64")))}}}))}catch(e){return o(e)}}function exportRoutes(e){e.post("/",requestExport),e.post("/:filename",requestExport)}const serverStartTime=new Date,packageFile=JSON.parse(fs.readFileSync(path.join(__dirname$1,"package.json"),"utf8")),successRates=[],recordInterval=6e4,windowSize=30;function _calculateMovingAverage(){return successRates.reduce(((e,t)=>e+t),0)/successRates.length}function _startSuccessRate(){return setInterval((()=>{const e=getPoolStats(),t=0===e.exportsAttempted?1:e.exportsPerformed/e.exportsAttempted*100;successRates.push(t),successRates.length>windowSize&&successRates.shift()}),recordInterval)}function healthRoutes(e){addTimer(_startSuccessRate()),e.get("/health",((e,t,o)=>{try{log(4,"[health] Returning server health.");const e=getPoolStats(),o=successRates.length,r=_calculateMovingAverage();t.send({status:"OK",bootTime:serverStartTime,uptime:`${Math.floor((getNewDateTime()-serverStartTime.getTime())/1e3/60)} minutes`,serverVersion:packageFile.version,highchartsVersion:getHcVersion(),averageExportTime:e.timeSpentAverage,attemptedExports:e.exportsAttempted,performedExports:e.exportsPerformed,failedExports:e.exportsDropped,sucessRatio:e.exportsPerformed/e.exportsAttempted*100,pool:getPoolInfoJSON(),period:o,movingAverage:r,message:isNaN(r)||!successRates.length?"Too early to report. No exports made yet. Please check back soon.":`Last ${o} minutes had a success rate of ${r.toFixed(2)}%.`,svgExports:e.exportsFromSvg,jsonExports:e.exportsFromOptions,svgExportsAttempts:e.exportsFromSvgAttempts,jsonExportsAttempts:e.exportsFromOptionsAttempts})}catch(e){return o(e)}}))}function uiRoutes(e){getOptions().ui.enable&&e.get(getOptions().ui.route||"/",((e,t,o)=>{try{log(4,"[ui] Returning UI for the export."),t.sendFile(path.join(__dirname$1,"public","index.html"),{acceptRanges:!1})}catch(e){return o(e)}}))}function versionChangeRoutes(e){e.post("/version_change/:newVersion",(async(e,t,o)=>{try{log(4,"[version] Changing Highcharts version.");const o=envs.HIGHCHARTS_ADMIN_TOKEN;if(!o||!o.length)throw new ExportError("[version] The server is not configured to perform run-time version changes: `HIGHCHARTS_ADMIN_TOKEN` is not set.",401);const r=e.get("hc-auth");if(!r||r!==o)throw new ExportError("[version] Invalid or missing token: Set the token in the hc-auth header.",401);const n=e.params.newVersion;if(!n)throw new ExportError("[version] No new version supplied.",400);try{await updateHcVersion(n)}catch(e){throw new ExportError(`[version] Version change: ${e.message}`,400).setError(e)}t.status(200).send({statusCode:200,highchartsVersion:getHcVersion(),message:`Successfully updated Highcharts to version: ${n}.`})}catch(e){return o(e)}}))}const activeServers=new Map,app=express();async function startServer(e){try{const t=updateOptions({server:e});if(!(e=t.server).enable||!app)throw new ExportError("[server] Server cannot be started (not enabled or no correct Express app found).",500);const o=1024*e.uploadLimit*1024,r=multer.memoryStorage(),n=multer({storage:r,limits:{fieldSize:o}});if(app.disable("x-powered-by"),app.use(cors({methods:["POST","GET","OPTIONS"]})),app.use(((e,t,o)=>{t.set("Accept-Ranges","none"),o()})),app.use(express.json({limit:o})),app.use(express.urlencoded({extended:!0,limit:o})),app.use(n.none()),app.use(express.static(path.join(__dirname$1,"public"))),!e.ssl.force){const t=http.createServer(app);_attachServerErrorHandlers(t),t.listen(e.port,e.host,(()=>{activeServers.set(e.port,t),log(3,`[server] Started HTTP server on ${e.host}:${e.port}.`)}))}if(e.ssl.enable){let t,o;try{t=fs.readFileSync(path.join(getAbsolutePath(e.ssl.certPath),"server.key"),"utf8"),o=fs.readFileSync(path.join(getAbsolutePath(e.ssl.certPath),"server.crt"),"utf8")}catch(t){log(2,`[server] Unable to load key/certificate from the '${e.ssl.certPath}' path. Could not run secured layer server.`)}if(t&&o){const r=https.createServer({key:t,cert:o},app);_attachServerErrorHandlers(r),r.listen(e.ssl.port,e.host,(()=>{activeServers.set(e.ssl.port,r),log(3,`[server] Started HTTPS server on ${e.host}:${e.ssl.port}.`)}))}}rateLimitingMiddleware(app,e.rateLimiting),validationMiddleware(app),exportRoutes(app),healthRoutes(app),uiRoutes(app),versionChangeRoutes(app),errorMiddleware(app)}catch(e){throw new ExportError("[server] Could not configure and start the server.",500).setError(e)}}function closeServers(){if(activeServers.size>0){log(4,"[server] Closing all servers.");for(const[e,t]of activeServers)t.close((()=>{activeServers.delete(e),log(4,`[server] Closed server on port: ${e}.`)}))}}function getServers(){return activeServers}function getExpress(){return express}function getApp(){return app}function enableRateLimiting(e){const t=updateOptions({server:{rateLimiting:e}});rateLimitingMiddleware(app,t.server.rateLimitingOptions)}function use(e,...t){app.use(e,...t)}function get(e,...t){app.get(e,...t)}function post(e,...t){app.post(e,...t)}function _attachServerErrorHandlers(e){e.on("clientError",((e,t)=>{logWithStack(1,e,`[server] Client error: ${e.message}, destroying socket.`),t.destroy()})),e.on("error",(e=>{logWithStack(1,e,`[server] Server error: ${e.message}`)})),e.on("connection",(e=>{e.on("error",(e=>{logWithStack(1,e,`[server] Socket error: ${e.message}`)}))}))}var server={startServer:startServer,closeServers:closeServers,getServers:getServers,getExpress:getExpress,getApp:getApp,enableRateLimiting:enableRateLimiting,use:use,get:get,post:post};async function shutdownCleanUp(e=0){await Promise.allSettled([clearAllTimers(),closeServers(),killPool()]),process.exit(e)}async function initExport(e){const t=updateOptions(e);setAllowCodeExecution(t.customLogic.allowCodeExecution),initLogging(t.logging),t.other.listenToProcessExits&&_attachProcessExitListeners(),await checkCache(t.highcharts,t.server.proxy),await initPool(t.pool,t.puppeteer.args)}function _attachProcessExitListeners(){log(3,"[process] Attaching exit listeners to the process."),process.on("exit",(e=>{log(4,`[process] Process exited with code: ${e}.`)})),process.on("SIGINT",(async(e,t)=>{log(4,`[process] The ${e} event with code: ${t}.`),await shutdownCleanUp()})),process.on("SIGTERM",(async(e,t)=>{log(4,`[process] The ${e} event with code: ${t}.`),await shutdownCleanUp()})),process.on("SIGHUP",(async(e,t)=>{log(4,`[process] The ${e} event with code: ${t}.`),await shutdownCleanUp()})),process.on("uncaughtException",(async(e,t)=>{logWithStack(1,e,`[process] The ${t} error.`),await shutdownCleanUp(1)}))}var index={...server,getOptions:getOptions,updateOptions:updateOptions,mapToNewOptions:mapToNewOptions,initExport:initExport,singleExport:singleExport,batchExport:batchExport,startExport:startExport,killPool:killPool,shutdownCleanUp:shutdownCleanUp,log:log,logWithStack:logWithStack,setLogLevel:function(e){setLogLevel(updateOptions({logging:{level:e}}).logging.level)},enableConsoleLogging:function(e){enableConsoleLogging(updateOptions({logging:{toConsole:e}}).logging.toConsole)},enableFileLogging:function(e,t,o){const r=updateOptions({logging:{dest:e,file:t,toFile:o}});enableFileLogging(r.logging.dest,r.logging.file,r.logging.toFile)}};exports.default=index,exports.initExport=initExport;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguY2pzIiwic291cmNlcyI6WyIuLi9saWIvc2NoZW1hcy9jb25maWcuanMiLCIuLi9saWIvZW52cy5qcyIsIi4uL2xpYi91dGlscy5qcyIsIi4uL2xpYi9sb2dnZXIuanMiLCIuLi9saWIvY29uZmlnLmpzIiwiLi4vbGliL2ZldGNoLmpzIiwiLi4vbGliL2Vycm9ycy9FeHBvcnRFcnJvci5qcyIsIi4uL2xpYi9jYWNoZS5qcyIsIi4uL2xpYi9oaWdoY2hhcnRzLmpzIiwiLi4vbGliL2Jyb3dzZXIuanMiLCIuLi90ZW1wbGF0ZXMvc3ZnRXhwb3J0L2Nzcy5qcyIsIi4uL3RlbXBsYXRlcy9zdmdFeHBvcnQvc3ZnRXhwb3J0LmpzIiwiLi4vbGliL2V4cG9ydC5qcyIsIi4uL2xpYi9wb29sLmpzIiwiLi4vbGliL3Nhbml0aXplLmpzIiwiLi4vbGliL2NoYXJ0LmpzIiwiLi4vbGliL3RpbWVyLmpzIiwiLi4vbGliL3NlcnZlci9taWRkbGV3YXJlcy9lcnJvci5qcyIsIi4uL2xpYi9zZXJ2ZXIvbWlkZGxld2FyZXMvcmF0ZUxpbWl0aW5nLmpzIiwiLi4vbGliL3NlcnZlci9taWRkbGV3YXJlcy92YWxpZGF0aW9uLmpzIiwiLi4vbGliL3NlcnZlci9yb3V0ZXMvZXhwb3J0LmpzIiwiLi4vbGliL3NlcnZlci9yb3V0ZXMvaGVhbHRoLmpzIiwiLi4vbGliL3NlcnZlci9yb3V0ZXMvdWkuanMiLCIuLi9saWIvc2VydmVyL3JvdXRlcy92ZXJzaW9uQ2hhbmdlLmpzIiwiLi4vbGliL3NlcnZlci9zZXJ2ZXIuanMiLCIuLi9saWIvcmVzb3VyY2VSZWxlYXNlLmpzIiwiLi4vbGliL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcblxyXG5IaWdoY2hhcnRzIEV4cG9ydCBTZXJ2ZXJcclxuXHJcbkNvcHlyaWdodCAoYykgMjAxNi0yMDI1LCBIaWdoc29mdFxyXG5cclxuTGljZW5jZWQgdW5kZXIgdGhlIE1JVCBsaWNlbmNlLlxyXG5cclxuQWRkaXRpb25hbGx5IGEgdmFsaWQgSGlnaGNoYXJ0cyBsaWNlbnNlIGlzIHJlcXVpcmVkIGZvciB1c2UuXHJcblxyXG5TZWUgTElDRU5TRSBmaWxlIGluIHJvb3QgZm9yIGRldGFpbHMuXHJcblxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuLyoqXHJcbiAqIEBvdmVydmlldyBDb25maWd1cmF0aW9uIG1hbmFnZW1lbnQgbW9kdWxlIGZvciB0aGUgSGlnaGNoYXJ0cyBFeHBvcnQgU2VydmVyLlxyXG4gKiBJdCBwcm92aWRlcyBhIGRlZmF1bHQgY29uZmlndXJhdGlvbiBvYmplY3Qgd2l0aCBwcmVkZWZpbmVkIGRlZmF1bHQgdmFsdWVzLFxyXG4gKiBkZXNjcmlwdGlvbnMsIGFuZCBjaGFyYWN0ZXJpc3RpY3MgZm9yIGVhY2ggb3B0aW9uIHVzZWQgaW4gdGhlIEV4cG9ydCBTZXJ2ZXIuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIFRoZSBkZWZhdWx0IGNvbmZpZ3VyYXRpb24gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIGF2YWlsYWJsZSBvcHRpb25zLCBvcmdhbml6ZWRcclxuICogYnkgc2VjdGlvbnMuXHJcbiAqXHJcbiAqIFRoaXMgb2JqZWN0IGluY2x1ZGVzOlxyXG4gKiAtIERlZmF1bHQgdmFsdWVzIGZvciBlYWNoIG9wdGlvbi5cclxuICogLSBEYXRhIHR5cGVzIGZvciB2YWxpZGF0aW9uLlxyXG4gKiAtIE5hbWVzIG9mIGNvcnJlc3BvbmRpbmcgZW52aXJvbm1lbnQgdmFyaWFibGVzLlxyXG4gKiAtIERlc2NyaXB0aW9ucyBvZiBlYWNoIHByb3BlcnR5LlxyXG4gKiAtIEluZm9ybWF0aW9uIHVzZWQgZm9yIHByb21wdHMgaW4gaW50ZXJhY3RpdmUgY29uZmlndXJhdGlvbi5cclxuICogLSBbT3B0aW9uYWxdIENvcnJlc3BvbmRpbmcgQ0xJIGFyZ3VtZW50IG5hbWVzIGZvciBDTEkgdXNhZ2UuXHJcbiAqIC0gW09wdGlvbmFsXSBMZWdhY3kgbmFtZXMgZnJvbSB0aGUgcHJldmlvdXMgUGhhbnRvbUpTLWJhc2VkIHNlcnZlci5cclxuICovXHJcbmNvbnN0IGRlZmF1bHRDb25maWcgPSB7XHJcbiAgcHVwcGV0ZWVyOiB7XHJcbiAgICBhcmdzOiB7XHJcbiAgICAgIHZhbHVlOiBbXHJcbiAgICAgICAgJy0tYWxsb3ctcnVubmluZy1pbnNlY3VyZS1jb250ZW50JyxcclxuICAgICAgICAnLS1hc2gtbm8tbnVkZ2VzJyxcclxuICAgICAgICAnLS1hdXRvcGxheS1wb2xpY3k9dXNlci1nZXN0dXJlLXJlcXVpcmVkJyxcclxuICAgICAgICAnLS1ibG9jay1uZXctd2ViLWNvbnRlbnRzJyxcclxuICAgICAgICAnLS1kaXNhYmxlLWFjY2VsZXJhdGVkLTJkLWNhbnZhcycsXHJcbiAgICAgICAgJy0tZGlzYWJsZS1iYWNrZ3JvdW5kLW5ldHdvcmtpbmcnLFxyXG4gICAgICAgICctLWRpc2FibGUtYmFja2dyb3VuZC10aW1lci10aHJvdHRsaW5nJyxcclxuICAgICAgICAnLS1kaXNhYmxlLWJhY2tncm91bmRpbmctb2NjbHVkZWQtd2luZG93cycsXHJcbiAgICAgICAgJy0tZGlzYWJsZS1icmVha3BhZCcsXHJcbiAgICAgICAgJy0tZGlzYWJsZS1jaGVja2VyLWltYWdpbmcnLFxyXG4gICAgICAgICctLWRpc2FibGUtY2xpZW50LXNpZGUtcGhpc2hpbmctZGV0ZWN0aW9uJyxcclxuICAgICAgICAnLS1kaXNhYmxlLWNvbXBvbmVudC1leHRlbnNpb25zLXdpdGgtYmFja2dyb3VuZC1wYWdlcycsXHJcbiAgICAgICAgJy0tZGlzYWJsZS1jb21wb25lbnQtdXBkYXRlJyxcclxuICAgICAgICAnLS1kaXNhYmxlLWRlZmF1bHQtYXBwcycsXHJcbiAgICAgICAgJy0tZGlzYWJsZS1kZXYtc2htLXVzYWdlJyxcclxuICAgICAgICAnLS1kaXNhYmxlLWRvbWFpbi1yZWxpYWJpbGl0eScsXHJcbiAgICAgICAgJy0tZGlzYWJsZS1leHRlbnNpb25zJyxcclxuICAgICAgICAnLS1kaXNhYmxlLWZlYXR1cmVzPUNhbGN1bGF0ZU5hdGl2ZVdpbk9jY2x1c2lvbixJbnRlcmVzdEZlZWRDb250ZW50U3VnZ2VzdGlvbnMsV2ViT1RQJyxcclxuICAgICAgICAnLS1kaXNhYmxlLWhhbmctbW9uaXRvcicsXHJcbiAgICAgICAgJy0tZGlzYWJsZS1pcGMtZmxvb2RpbmctcHJvdGVjdGlvbicsXHJcbiAgICAgICAgJy0tZGlzYWJsZS1sb2dnaW5nJyxcclxuICAgICAgICAnLS1kaXNhYmxlLW5vdGlmaWNhdGlvbnMnLFxyXG4gICAgICAgICctLWRpc2FibGUtb2ZmZXItc3RvcmUtdW5tYXNrZWQtd2FsbGV0LWNhcmRzJyxcclxuICAgICAgICAnLS1kaXNhYmxlLXBvcHVwLWJsb2NraW5nJyxcclxuICAgICAgICAnLS1kaXNhYmxlLXByaW50LXByZXZpZXcnLFxyXG4gICAgICAgICctLWRpc2FibGUtcHJvbXB0LW9uLXJlcG9zdCcsXHJcbiAgICAgICAgJy0tZGlzYWJsZS1yZW5kZXJlci1iYWNrZ3JvdW5kaW5nJyxcclxuICAgICAgICAnLS1kaXNhYmxlLXNlYXJjaC1lbmdpbmUtY2hvaWNlLXNjcmVlbicsXHJcbiAgICAgICAgJy0tZGlzYWJsZS1zZXNzaW9uLWNyYXNoZWQtYnViYmxlJyxcclxuICAgICAgICAnLS1kaXNhYmxlLXNldHVpZC1zYW5kYm94JyxcclxuICAgICAgICAnLS1kaXNhYmxlLXNpdGUtaXNvbGF0aW9uLXRyaWFscycsXHJcbiAgICAgICAgJy0tZGlzYWJsZS1zcGVlY2gtYXBpJyxcclxuICAgICAgICAnLS1kaXNhYmxlLXN5bmMnLFxyXG4gICAgICAgICctLWVuYWJsZS11bnNhZmUtd2ViZ3B1JyxcclxuICAgICAgICAnLS1oaWRlLWNyYXNoLXJlc3RvcmUtYnViYmxlJyxcclxuICAgICAgICAnLS1oaWRlLXNjcm9sbGJhcnMnLFxyXG4gICAgICAgICctLW1ldHJpY3MtcmVjb3JkaW5nLW9ubHknLFxyXG4gICAgICAgICctLW11dGUtYXVkaW8nLFxyXG4gICAgICAgICctLW5vLWRlZmF1bHQtYnJvd3Nlci1jaGVjaycsXHJcbiAgICAgICAgJy0tbm8tZmlyc3QtcnVuJyxcclxuICAgICAgICAnLS1uby1waW5ncycsXHJcbiAgICAgICAgJy0tbm8tc2FuZGJveCcsXHJcbiAgICAgICAgJy0tbm8tc3RhcnR1cC13aW5kb3cnLFxyXG4gICAgICAgICctLW5vLXp5Z290ZScsXHJcbiAgICAgICAgJy0tcGFzc3dvcmQtc3RvcmU9YmFzaWMnLFxyXG4gICAgICAgICctLXByb2Nlc3MtcGVyLXRhYicsXHJcbiAgICAgICAgJy0tdXNlLW1vY2sta2V5Y2hhaW4nXHJcbiAgICAgIF0sXHJcbiAgICAgIHR5cGVzOiBbJ3N0cmluZ1tdJ10sXHJcbiAgICAgIGVudkxpbms6ICdQVVBQRVRFRVJfQVJHUycsXHJcbiAgICAgIGNsaU5hbWU6ICdwdXBwZXRlZXJBcmdzJyxcclxuICAgICAgZGVzY3JpcHRpb246ICdBcnJheSBvZiBQdXBwZXRlZXIgYXJndW1lbnRzJyxcclxuICAgICAgcHJvbXB0T3B0aW9uczoge1xyXG4gICAgICAgIHR5cGU6ICdsaXN0JyxcclxuICAgICAgICBzZXBhcmF0b3I6ICc7J1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSxcclxuICBoaWdoY2hhcnRzOiB7XHJcbiAgICB2ZXJzaW9uOiB7XHJcbiAgICAgIHZhbHVlOiAnbGF0ZXN0JyxcclxuICAgICAgdHlwZXM6IFsnc3RyaW5nJ10sXHJcbiAgICAgIGVudkxpbms6ICdISUdIQ0hBUlRTX1ZFUlNJT04nLFxyXG4gICAgICBkZXNjcmlwdGlvbjogJ0hpZ2hjaGFydHMgdmVyc2lvbicsXHJcbiAgICAgIHByb21wdE9wdGlvbnM6IHtcclxuICAgICAgICB0eXBlOiAndGV4dCdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIGNkblVybDoge1xyXG4gICAgICB2YWx1ZTogJ2h0dHBzOi8vY29kZS5oaWdoY2hhcnRzLmNvbScsXHJcbiAgICAgIHR5cGVzOiBbJ3N0cmluZyddLFxyXG4gICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19DRE5fVVJMJyxcclxuICAgICAgZGVzY3JpcHRpb246ICdDRE4gVVJMIGZvciBIaWdoY2hhcnRzIHNjcmlwdHMnLFxyXG4gICAgICBwcm9tcHRPcHRpb25zOiB7XHJcbiAgICAgICAgdHlwZTogJ3RleHQnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBmb3JjZUZldGNoOiB7XHJcbiAgICAgIHZhbHVlOiBmYWxzZSxcclxuICAgICAgdHlwZXM6IFsnYm9vbGVhbiddLFxyXG4gICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19GT1JDRV9GRVRDSCcsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiAnRmxhZyB0byByZWZldGNoIHNjcmlwdHMgYWZ0ZXIgZWFjaCBzZXJ2ZXIgcmVydW4nLFxyXG4gICAgICBwcm9tcHRPcHRpb25zOiB7XHJcbiAgICAgICAgdHlwZTogJ3RvZ2dsZSdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIGNhY2hlUGF0aDoge1xyXG4gICAgICB2YWx1ZTogJy5jYWNoZScsXHJcbiAgICAgIHR5cGVzOiBbJ3N0cmluZyddLFxyXG4gICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19DQUNIRV9QQVRIJyxcclxuICAgICAgZGVzY3JpcHRpb246ICdEaXJlY3RvcnkgcGF0aCBmb3IgY2FjaGVkIEhpZ2hjaGFydHMgc2NyaXB0cycsXHJcbiAgICAgIHByb21wdE9wdGlvbnM6IHtcclxuICAgICAgICB0eXBlOiAndGV4dCdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIGNvcmVTY3JpcHRzOiB7XHJcbiAgICAgIHZhbHVlOiBbJ2hpZ2hjaGFydHMnLCAnaGlnaGNoYXJ0cy1tb3JlJywgJ2hpZ2hjaGFydHMtM2QnXSxcclxuICAgICAgdHlwZXM6IFsnc3RyaW5nW10nXSxcclxuICAgICAgZW52TGluazogJ0hJR0hDSEFSVFNfQ09SRV9TQ1JJUFRTJyxcclxuICAgICAgZGVzY3JpcHRpb246ICdIaWdoY2hhcnRzIGNvcmUgc2NyaXB0cyB0byBmZXRjaCcsXHJcbiAgICAgIHByb21wdE9wdGlvbnM6IHtcclxuICAgICAgICB0eXBlOiAnbXVsdGlzZWxlY3QnLFxyXG4gICAgICAgIGluc3RydWN0aW9uczogJ1NwYWNlOiBTZWxlY3Qgc3BlY2lmaWMsIEE6IFNlbGVjdCBhbGwsIEVudGVyOiBDb25maXJtJ1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgbW9kdWxlU2NyaXB0czoge1xyXG4gICAgICB2YWx1ZTogW1xyXG4gICAgICAgICdzdG9jaycsXHJcbiAgICAgICAgJ21hcCcsXHJcbiAgICAgICAgJ2dhbnR0JyxcclxuICAgICAgICAnZXhwb3J0aW5nJyxcclxuICAgICAgICAncGFyYWxsZWwtY29vcmRpbmF0ZXMnLFxyXG4gICAgICAgICdhY2Nlc3NpYmlsaXR5JyxcclxuICAgICAgICAvLyAnYW5ub3RhdGlvbnMtYWR2YW5jZWQnLFxyXG4gICAgICAgICdib29zdC1jYW52YXMnLFxyXG4gICAgICAgICdib29zdCcsXHJcbiAgICAgICAgJ2RhdGEnLFxyXG4gICAgICAgICdkYXRhLXRvb2xzJyxcclxuICAgICAgICAnZHJhZ2dhYmxlLXBvaW50cycsXHJcbiAgICAgICAgJ3N0YXRpYy1zY2FsZScsXHJcbiAgICAgICAgJ2Jyb2tlbi1heGlzJyxcclxuICAgICAgICAnaGVhdG1hcCcsXHJcbiAgICAgICAgJ3RpbGVtYXAnLFxyXG4gICAgICAgICd0aWxlZHdlYm1hcCcsXHJcbiAgICAgICAgJ3RpbWVsaW5lJyxcclxuICAgICAgICAndHJlZW1hcCcsXHJcbiAgICAgICAgJ3RyZWVncmFwaCcsXHJcbiAgICAgICAgJ2l0ZW0tc2VyaWVzJyxcclxuICAgICAgICAnZHJpbGxkb3duJyxcclxuICAgICAgICAnaGlzdG9ncmFtLWJlbGxjdXJ2ZScsXHJcbiAgICAgICAgJ2J1bGxldCcsXHJcbiAgICAgICAgJ2Z1bm5lbCcsXHJcbiAgICAgICAgJ2Z1bm5lbDNkJyxcclxuICAgICAgICAnZ2VvaGVhdG1hcCcsXHJcbiAgICAgICAgJ3B5cmFtaWQzZCcsXHJcbiAgICAgICAgJ25ldHdvcmtncmFwaCcsXHJcbiAgICAgICAgJ292ZXJsYXBwaW5nLWRhdGFsYWJlbHMnLFxyXG4gICAgICAgICdwYXJldG8nLFxyXG4gICAgICAgICdwYXR0ZXJuLWZpbGwnLFxyXG4gICAgICAgICdwaWN0b3JpYWwnLFxyXG4gICAgICAgICdwcmljZS1pbmRpY2F0b3InLFxyXG4gICAgICAgICdzYW5rZXknLFxyXG4gICAgICAgICdhcmMtZGlhZ3JhbScsXHJcbiAgICAgICAgJ2RlcGVuZGVuY3ktd2hlZWwnLFxyXG4gICAgICAgICdzZXJpZXMtbGFiZWwnLFxyXG4gICAgICAgICdzZXJpZXMtb24tcG9pbnQnLFxyXG4gICAgICAgICdzb2xpZC1nYXVnZScsXHJcbiAgICAgICAgJ3NvbmlmaWNhdGlvbicsXHJcbiAgICAgICAgLy8gJ3N0b2NrLXRvb2xzJyxcclxuICAgICAgICAnc3RyZWFtZ3JhcGgnLFxyXG4gICAgICAgICdzdW5idXJzdCcsXHJcbiAgICAgICAgJ3ZhcmlhYmxlLXBpZScsXHJcbiAgICAgICAgJ3Zhcml3aWRlJyxcclxuICAgICAgICAndmVjdG9yJyxcclxuICAgICAgICAndmVubicsXHJcbiAgICAgICAgJ3dpbmRiYXJiJyxcclxuICAgICAgICAnd29yZGNsb3VkJyxcclxuICAgICAgICAneHJhbmdlJyxcclxuICAgICAgICAnbm8tZGF0YS10by1kaXNwbGF5JyxcclxuICAgICAgICAnZHJhZy1wYW5lcycsXHJcbiAgICAgICAgJ2RlYnVnZ2VyJyxcclxuICAgICAgICAnZHVtYmJlbGwnLFxyXG4gICAgICAgICdsb2xsaXBvcCcsXHJcbiAgICAgICAgJ2N5bGluZGVyJyxcclxuICAgICAgICAnb3JnYW5pemF0aW9uJyxcclxuICAgICAgICAnZG90cGxvdCcsXHJcbiAgICAgICAgJ21hcmtlci1jbHVzdGVycycsXHJcbiAgICAgICAgJ2hvbGxvd2NhbmRsZXN0aWNrJyxcclxuICAgICAgICAnaGVpa2luYXNoaScsXHJcbiAgICAgICAgJ2Zsb3dtYXAnLFxyXG4gICAgICAgICdleHBvcnQtZGF0YScsXHJcbiAgICAgICAgJ25hdmlnYXRvcicsXHJcbiAgICAgICAgJ3RleHRwYXRoJ1xyXG4gICAgICBdLFxyXG4gICAgICB0eXBlczogWydzdHJpbmdbXSddLFxyXG4gICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19NT0RVTEVfU0NSSVBUUycsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiAnSGlnaGNoYXJ0cyBtb2R1bGUgc2NyaXB0cyB0byBmZXRjaCcsXHJcbiAgICAgIHByb21wdE9wdGlvbnM6IHtcclxuICAgICAgICB0eXBlOiAnbXVsdGlzZWxlY3QnLFxyXG4gICAgICAgIGluc3RydWN0aW9uczogJ1NwYWNlOiBTZWxlY3Qgc3BlY2lmaWMsIEE6IFNlbGVjdCBhbGwsIEVudGVyOiBDb25maXJtJ1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgaW5kaWNhdG9yU2NyaXB0czoge1xyXG4gICAgICB2YWx1ZTogWydpbmRpY2F0b3JzLWFsbCddLFxyXG4gICAgICB0eXBlczogWydzdHJpbmdbXSddLFxyXG4gICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19JTkRJQ0FUT1JfU0NSSVBUUycsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiAnSGlnaGNoYXJ0cyBpbmRpY2F0b3Igc2NyaXB0cyB0byBmZXRjaCcsXHJcbiAgICAgIHByb21wdE9wdGlvbnM6IHtcclxuICAgICAgICB0eXBlOiAnbXVsdGlzZWxlY3QnLFxyXG4gICAgICAgIGluc3RydWN0aW9uczogJ1NwYWNlOiBTZWxlY3Qgc3BlY2lmaWMsIEE6IFNlbGVjdCBhbGwsIEVudGVyOiBDb25maXJtJ1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgY3VzdG9tU2NyaXB0czoge1xyXG4gICAgICB2YWx1ZTogW1xyXG4gICAgICAgICdodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9tb21lbnQuanMvMi4zMC4xL21vbWVudC5taW4uanMnLFxyXG4gICAgICAgICdodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9tb21lbnQtdGltZXpvbmUvMC41LjQ1L21vbWVudC10aW1lem9uZS13aXRoLWRhdGEubWluLmpzJ1xyXG4gICAgICBdLFxyXG4gICAgICB0eXBlczogWydzdHJpbmdbXSddLFxyXG4gICAgICBlbnZMaW5rOiAnSElHSENIQVJUU19DVVNUT01fU0NSSVBUUycsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiAnQWRkaXRpb25hbCBjdXN0b20gc2NyaXB0cyBvciBkZXBlbmRlbmNpZXMgdG8gZmV0Y2gnLFxyXG4gICAgICBwcm9tcHRPcHRpb25zOiB7XHJcbiAgICAgICAgdHlwZTogJ2xpc3QnLFxyXG4gICAgICAgIHNlcGFyYXRvcjogJzsnXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LFxyXG4gIGV4cG9ydDoge1xyXG4gICAgaW5maWxlOiB7XHJcbiAgICAgIHZhbHVlOiBudWxsLFxyXG4gICAgICB0eXBlczogWydzdHJpbmcnLCAnbnVsbCddLFxyXG4gICAgICBlbnZMaW5rOiAnRVhQT1JUX0lORklMRScsXHJcbiAgICAgIGRlc2NyaXB0aW9uOlxyXG4gICAgICAgICdJbnB1dCBmaWxlbmFtZSB3aXRoIHR5cGUsIGZvcm1hdHRlZCBjb3JyZWN0bHkgYXMgSlNPTiBvciBTVkcnLFxyXG4gICAgICBwcm9tcHRPcHRpb25zOiB7XHJcbiAgICAgICAgdHlwZTogJ3RleHQnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBpbnN0cjoge1xyXG4gICAgICB2YWx1ZTogbnVsbCxcclxuICAgICAgdHlwZXM6IFsnT2JqZWN0JywgJ3N0cmluZycsICdudWxsJ10sXHJcbiAgICAgIGVudkxpbms6ICdFWFBPUlRfSU5TVFInLFxyXG4gICAgICBkZXNjcmlwdGlvbjpcclxuICAgICAgICAnT3ZlcnJpZGVzIHRoZSBgaW5maWxlYCB3aXRoIEpTT04sIHN0cmluZ2lmaWVkIEpTT04sIG9yIFNWRyBpbnB1dCcsXHJcbiAgICAgIHByb21wdE9wdGlvbnM6IHtcclxuICAgICAgICB0eXBlOiAndGV4dCdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIG9wdGlvbnM6IHtcclxuICAgICAgdmFsdWU6IG51bGwsXHJcbiAgICAgIHR5cGVzOiBbJ09iamVjdCcsICdzdHJpbmcnLCAnbnVsbCddLFxyXG4gICAgICBlbnZMaW5rOiAnRVhQT1JUX09QVElPTlMnLFxyXG4gICAgICBkZXNjcmlwdGlvbjogJ0FsaWFzIGZvciB0aGUgYGluc3RyYCBvcHRpb24nLFxyXG4gICAgICBwcm9tcHRPcHRpb25zOiB7XHJcbiAgICAgICAgdHlwZTogJ3RleHQnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBzdmc6IHtcclxuICAgICAgdmFsdWU6IG51bGwsXHJcbiAgICAgIHR5cGVzOiBbJ3N0cmluZycsICdudWxsJ10sXHJcbiAgICAgIGVudkxpbms6ICdFWFBPUlRfU1ZHJyxcclxuICAgICAgZGVzY3JpcHRpb246ICdTVkcgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBjaGFydCB0byByZW5kZXInLFxyXG4gICAgICBwcm9tcHRPcHRpb25zOiB7XHJcbiAgICAgICAgdHlwZTogJ3RleHQnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBiYXRjaDoge1xyXG4gICAgICB2YWx1ZTogbnVsbCxcclxuICAgICAgdHlwZXM6IFsnc3RyaW5nJywgJ251bGwnXSxcclxuICAgICAgZW52TGluazogJ0VYUE9SVF9CQVRDSCcsXHJcbiAgICAgIGRlc2NyaXB0aW9uOlxyXG4gICAgICAgICdCYXRjaCBqb2Igc3RyaW5nIHdpdGggaW5wdXQvb3V0cHV0IHBhaXJzOiBcImluPW91dDtpbj1vdXQ7Li4uXCInLFxyXG4gICAgICBwcm9tcHRPcHRpb25zOiB7XHJcbiAgICAgICAgdHlwZTogJ3RleHQnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBvdXRmaWxlOiB7XHJcbiAgICAgIHZhbHVlOiBudWxsLFxyXG4gICAgICB0eXBlczogWydzdHJpbmcnLCAnbnVsbCddLFxyXG4gICAgICBlbnZMaW5rOiAnRVhQT1JUX09VVEZJTEUnLFxyXG4gICAgICBkZXNjcmlwdGlvbjpcclxuICAgICAgICAnT3V0cHV0IGZpbGVuYW1lIHdpdGggdHlwZS4gQ2FuIGJlIGpwZWcsIHBuZywgcGRmLCBvciBzdmcgYW5kIGlnbm9yZXMgYHR5cGVgIG9wdGlvbicsXHJcbiAgICAgIHByb21wdE9wdGlvbnM6IHtcclxuICAgICAgICB0eXBlOiAndGV4dCdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIHR5cGU6IHtcclxuICAgICAgdmFsdWU6ICdwbmcnLFxyXG4gICAgICB0eXBlczogWydzdHJpbmcnXSxcclxuICAgICAgZW52TGluazogJ0VYUE9SVF9UWVBFJyxcclxuICAgICAgZGVzY3JpcHRpb246ICdGaWxlIGV4cG9ydCBmb3JtYXQuIENhbiBiZSBqcGVnLCBwbmcsIHBkZiwgb3Igc3ZnJyxcclxuICAgICAgcHJvbXB0T3B0aW9uczoge1xyXG4gICAgICAgIHR5cGU6ICdzZWxlY3QnLFxyXG4gICAgICAgIGhpbnQ6ICdEZWZhdWx0OiBwbmcnLFxyXG4gICAgICAgIGNob2ljZXM6IFsncG5nJywgJ2pwZWcnLCAncGRmJywgJ3N2ZyddXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBjb25zdHI6IHtcclxuICAgICAgdmFsdWU6ICdjaGFydCcsXHJcbiAgICAgIHR5cGVzOiBbJ3N0cmluZyddLFxyXG4gICAgICBlbnZMaW5rOiAnRVhQT1JUX0NPTlNUUicsXHJcbiAgICAgIGRlc2NyaXB0aW9uOlxyXG4gICAgICAgICdDaGFydCBjb25zdHJ1Y3Rvci4gQ2FuIGJlIGNoYXJ0LCBzdG9ja0NoYXJ0LCBtYXBDaGFydCwgb3IgZ2FudHRDaGFydCcsXHJcbiAgICAgIHByb21wdE9wdGlvbnM6IHtcclxuICAgICAgICB0eXBlOiAnc2VsZWN0JyxcclxuICAgICAgICBoaW50OiAnRGVmYXVsdDogY2hhcnQnLFxyXG4gICAgICAgIGNob2ljZXM6IFsnY2hhcnQnLCAnc3RvY2tDaGFydCcsICdtYXBDaGFydCcsICdnYW50dENoYXJ0J11cclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIGI2NDoge1xyXG4gICAgICB2YWx1ZTogZmFsc2UsXHJcbiAgICAgIHR5cGVzOiBbJ2Jvb2xlYW4nXSxcclxuICAgICAgZW52TGluazogJ0VYUE9SVF9CNjQnLFxyXG4gICAgICBkZXNjcmlwdGlvbjpcclxuICAgICAgICAnV2hldGhlciBvciBub3QgdG8gdGhlIGNoYXJ0IHNob3VsZCBiZSByZWNlaXZlZCBpbiBCYXNlNjQgZm9ybWF0IGluc3RlYWQgb2YgYmluYXJ5JyxcclxuICAgICAgcHJvbXB0T3B0aW9uczoge1xyXG4gICAgICAgIHR5cGU6ICd0b2dnbGUnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBub0Rvd25sb2FkOiB7XHJcbiAgICAgIHZhbHVlOiBmYWxzZSxcclxuICAgICAgdHlwZXM6IFsnYm9vbGVhbiddLFxyXG4gICAgICBlbnZMaW5rOiAnRVhQT1JUX05PX0RPV05MT0FEJyxcclxuICAgICAgZGVzY3JpcHRpb246XHJcbiAgICAgICAgJ1doZXRoZXIgb3Igbm90IHRvIGluY2x1ZGUgb3IgZXhjbHVkZSBhdHRhY2htZW50IGhlYWRlcnMgaW4gdGhlIHJlc3BvbnNlJyxcclxuICAgICAgcHJvbXB0T3B0aW9uczoge1xyXG4gICAgICAgIHR5cGU6ICd0b2dnbGUnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBoZWlnaHQ6IHtcclxuICAgICAgdmFsdWU6IG51bGwsXHJcbiAgICAgIHR5cGVzOiBbJ251bWJlcicsICdudWxsJ10sXHJcbiAgICAgIGVudkxpbms6ICdFWFBPUlRfSEVJR0hUJyxcclxuICAgICAgZGVzY3JpcHRpb246ICdIZWlnaHQgb2YgdGhlIGV4cG9ydGVkIGNoYXJ0LCBvdmVycmlkZXMgY2hhcnQgc2V0dGluZ3MnLFxyXG4gICAgICBwcm9tcHRPcHRpb25zOiB7XHJcbiAgICAgICAgdHlwZTogJ251bWJlcidcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIHdpZHRoOiB7XHJcbiAgICAgIHZhbHVlOiBudWxsLFxyXG4gICAgICB0eXBlczogWydudW1iZXInLCAnbnVsbCddLFxyXG4gICAgICBlbnZMaW5rOiAnRVhQT1JUX1dJRFRIJyxcclxuICAgICAgZGVzY3JpcHRpb246ICdXaWR0aCBvZiB0aGUgZXhwb3J0ZWQgY2hhcnQsIG92ZXJyaWRlcyBjaGFydCBzZXR0aW5ncycsXHJcbiAgICAgIHByb21wdE9wdGlvbnM6IHtcclxuICAgICAgICB0eXBlOiAnbnVtYmVyJ1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgc2NhbGU6IHtcclxuICAgICAgdmFsdWU6IG51bGwsXHJcbiAgICAgIHR5cGVzOiBbJ251bWJlcicsICdudWxsJ10sXHJcbiAgICAgIGVudkxpbms6ICdFWFBPUlRfU0NBTEUnLFxyXG4gICAgICBkZXNjcmlwdGlvbjpcclxuICAgICAgICAnU2NhbGUgb2YgdGhlIGV4cG9ydGVkIGNoYXJ0LCBvdmVycmlkZXMgY2hhcnQgc2V0dGluZ3MuIFJhbmdlcyBmcm9tIDAuMSB0byA1LjAnLFxyXG4gICAgICBwcm9tcHRPcHRpb25zOiB7XHJcbiAgICAgICAgdHlwZTogJ251bWJlcidcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIGRlZmF1bHRIZWlnaHQ6IHtcclxuICAgICAgdmFsdWU6IDQwMCxcclxuICAgICAgdHlwZXM6IFsnbnVtYmVyJ10sXHJcbiAgICAgIGVudkxpbms6ICdFWFBPUlRfREVGQVVMVF9IRUlHSFQnLFxyXG4gICAgICBkZXNjcmlwdGlvbjogJ0RlZmF1bHQgaGVpZ2h0IG9mIHRoZSBleHBvcnRlZCBjaGFydCBpZiBub3Qgc2V0JyxcclxuICAgICAgcHJvbXB0T3B0aW9uczoge1xyXG4gICAgICAgIHR5cGU6ICdudW1iZXInXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBkZWZhdWx0V2lkdGg6IHtcclxuICAgICAgdmFsdWU6IDYwMCxcclxuICAgICAgdHlwZXM6IFsnbnVtYmVyJ10sXHJcbiAgICAgIGVudkxpbms6ICdFWFBPUlRfREVGQVVMVF9XSURUSCcsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiAnRGVmYXVsdCB3aWR0aCBvZiB0aGUgZXhwb3J0ZWQgY2hhcnQgaWYgbm90IHNldCcsXHJcbiAgICAgIHByb21wdE9wdGlvbnM6IHtcclxuICAgICAgICB0eXBlOiAnbnVtYmVyJ1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgZGVmYXVsdFNjYWxlOiB7XHJcbiAgICAgIHZhbHVlOiAxLFxyXG4gICAgICB0eXBlczogWydudW1iZXInXSxcclxuICAgICAgZW52TGluazogJ0VYUE9SVF9ERUZBVUxUX1NDQUxFJyxcclxuICAgICAgZGVzY3JpcHRpb246XHJcbiAgICAgICAgJ0RlZmF1bHQgc2NhbGUgb2YgdGhlIGV4cG9ydGVkIGNoYXJ0IGlmIG5vdCBzZXQuIFJhbmdlcyBmcm9tIDAuMSB0byA1LjAnLFxyXG4gICAgICBwcm9tcHRPcHRpb25zOiB7XHJcbiAgICAgICAgdHlwZTogJ251bWJlcicsXHJcbiAgICAgICAgbWluOiAwLjEsXHJcbiAgICAgICAgbWF4OiA1XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBnbG9iYWxPcHRpb25zOiB7XHJcbiAgICAgIHZhbHVlOiBudWxsLFxyXG4gICAgICB0eXBlczogWydPYmplY3QnLCAnc3RyaW5nJywgJ251bGwnXSxcclxuICAgICAgZW52TGluazogJ0VYUE9SVF9HTE9CQUxfT1BUSU9OUycsXHJcbiAgICAgIGRlc2NyaXB0aW9uOlxyXG4gICAgICAgICdKU09OLCBzdHJpbmdpZmllZCBKU09OIG9yIGZpbGVuYW1lIHdpdGggZ2xvYmFsIG9wdGlvbnMgZm9yIEhpZ2hjaGFydHMuc2V0T3B0aW9ucycsXHJcbiAgICAgIHByb21wdE9wdGlvbnM6IHtcclxuICAgICAgICB0eXBlOiAndGV4dCdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIHRoZW1lT3B0aW9uczoge1xyXG4gICAgICB2YWx1ZTogbnVsbCxcclxuICAgICAgdHlwZXM6IFsnT2JqZWN0JywgJ3N0cmluZycsICdudWxsJ10sXHJcbiAgICAgIGVudkxpbms6ICdFWFBPUlRfVEhFTUVfT1BUSU9OUycsXHJcbiAgICAgIGRlc2NyaXB0aW9uOlxyXG4gICAgICAgICdKU09OLCBzdHJpbmdpZmllZCBKU09OIG9yIGZpbGVuYW1lIHdpdGggdGhlbWUgb3B0aW9ucyBmb3IgSGlnaGNoYXJ0cy5zZXRPcHRpb25zJyxcclxuICAgICAgcHJvbXB0T3B0aW9uczoge1xyXG4gICAgICAgIHR5cGU6ICd0ZXh0J1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgcmFzdGVyaXphdGlvblRpbWVvdXQ6IHtcclxuICAgICAgdmFsdWU6IDE1MDAsXHJcbiAgICAgIHR5cGVzOiBbJ251bWJlciddLFxyXG4gICAgICBlbnZMaW5rOiAnRVhQT1JUX1JBU1RFUklaQVRJT05fVElNRU9VVCcsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiAnTWlsbGlzZWNvbmRzIHRvIHdhaXQgZm9yIHdlYnBhZ2UgcmVuZGVyaW5nJyxcclxuICAgICAgcHJvbXB0T3B0aW9uczoge1xyXG4gICAgICAgIHR5cGU6ICdudW1iZXInXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LFxyXG4gIGN1c3RvbUxvZ2ljOiB7XHJcbiAgICBhbGxvd0NvZGVFeGVjdXRpb246IHtcclxuICAgICAgdmFsdWU6IGZhbHNlLFxyXG4gICAgICB0eXBlczogWydib29sZWFuJ10sXHJcbiAgICAgIGVudkxpbms6ICdDVVNUT01fTE9HSUNfQUxMT1dfQ09ERV9FWEVDVVRJT04nLFxyXG4gICAgICBkZXNjcmlwdGlvbjpcclxuICAgICAgICAnQWxsb3dzIG9yIGRpc2FsbG93cyBleGVjdXRpb24gb2YgYXJiaXRyYXJ5IGNvZGUgZHVyaW5nIGV4cG9ydGluZycsXHJcbiAgICAgIHByb21wdE9wdGlvbnM6IHtcclxuICAgICAgICB0eXBlOiAndG9nZ2xlJ1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgYWxsb3dGaWxlUmVzb3VyY2VzOiB7XHJcbiAgICAgIHZhbHVlOiBmYWxzZSxcclxuICAgICAgdHlwZXM6IFsnYm9vbGVhbiddLFxyXG4gICAgICBlbnZMaW5rOiAnQ1VTVE9NX0xPR0lDX0FMTE9XX0ZJTEVfUkVTT1VSQ0VTJyxcclxuICAgICAgZGVzY3JpcHRpb246XHJcbiAgICAgICAgJ0FsbG93cyBvciBkaXNhbGxvd3MgaW5qZWN0aW9uIG9mIGZpbGVzeXN0ZW0gcmVzb3VyY2VzIChkaXNhYmxlZCBpbiBzZXJ2ZXIgbW9kZSknLFxyXG4gICAgICBwcm9tcHRPcHRpb25zOiB7XHJcbiAgICAgICAgdHlwZTogJ3RvZ2dsZSdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIGN1c3RvbUNvZGU6IHtcclxuICAgICAgdmFsdWU6IG51bGwsXHJcbiAgICAgIHR5cGVzOiBbJ3N0cmluZycsICdudWxsJ10sXHJcbiAgICAgIGVudkxpbms6ICdDVVNUT01fTE9HSUNfQ1VTVE9NX0NPREUnLFxyXG4gICAgICBkZXNjcmlwdGlvbjpcclxuICAgICAgICAnQ3VzdG9tIGNvZGUgdG8gZXhlY3V0ZSBiZWZvcmUgY2hhcnQgaW5pdGlhbGl6YXRpb24uIENhbiBiZSBhIGZ1bmN0aW9uLCBjb2RlIHdyYXBwZWQgaW4gYSBmdW5jdGlvbiwgb3IgYSAuanMgZmlsZW5hbWUnLFxyXG4gICAgICBwcm9tcHRPcHRpb25zOiB7XHJcbiAgICAgICAgdHlwZTogJ3RleHQnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBjYWxsYmFjazoge1xyXG4gICAgICB2YWx1ZTogbnVsbCxcclxuICAgICAgdHlwZXM6IFsnc3RyaW5nJywgJ251bGwnXSxcclxuICAgICAgZW52TGluazogJ0NVU1RPTV9MT0dJQ19DQUxMQkFDSycsXHJcbiAgICAgIGRlc2NyaXB0aW9uOlxyXG4gICAgICAgICdKYXZhU2NyaXB0IGNvZGUgdG8gcnVuIGR1cmluZyBjb25zdHJ1Y3Rpb24uIENhbiBiZSBhIGZ1bmN0aW9uIG9yIGEgLmpzIGZpbGVuYW1lJyxcclxuICAgICAgcHJvbXB0T3B0aW9uczoge1xyXG4gICAgICAgIHR5cGU6ICd0ZXh0J1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgcmVzb3VyY2VzOiB7XHJcbiAgICAgIHZhbHVlOiBudWxsLFxyXG4gICAgICB0eXBlczogWydPYmplY3QnLCAnc3RyaW5nJywgJ251bGwnXSxcclxuICAgICAgZW52TGluazogJ0NVU1RPTV9MT0dJQ19SRVNPVVJDRVMnLFxyXG4gICAgICBkZXNjcmlwdGlvbjpcclxuICAgICAgICAnQWRkaXRpb25hbCByZXNvdXJjZXMgYXMgSlNPTiwgc3RyaW5naWZpZWQgSlNPTiwgb3IgZmlsZW5hbWUsIGNvbnRhaW5pbmcgZmlsZXMsIGpzLCBhbmQgY3NzIHNlY3Rpb25zJyxcclxuICAgICAgcHJvbXB0T3B0aW9uczoge1xyXG4gICAgICAgIHR5cGU6ICd0ZXh0J1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgbG9hZENvbmZpZzoge1xyXG4gICAgICB2YWx1ZTogbnVsbCxcclxuICAgICAgdHlwZXM6IFsnc3RyaW5nJywgJ251bGwnXSxcclxuICAgICAgZW52TGluazogJ0NVU1RPTV9MT0dJQ19MT0FEX0NPTkZJRycsXHJcbiAgICAgIGxlZ2FjeU5hbWU6ICdmcm9tRmlsZScsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiAnRmlsZSB3aXRoIGEgcHJlLWRlZmluZWQgY29uZmlndXJhdGlvbiB0byB1c2UnLFxyXG4gICAgICBwcm9tcHRPcHRpb25zOiB7XHJcbiAgICAgICAgdHlwZTogJ3RleHQnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBjcmVhdGVDb25maWc6IHtcclxuICAgICAgdmFsdWU6IG51bGwsXHJcbiAgICAgIHR5cGVzOiBbJ3N0cmluZycsICdudWxsJ10sXHJcbiAgICAgIGVudkxpbms6ICdDVVNUT01fTE9HSUNfQ1JFQVRFX0NPTkZJRycsXHJcbiAgICAgIGRlc2NyaXB0aW9uOlxyXG4gICAgICAgICdQcm9tcHQtYmFzZWQgb3B0aW9uIHNldHRpbmcsIHNhdmVkIHRvIGEgcHJvdmlkZWQgY29uZmlnIGZpbGUnLFxyXG4gICAgICBwcm9tcHRPcHRpb25zOiB7XHJcbiAgICAgICAgdHlwZTogJ3RleHQnXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LFxyXG4gIHNlcnZlcjoge1xyXG4gICAgZW5hYmxlOiB7XHJcbiAgICAgIHZhbHVlOiBmYWxzZSxcclxuICAgICAgdHlwZXM6IFsnYm9vbGVhbiddLFxyXG4gICAgICBlbnZMaW5rOiAnU0VSVkVSX0VOQUJMRScsXHJcbiAgICAgIGNsaU5hbWU6ICdlbmFibGVTZXJ2ZXInLFxyXG4gICAgICBkZXNjcmlwdGlvbjogJ1N0YXJ0cyB0aGUgc2VydmVyIHdoZW4gdHJ1ZScsXHJcbiAgICAgIHByb21wdE9wdGlvbnM6IHtcclxuICAgICAgICB0eXBlOiAndG9nZ2xlJ1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgaG9zdDoge1xyXG4gICAgICB2YWx1ZTogJzAuMC4wLjAnLFxyXG4gICAgICB0eXBlczogWydzdHJpbmcnXSxcclxuICAgICAgZW52TGluazogJ1NFUlZFUl9IT1NUJyxcclxuICAgICAgZGVzY3JpcHRpb246ICdIb3N0bmFtZSBvZiB0aGUgc2VydmVyJyxcclxuICAgICAgcHJvbXB0T3B0aW9uczoge1xyXG4gICAgICAgIHR5cGU6ICd0ZXh0J1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgcG9ydDoge1xyXG4gICAgICB2YWx1ZTogNzgwMSxcclxuICAgICAgdHlwZXM6IFsnbnVtYmVyJ10sXHJcbiAgICAgIGVudkxpbms6ICdTRVJWRVJfUE9SVCcsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiAnUG9ydCBudW1iZXIgZm9yIHRoZSBzZXJ2ZXInLFxyXG4gICAgICBwcm9tcHRPcHRpb25zOiB7XHJcbiAgICAgICAgdHlwZTogJ251bWJlcidcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIHVwbG9hZExpbWl0OiB7XHJcbiAgICAgIHZhbHVlOiAzLFxyXG4gICAgICB0eXBlczogWydudW1iZXInXSxcclxuICAgICAgZW52TGluazogJ1NFUlZFUl9VUExPQURfTElNSVQnLFxyXG4gICAgICBkZXNjcmlwdGlvbjogJ01heGltdW0gcmVxdWVzdCBib2R5IHNpemUgaW4gTUInLFxyXG4gICAgICBwcm9tcHRPcHRpb25zOiB7XHJcbiAgICAgICAgdHlwZTogJ251bWJlcidcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIGJlbmNobWFya2luZzoge1xyXG4gICAgICB2YWx1ZTogZmFsc2UsXHJcbiAgICAgIHR5cGVzOiBbJ2Jvb2xlYW4nXSxcclxuICAgICAgZW52TGluazogJ1NFUlZFUl9CRU5DSE1BUktJTkcnLFxyXG4gICAgICBjbGlOYW1lOiAnc2VydmVyQmVuY2htYXJraW5nJyxcclxuICAgICAgZGVzY3JpcHRpb246XHJcbiAgICAgICAgJ0Rpc3BsYXlzIG9yIG5vdCBhY3Rpb24gZHVyYXRpb25zIGluIG1pbGxpc2Vjb25kcyBkdXJpbmcgc2VydmVyIHJlcXVlc3RzJyxcclxuICAgICAgcHJvbXB0T3B0aW9uczoge1xyXG4gICAgICAgIHR5cGU6ICd0b2dnbGUnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBwcm94eToge1xyXG4gICAgICBob3N0OiB7XHJcbiAgICAgICAgdmFsdWU6IG51bGwsXHJcbiAgICAgICAgdHlwZXM6IFsnc3RyaW5nJywgJ251bGwnXSxcclxuICAgICAgICBlbnZMaW5rOiAnU0VSVkVSX1BST1hZX0hPU1QnLFxyXG4gICAgICAgIGNsaU5hbWU6ICdwcm94eUhvc3QnLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnSG9zdCBvZiB0aGUgcHJveHkgc2VydmVyLCBpZiBhcHBsaWNhYmxlJyxcclxuICAgICAgICBwcm9tcHRPcHRpb25zOiB7XHJcbiAgICAgICAgICB0eXBlOiAndGV4dCdcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIHBvcnQ6IHtcclxuICAgICAgICB2YWx1ZTogbnVsbCxcclxuICAgICAgICB0eXBlczogWydudW1iZXInLCAnbnVsbCddLFxyXG4gICAgICAgIGVudkxpbms6ICdTRVJWRVJfUFJPWFlfUE9SVCcsXHJcbiAgICAgICAgY2xpTmFtZTogJ3Byb3h5UG9ydCcsXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdQb3J0IG9mIHRoZSBwcm94eSBzZXJ2ZXIsIGlmIGFwcGxpY2FibGUnLFxyXG4gICAgICAgIHByb21wdE9wdGlvbnM6IHtcclxuICAgICAgICAgIHR5cGU6ICdudW1iZXInXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICB0aW1lb3V0OiB7XHJcbiAgICAgICAgdmFsdWU6IDUwMDAsXHJcbiAgICAgICAgdHlwZXM6IFsnbnVtYmVyJ10sXHJcbiAgICAgICAgZW52TGluazogJ1NFUlZFUl9QUk9YWV9USU1FT1VUJyxcclxuICAgICAgICBjbGlOYW1lOiAncHJveHlUaW1lb3V0JyxcclxuICAgICAgICBkZXNjcmlwdGlvbjpcclxuICAgICAgICAgICdUaW1lb3V0IGluIG1pbGxpc2Vjb25kcyBmb3IgdGhlIHByb3h5IHNlcnZlciwgaWYgYXBwbGljYWJsZScsXHJcbiAgICAgICAgcHJvbXB0T3B0aW9uczoge1xyXG4gICAgICAgICAgdHlwZTogJ251bWJlcidcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICByYXRlTGltaXRpbmc6IHtcclxuICAgICAgZW5hYmxlOiB7XHJcbiAgICAgICAgdmFsdWU6IGZhbHNlLFxyXG4gICAgICAgIHR5cGVzOiBbJ2Jvb2xlYW4nXSxcclxuICAgICAgICBlbnZMaW5rOiAnU0VSVkVSX1JBVEVfTElNSVRJTkdfRU5BQkxFJyxcclxuICAgICAgICBjbGlOYW1lOiAnZW5hYmxlUmF0ZUxpbWl0aW5nJyxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ0VuYWJsZXMgb3IgZGlzYWJsZXMgcmF0ZSBsaW1pdGluZyBvbiB0aGUgc2VydmVyJyxcclxuICAgICAgICBwcm9tcHRPcHRpb25zOiB7XHJcbiAgICAgICAgICB0eXBlOiAndG9nZ2xlJ1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgbWF4UmVxdWVzdHM6IHtcclxuICAgICAgICB2YWx1ZTogMTAsXHJcbiAgICAgICAgdHlwZXM6IFsnbnVtYmVyJ10sXHJcbiAgICAgICAgZW52TGluazogJ1NFUlZFUl9SQVRFX0xJTUlUSU5HX01BWF9SRVFVRVNUUycsXHJcbiAgICAgICAgbGVnYWN5TmFtZTogJ3JhdGVMaW1pdCcsXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdNYXhpbXVtIG51bWJlciBvZiByZXF1ZXN0cyBhbGxvd2VkIHBlciBtaW51dGUnLFxyXG4gICAgICAgIHByb21wdE9wdGlvbnM6IHtcclxuICAgICAgICAgIHR5cGU6ICdudW1iZXInXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICB3aW5kb3c6IHtcclxuICAgICAgICB2YWx1ZTogMSxcclxuICAgICAgICB0eXBlczogWydudW1iZXInXSxcclxuICAgICAgICBlbnZMaW5rOiAnU0VSVkVSX1JBVEVfTElNSVRJTkdfV0lORE9XJyxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ1RpbWUgd2luZG93IGluIG1pbnV0ZXMgZm9yIHJhdGUgbGltaXRpbmcnLFxyXG4gICAgICAgIHByb21wdE9wdGlvbnM6IHtcclxuICAgICAgICAgIHR5cGU6ICdudW1iZXInXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICBkZWxheToge1xyXG4gICAgICAgIHZhbHVlOiAwLFxyXG4gICAgICAgIHR5cGVzOiBbJ251bWJlciddLFxyXG4gICAgICAgIGVudkxpbms6ICdTRVJWRVJfUkFURV9MSU1JVElOR19ERUxBWScsXHJcbiAgICAgICAgZGVzY3JpcHRpb246XHJcbiAgICAgICAgICAnRGVsYXkgZHVyYXRpb24gYmV0d2VlbiBzdWNjZXNzaXZlIHJlcXVlc3RzIGJlZm9yZSByZWFjaGluZyB0aGUgbGltaXQnLFxyXG4gICAgICAgIHByb21wdE9wdGlvbnM6IHtcclxuICAgICAgICAgIHR5cGU6ICdudW1iZXInXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICB0cnVzdFByb3h5OiB7XHJcbiAgICAgICAgdmFsdWU6IGZhbHNlLFxyXG4gICAgICAgIHR5cGVzOiBbJ2Jvb2xlYW4nXSxcclxuICAgICAgICBlbnZMaW5rOiAnU0VSVkVSX1JBVEVfTElNSVRJTkdfVFJVU1RfUFJPWFknLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnU2V0IHRvIHRydWUgaWYgdGhlIHNlcnZlciBpcyBiZWhpbmQgYSBsb2FkIGJhbGFuY2VyJyxcclxuICAgICAgICBwcm9tcHRPcHRpb25zOiB7XHJcbiAgICAgICAgICB0eXBlOiAndG9nZ2xlJ1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgc2tpcEtleToge1xyXG4gICAgICAgIHZhbHVlOiBudWxsLFxyXG4gICAgICAgIHR5cGVzOiBbJ3N0cmluZycsICdudWxsJ10sXHJcbiAgICAgICAgZW52TGluazogJ1NFUlZFUl9SQVRFX0xJTUlUSU5HX1NLSVBfS0VZJyxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ0tleSB0byBieXBhc3MgdGhlIHJhdGUgbGltaXRlciwgdXNlZCB3aXRoIGBza2lwVG9rZW5gJyxcclxuICAgICAgICBwcm9tcHRPcHRpb25zOiB7XHJcbiAgICAgICAgICB0eXBlOiAndGV4dCdcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIHNraXBUb2tlbjoge1xyXG4gICAgICAgIHZhbHVlOiBudWxsLFxyXG4gICAgICAgIHR5cGVzOiBbJ3N0cmluZycsICdudWxsJ10sXHJcbiAgICAgICAgZW52TGluazogJ1NFUlZFUl9SQVRFX0xJTUlUSU5HX1NLSVBfVE9LRU4nLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnVG9rZW4gdG8gYnlwYXNzIHRoZSByYXRlIGxpbWl0ZXIsIHVzZWQgd2l0aCBgc2tpcEtleWAnLFxyXG4gICAgICAgIHByb21wdE9wdGlvbnM6IHtcclxuICAgICAgICAgIHR5cGU6ICd0ZXh0J1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIHNzbDoge1xyXG4gICAgICBlbmFibGU6IHtcclxuICAgICAgICB2YWx1ZTogZmFsc2UsXHJcbiAgICAgICAgdHlwZXM6IFsnYm9vbGVhbiddLFxyXG4gICAgICAgIGVudkxpbms6ICdTRVJWRVJfU1NMX0VOQUJMRScsXHJcbiAgICAgICAgY2xpTmFtZTogJ2VuYWJsZVNzbCcsXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdFbmFibGVzIG9yIGRpc2FibGVzIFNTTCBwcm90b2NvbCcsXHJcbiAgICAgICAgcHJvbXB0T3B0aW9uczoge1xyXG4gICAgICAgICAgdHlwZTogJ3RvZ2dsZSdcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIGZvcmNlOiB7XHJcbiAgICAgICAgdmFsdWU6IGZhbHNlLFxyXG4gICAgICAgIHR5cGVzOiBbJ2Jvb2xlYW4nXSxcclxuICAgICAgICBlbnZMaW5rOiAnU0VSVkVSX1NTTF9GT1JDRScsXHJcbiAgICAgICAgY2xpTmFtZTogJ3NzbEZvcmNlJyxcclxuICAgICAgICBsZWdhY3lOYW1lOiAnc3NsT25seScsXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdGb3JjZXMgdGhlIHNlcnZlciB0byB1c2UgSFRUUFMgb25seSB3aGVuIHRydWUnLFxyXG4gICAgICAgIHByb21wdE9wdGlvbnM6IHtcclxuICAgICAgICAgIHR5cGU6ICd0b2dnbGUnXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICBwb3J0OiB7XHJcbiAgICAgICAgdmFsdWU6IDQ0MyxcclxuICAgICAgICB0eXBlczogWydudW1iZXInXSxcclxuICAgICAgICBlbnZMaW5rOiAnU0VSVkVSX1NTTF9QT1JUJyxcclxuICAgICAgICBjbGlOYW1lOiAnc3NsUG9ydCcsXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdQb3J0IGZvciB0aGUgU1NMIHNlcnZlcicsXHJcbiAgICAgICAgcHJvbXB0T3B0aW9uczoge1xyXG4gICAgICAgICAgdHlwZTogJ251bWJlcidcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIGNlcnRQYXRoOiB7XHJcbiAgICAgICAgdmFsdWU6IG51bGwsXHJcbiAgICAgICAgdHlwZXM6IFsnc3RyaW5nJywgJ251bGwnXSxcclxuICAgICAgICBlbnZMaW5rOiAnU0VSVkVSX1NTTF9DRVJUX1BBVEgnLFxyXG4gICAgICAgIGNsaU5hbWU6ICdzc2xDZXJ0UGF0aCcsXHJcbiAgICAgICAgbGVnYWN5TmFtZTogJ3NzbFBhdGgnLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnUGF0aCB0byB0aGUgU1NMIGNlcnRpZmljYXRlL2tleSBmaWxlJyxcclxuICAgICAgICBwcm9tcHRPcHRpb25zOiB7XHJcbiAgICAgICAgICB0eXBlOiAndGV4dCdcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LFxyXG4gIHBvb2w6IHtcclxuICAgIG1pbldvcmtlcnM6IHtcclxuICAgICAgdmFsdWU6IDQsXHJcbiAgICAgIHR5cGVzOiBbJ251bWJlciddLFxyXG4gICAgICBlbnZMaW5rOiAnUE9PTF9NSU5fV09SS0VSUycsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiAnTWluaW11bSBhbmQgaW5pdGlhbCBudW1iZXIgb2YgcG9vbCB3b3JrZXJzIHRvIHNwYXduJyxcclxuICAgICAgcHJvbXB0T3B0aW9uczoge1xyXG4gICAgICAgIHR5cGU6ICdudW1iZXInXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBtYXhXb3JrZXJzOiB7XHJcbiAgICAgIHZhbHVlOiA4LFxyXG4gICAgICB0eXBlczogWydudW1iZXInXSxcclxuICAgICAgZW52TGluazogJ1BPT0xfTUFYX1dPUktFUlMnLFxyXG4gICAgICBsZWdhY3lOYW1lOiAnd29ya2VycycsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiAnTWF4aW11bSBudW1iZXIgb2YgcG9vbCB3b3JrZXJzIHRvIHNwYXduJyxcclxuICAgICAgcHJvbXB0T3B0aW9uczoge1xyXG4gICAgICAgIHR5cGU6ICdudW1iZXInXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICB3b3JrTGltaXQ6IHtcclxuICAgICAgdmFsdWU6IDQwLFxyXG4gICAgICB0eXBlczogWydudW1iZXInXSxcclxuICAgICAgZW52TGluazogJ1BPT0xfV09SS19MSU1JVCcsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiAnTnVtYmVyIG9mIHRhc2tzIGEgd29ya2VyIGNhbiBoYW5kbGUgYmVmb3JlIHJlc3RhcnRpbmcnLFxyXG4gICAgICBwcm9tcHRPcHRpb25zOiB7XHJcbiAgICAgICAgdHlwZTogJ251bWJlcidcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIGFjcXVpcmVUaW1lb3V0OiB7XHJcbiAgICAgIHZhbHVlOiA1MDAwLFxyXG4gICAgICB0eXBlczogWydudW1iZXInXSxcclxuICAgICAgZW52TGluazogJ1BPT0xfQUNRVUlSRV9USU1FT1VUJyxcclxuICAgICAgZGVzY3JpcHRpb246ICdUaW1lb3V0IGluIG1pbGxpc2Vjb25kcyBmb3IgYWNxdWlyaW5nIGEgcmVzb3VyY2UnLFxyXG4gICAgICBwcm9tcHRPcHRpb25zOiB7XHJcbiAgICAgICAgdHlwZTogJ251bWJlcidcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIGNyZWF0ZVRpbWVvdXQ6IHtcclxuICAgICAgdmFsdWU6IDUwMDAsXHJcbiAgICAgIHR5cGVzOiBbJ251bWJlciddLFxyXG4gICAgICBlbnZMaW5rOiAnUE9PTF9DUkVBVEVfVElNRU9VVCcsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiAnVGltZW91dCBpbiBtaWxsaXNlY29uZHMgZm9yIGNyZWF0aW5nIGEgcmVzb3VyY2UnLFxyXG4gICAgICBwcm9tcHRPcHRpb25zOiB7XHJcbiAgICAgICAgdHlwZTogJ251bWJlcidcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIGRlc3Ryb3lUaW1lb3V0OiB7XHJcbiAgICAgIHZhbHVlOiA1MDAwLFxyXG4gICAgICB0eXBlczogWydudW1iZXInXSxcclxuICAgICAgZW52TGluazogJ1BPT0xfREVTVFJPWV9USU1FT1VUJyxcclxuICAgICAgZGVzY3JpcHRpb246ICdUaW1lb3V0IGluIG1pbGxpc2Vjb25kcyBmb3IgZGVzdHJveWluZyBhIHJlc291cmNlJyxcclxuICAgICAgcHJvbXB0T3B0aW9uczoge1xyXG4gICAgICAgIHR5cGU6ICdudW1iZXInXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBpZGxlVGltZW91dDoge1xyXG4gICAgICB2YWx1ZTogMzAwMDAsXHJcbiAgICAgIHR5cGVzOiBbJ251bWJlciddLFxyXG4gICAgICBlbnZMaW5rOiAnUE9PTF9JRExFX1RJTUVPVVQnLFxyXG4gICAgICBkZXNjcmlwdGlvbjogJ1RpbWVvdXQgaW4gbWlsbGlzZWNvbmRzIGZvciBkZXN0cm95aW5nIGlkbGUgcmVzb3VyY2VzJyxcclxuICAgICAgcHJvbXB0T3B0aW9uczoge1xyXG4gICAgICAgIHR5cGU6ICdudW1iZXInXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBjcmVhdGVSZXRyeUludGVydmFsOiB7XHJcbiAgICAgIHZhbHVlOiAyMDAsXHJcbiAgICAgIHR5cGVzOiBbJ251bWJlciddLFxyXG4gICAgICBlbnZMaW5rOiAnUE9PTF9DUkVBVEVfUkVUUllfSU5URVJWQUwnLFxyXG4gICAgICBkZXNjcmlwdGlvbjpcclxuICAgICAgICAnSW50ZXJ2YWwgaW4gbWlsbGlzZWNvbmRzIGJlZm9yZSByZXRyeWluZyByZXNvdXJjZSBjcmVhdGlvbiBvbiBmYWlsdXJlJyxcclxuICAgICAgcHJvbXB0T3B0aW9uczoge1xyXG4gICAgICAgIHR5cGU6ICdudW1iZXInXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICByZWFwZXJJbnRlcnZhbDoge1xyXG4gICAgICB2YWx1ZTogMTAwMCxcclxuICAgICAgdHlwZXM6IFsnbnVtYmVyJ10sXHJcbiAgICAgIGVudkxpbms6ICdQT09MX1JFQVBFUl9JTlRFUlZBTCcsXHJcbiAgICAgIGRlc2NyaXB0aW9uOlxyXG4gICAgICAgICdJbnRlcnZhbCBpbiBtaWxsaXNlY29uZHMgdG8gY2hlY2sgYW5kIGRlc3Ryb3kgaWRsZSByZXNvdXJjZXMnLFxyXG4gICAgICBwcm9tcHRPcHRpb25zOiB7XHJcbiAgICAgICAgdHlwZTogJ251bWJlcidcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIGJlbmNobWFya2luZzoge1xyXG4gICAgICB2YWx1ZTogZmFsc2UsXHJcbiAgICAgIHR5cGVzOiBbJ2Jvb2xlYW4nXSxcclxuICAgICAgZW52TGluazogJ1BPT0xfQkVOQ0hNQVJLSU5HJyxcclxuICAgICAgY2xpTmFtZTogJ3Bvb2xCZW5jaG1hcmtpbmcnLFxyXG4gICAgICBkZXNjcmlwdGlvbjogJ1Nob3dzIHN0YXRpc3RpY3MgZm9yIHRoZSBwb29sIG9mIHJlc291cmNlcycsXHJcbiAgICAgIHByb21wdE9wdGlvbnM6IHtcclxuICAgICAgICB0eXBlOiAndG9nZ2xlJ1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSxcclxuICBsb2dnaW5nOiB7XHJcbiAgICBsZXZlbDoge1xyXG4gICAgICB2YWx1ZTogNCxcclxuICAgICAgdHlwZXM6IFsnbnVtYmVyJ10sXHJcbiAgICAgIGVudkxpbms6ICdMT0dHSU5HX0xFVkVMJyxcclxuICAgICAgY2xpTmFtZTogJ2xvZ0xldmVsJyxcclxuICAgICAgZGVzY3JpcHRpb246ICdMb2dnaW5nIHZlcmJvc2l0eSBsZXZlbCcsXHJcbiAgICAgIHByb21wdE9wdGlvbnM6IHtcclxuICAgICAgICB0eXBlOiAnbnVtYmVyJyxcclxuICAgICAgICByb3VuZDogMCxcclxuICAgICAgICBtaW46IDAsXHJcbiAgICAgICAgbWF4OiA1XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBmaWxlOiB7XHJcbiAgICAgIHZhbHVlOiAnaGlnaGNoYXJ0cy1leHBvcnQtc2VydmVyLmxvZycsXHJcbiAgICAgIHR5cGVzOiBbJ3N0cmluZyddLFxyXG4gICAgICBlbnZMaW5rOiAnTE9HR0lOR19GSUxFJyxcclxuICAgICAgY2xpTmFtZTogJ2xvZ0ZpbGUnLFxyXG4gICAgICBkZXNjcmlwdGlvbjpcclxuICAgICAgICAnTG9nIGZpbGUgbmFtZS4gUmVxdWlyZXMgYGxvZ1RvRmlsZWAgYW5kIGBsb2dEZXN0YCB0byBiZSBzZXQnLFxyXG4gICAgICBwcm9tcHRPcHRpb25zOiB7XHJcbiAgICAgICAgdHlwZTogJ3RleHQnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBkZXN0OiB7XHJcbiAgICAgIHZhbHVlOiAnbG9nJyxcclxuICAgICAgdHlwZXM6IFsnc3RyaW5nJ10sXHJcbiAgICAgIGVudkxpbms6ICdMT0dHSU5HX0RFU1QnLFxyXG4gICAgICBjbGlOYW1lOiAnbG9nRGVzdCcsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiAnUGF0aCB0byBzdG9yZSBsb2cgZmlsZXMuIFJlcXVpcmVzIGBsb2dUb0ZpbGVgIHRvIGJlIHNldCcsXHJcbiAgICAgIHByb21wdE9wdGlvbnM6IHtcclxuICAgICAgICB0eXBlOiAndGV4dCdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIHRvQ29uc29sZToge1xyXG4gICAgICB2YWx1ZTogdHJ1ZSxcclxuICAgICAgdHlwZXM6IFsnYm9vbGVhbiddLFxyXG4gICAgICBlbnZMaW5rOiAnTE9HR0lOR19UT19DT05TT0xFJyxcclxuICAgICAgY2xpTmFtZTogJ2xvZ1RvQ29uc29sZScsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiAnRW5hYmxlcyBvciBkaXNhYmxlcyBjb25zb2xlIGxvZ2dpbmcnLFxyXG4gICAgICBwcm9tcHRPcHRpb25zOiB7XHJcbiAgICAgICAgdHlwZTogJ3RvZ2dsZSdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIHRvRmlsZToge1xyXG4gICAgICB2YWx1ZTogdHJ1ZSxcclxuICAgICAgdHlwZXM6IFsnYm9vbGVhbiddLFxyXG4gICAgICBlbnZMaW5rOiAnTE9HR0lOR19UT19GSUxFJyxcclxuICAgICAgY2xpTmFtZTogJ2xvZ1RvRmlsZScsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiAnRW5hYmxlcyBvciBkaXNhYmxlcyBsb2dnaW5nIHRvIGEgZmlsZScsXHJcbiAgICAgIHByb21wdE9wdGlvbnM6IHtcclxuICAgICAgICB0eXBlOiAndG9nZ2xlJ1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSxcclxuICB1aToge1xyXG4gICAgZW5hYmxlOiB7XHJcbiAgICAgIHZhbHVlOiBmYWxzZSxcclxuICAgICAgdHlwZXM6IFsnYm9vbGVhbiddLFxyXG4gICAgICBlbnZMaW5rOiAnVUlfRU5BQkxFJyxcclxuICAgICAgY2xpTmFtZTogJ2VuYWJsZVVpJyxcclxuICAgICAgZGVzY3JpcHRpb246ICdFbmFibGVzIG9yIGRpc2FibGVzIHRoZSBVSSBmb3IgdGhlIGV4cG9ydCBzZXJ2ZXInLFxyXG4gICAgICBwcm9tcHRPcHRpb25zOiB7XHJcbiAgICAgICAgdHlwZTogJ3RvZ2dsZSdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIHJvdXRlOiB7XHJcbiAgICAgIHZhbHVlOiAnLycsXHJcbiAgICAgIHR5cGVzOiBbJ3N0cmluZyddLFxyXG4gICAgICBlbnZMaW5rOiAnVUlfUk9VVEUnLFxyXG4gICAgICBjbGlOYW1lOiAndWlSb3V0ZScsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIGVuZHBvaW50IHJvdXRlIGZvciB0aGUgVUknLFxyXG4gICAgICBwcm9tcHRPcHRpb25zOiB7XHJcbiAgICAgICAgdHlwZTogJ3RleHQnXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LFxyXG4gIG90aGVyOiB7XHJcbiAgICBub2RlRW52OiB7XHJcbiAgICAgIHZhbHVlOiAncHJvZHVjdGlvbicsXHJcbiAgICAgIHR5cGVzOiBbJ3N0cmluZyddLFxyXG4gICAgICBlbnZMaW5rOiAnT1RIRVJfTk9ERV9FTlYnLFxyXG4gICAgICBkZXNjcmlwdGlvbjogJ1RoZSBOb2RlLmpzIGVudmlyb25tZW50IHR5cGUnLFxyXG4gICAgICBwcm9tcHRPcHRpb25zOiB7XHJcbiAgICAgICAgdHlwZTogJ3RleHQnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBsaXN0ZW5Ub1Byb2Nlc3NFeGl0czoge1xyXG4gICAgICB2YWx1ZTogdHJ1ZSxcclxuICAgICAgdHlwZXM6IFsnYm9vbGVhbiddLFxyXG4gICAgICBlbnZMaW5rOiAnT1RIRVJfTElTVEVOX1RPX1BST0NFU1NfRVhJVFMnLFxyXG4gICAgICBkZXNjcmlwdGlvbjogJ1doZXRoZXIgb3Igbm90IHRvIGF0dGFjaCBwcm9jZXNzLmV4aXQgaGFuZGxlcnMnLFxyXG4gICAgICBwcm9tcHRPcHRpb25zOiB7XHJcbiAgICAgICAgdHlwZTogJ3RvZ2dsZSdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIG5vTG9nbzoge1xyXG4gICAgICB2YWx1ZTogZmFsc2UsXHJcbiAgICAgIHR5cGVzOiBbJ2Jvb2xlYW4nXSxcclxuICAgICAgZW52TGluazogJ09USEVSX05PX0xPR08nLFxyXG4gICAgICBkZXNjcmlwdGlvbjogJ0Rpc3BsYXkgb3Igc2tpcCBwcmludGluZyB0aGUgbG9nbyBvbiBzdGFydHVwJyxcclxuICAgICAgcHJvbXB0T3B0aW9uczoge1xyXG4gICAgICAgIHR5cGU6ICd0b2dnbGUnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBoYXJkUmVzZXRQYWdlOiB7XHJcbiAgICAgIHZhbHVlOiBmYWxzZSxcclxuICAgICAgdHlwZXM6IFsnYm9vbGVhbiddLFxyXG4gICAgICBlbnZMaW5rOiAnT1RIRVJfSEFSRF9SRVNFVF9QQUdFJyxcclxuICAgICAgZGVzY3JpcHRpb246ICdXaGV0aGVyIG9yIG5vdCB0byByZXNldCB0aGUgcGFnZSBjb250ZW50IGVudGlyZWx5JyxcclxuICAgICAgcHJvbXB0T3B0aW9uczoge1xyXG4gICAgICAgIHR5cGU6ICd0b2dnbGUnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBicm93c2VyU2hlbGxNb2RlOiB7XHJcbiAgICAgIHZhbHVlOiB0cnVlLFxyXG4gICAgICB0eXBlczogWydib29sZWFuJ10sXHJcbiAgICAgIGVudkxpbms6ICdPVEhFUl9CUk9XU0VSX1NIRUxMX01PREUnLFxyXG4gICAgICBkZXNjcmlwdGlvbjogJ1doZXRoZXIgb3Igbm90IHRvIHNldCB0aGUgYnJvd3NlciB0byBydW4gaW4gc2hlbGwgbW9kZScsXHJcbiAgICAgIHByb21wdE9wdGlvbnM6IHtcclxuICAgICAgICB0eXBlOiAndG9nZ2xlJ1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSxcclxuICBkZWJ1Zzoge1xyXG4gICAgZW5hYmxlOiB7XHJcbiAgICAgIHZhbHVlOiBmYWxzZSxcclxuICAgICAgdHlwZXM6IFsnYm9vbGVhbiddLFxyXG4gICAgICBlbnZMaW5rOiAnREVCVUdfRU5BQkxFJyxcclxuICAgICAgY2xpTmFtZTogJ2VuYWJsZURlYnVnJyxcclxuICAgICAgZGVzY3JpcHRpb246ICdFbmFibGVzIG9yIGRpc2FibGVzIGRlYnVnIG1vZGUgZm9yIHRoZSB1bmRlcmx5aW5nIGJyb3dzZXInLFxyXG4gICAgICBwcm9tcHRPcHRpb25zOiB7XHJcbiAgICAgICAgdHlwZTogJ3RvZ2dsZSdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIGhlYWRsZXNzOiB7XHJcbiAgICAgIHZhbHVlOiBmYWxzZSxcclxuICAgICAgdHlwZXM6IFsnYm9vbGVhbiddLFxyXG4gICAgICBlbnZMaW5rOiAnREVCVUdfSEVBRExFU1MnLFxyXG4gICAgICBkZXNjcmlwdGlvbjpcclxuICAgICAgICAnV2hldGhlciBvciBub3QgdG8gc2V0IHRoZSBicm93c2VyIHRvIHJ1biBpbiBoZWFkbGVzcyBtb2RlIGR1cmluZyBkZWJ1Z2dpbmcnLFxyXG4gICAgICBwcm9tcHRPcHRpb25zOiB7XHJcbiAgICAgICAgdHlwZTogJ3RvZ2dsZSdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIGRldnRvb2xzOiB7XHJcbiAgICAgIHZhbHVlOiBmYWxzZSxcclxuICAgICAgdHlwZXM6IFsnYm9vbGVhbiddLFxyXG4gICAgICBlbnZMaW5rOiAnREVCVUdfREVWVE9PTFMnLFxyXG4gICAgICBkZXNjcmlwdGlvbjogJ0VuYWJsZXMgb3IgZGlzYWJsZXMgRGV2VG9vbHMgaW4gaGVhZGZ1bCBtb2RlJyxcclxuICAgICAgcHJvbXB0T3B0aW9uczoge1xyXG4gICAgICAgIHR5cGU6ICd0b2dnbGUnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBsaXN0ZW5Ub0NvbnNvbGU6IHtcclxuICAgICAgdmFsdWU6IGZhbHNlLFxyXG4gICAgICB0eXBlczogWydib29sZWFuJ10sXHJcbiAgICAgIGVudkxpbms6ICdERUJVR19MSVNURU5fVE9fQ09OU09MRScsXHJcbiAgICAgIGRlc2NyaXB0aW9uOlxyXG4gICAgICAgICdFbmFibGVzIG9yIGRpc2FibGVzIGxpc3RlbmluZyB0byBjb25zb2xlIG1lc3NhZ2VzIGZyb20gdGhlIGJyb3dzZXInLFxyXG4gICAgICBwcm9tcHRPcHRpb25zOiB7XHJcbiAgICAgICAgdHlwZTogJ3RvZ2dsZSdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIGR1bXBpbzoge1xyXG4gICAgICB2YWx1ZTogZmFsc2UsXHJcbiAgICAgIHR5cGVzOiBbJ2Jvb2xlYW4nXSxcclxuICAgICAgZW52TGluazogJ0RFQlVHX0RVTVBJTycsXHJcbiAgICAgIGRlc2NyaXB0aW9uOlxyXG4gICAgICAgICdSZWRpcmVjdHMgb3Igbm90IGJyb3dzZXIgc3Rkb3V0IGFuZCBzdGRlcnIgdG8gcHJvY2Vzcy5zdGRvdXQgYW5kIHByb2Nlc3Muc3RkZXJyJyxcclxuICAgICAgcHJvbXB0T3B0aW9uczoge1xyXG4gICAgICAgIHR5cGU6ICd0b2dnbGUnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBzbG93TW86IHtcclxuICAgICAgdmFsdWU6IDAsXHJcbiAgICAgIHR5cGVzOiBbJ251bWJlciddLFxyXG4gICAgICBlbnZMaW5rOiAnREVCVUdfU0xPV19NTycsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiAnRGVsYXlzIFB1cHBldGVlciBvcGVyYXRpb25zIGJ5IHRoZSBzcGVjaWZpZWQgbWlsbGlzZWNvbmRzJyxcclxuICAgICAgcHJvbXB0T3B0aW9uczoge1xyXG4gICAgICAgIHR5cGU6ICdudW1iZXInXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBkZWJ1Z2dpbmdQb3J0OiB7XHJcbiAgICAgIHZhbHVlOiA5MjIyLFxyXG4gICAgICB0eXBlczogWydudW1iZXInXSxcclxuICAgICAgZW52TGluazogJ0RFQlVHX0RFQlVHR0lOR19QT1JUJyxcclxuICAgICAgZGVzY3JpcHRpb246ICdQb3J0IHVzZWQgZm9yIGRlYnVnZ2luZycsXHJcbiAgICAgIHByb21wdE9wdGlvbnM6IHtcclxuICAgICAgICB0eXBlOiAnbnVtYmVyJ1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZGVmYXVsdENvbmZpZztcclxuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHJcbkhpZ2hjaGFydHMgRXhwb3J0IFNlcnZlclxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE2LTIwMjUsIEhpZ2hzb2Z0XHJcblxyXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXHJcblxyXG5BZGRpdGlvbmFsbHkgYSB2YWxpZCBIaWdoY2hhcnRzIGxpY2Vuc2UgaXMgcmVxdWlyZWQgZm9yIHVzZS5cclxuXHJcblNlZSBMSUNFTlNFIGZpbGUgaW4gcm9vdCBmb3IgZGV0YWlscy5cclxuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4vKipcclxuICogQG92ZXJ2aWV3IFRoaXMgZmlsZSBpcyByZXNwb25zaWJsZSBmb3IgcGFyc2luZyB0aGUgZW52aXJvbm1lbnQgdmFyaWFibGVzXHJcbiAqIHdpdGggdGhlICd6b2QnIGxpYnJhcnkuIFRoZSBwYXJzZWQgZW52aXJvbm1lbnQgdmFyaWFibGVzIGFyZSB0aGVuIGV4cG9ydGVkXHJcbiAqIHRvIGJlIHVzZWQgaW4gdGhlIGFwcGxpY2F0aW9uIGFzIGBlbnZzYC4gV2Ugc2hvdWxkIG5vdCB1c2UgdGhlIGBwcm9jZXNzLmVudmBcclxuICogZGlyZWN0bHkgaW4gdGhlIGFwcGxpY2F0aW9uIGFzIHRoZXNlIHdvdWxkIG5vdCBiZSBwYXJzZWQgcHJvcGVybHkuXHJcbiAqXHJcbiAqIFRoZSBlbnZpcm9ubWVudCB2YXJpYWJsZXMgYXJlIHBhcnNlZCBhbmQgdmFsaWRhdGVkIG9ubHkgb25jZSB3aGVuXHJcbiAqIHRoZSBhcHBsaWNhdGlvbiBzdGFydHMuIFdlIHNob3VsZCB3cml0ZSBhIGN1c3RvbSB2YWxpZGF0b3Igb3IgYSB0cmFuc2Zvcm1lclxyXG4gKiBmb3IgZWFjaCBvZiB0aGUgb3B0aW9ucy5cclxuICovXHJcblxyXG5pbXBvcnQgZG90ZW52IGZyb20gJ2RvdGVudic7XHJcbmltcG9ydCB7IHogfSBmcm9tICd6b2QnO1xyXG5cclxuaW1wb3J0IGRlZmF1bHRDb25maWcgZnJvbSAnLi9zY2hlbWFzL2NvbmZpZy5qcyc7XHJcblxyXG4vLyBMb2FkIC5lbnYgaW50byBlbnZpcm9ubWVudCB2YXJpYWJsZXNcclxuZG90ZW52LmNvbmZpZygpO1xyXG5cclxuLy8gT2JqZWN0IHdpdGggY3VzdG9tIHZhbGlkYXRvcnMgYW5kIHRyYW5zZm9ybWVycywgdG8gYXZvaWQgcmVwZXRpdGlvblxyXG4vLyBpbiB0aGUgQ29uZmlnIG9iamVjdFxyXG5jb25zdCB2ID0ge1xyXG4gIC8vIFNwbGl0cyBzdHJpbmcgdmFsdWUgaW50byBlbGVtZW50cyBpbiBhbiBhcnJheSwgdHJpbXMgZXZlcnkgZWxlbWVudCwgY2hlY2tzXHJcbiAgLy8gaWYgYW4gYXJyYXkgaXMgY29ycmVjdCwgaWYgaXQgaXMgZW1wdHksIGFuZCBpZiBpdCBpcywgcmV0dXJucyB1bmRlZmluZWRcclxuICBhcnJheTogKGZpbHRlckFycmF5KSA9PlxyXG4gICAgelxyXG4gICAgICAuc3RyaW5nKClcclxuICAgICAgLnRyYW5zZm9ybSgodmFsdWUpID0+XHJcbiAgICAgICAgdmFsdWVcclxuICAgICAgICAgIC5zcGxpdCgnLCcpXHJcbiAgICAgICAgICAubWFwKCh2YWx1ZSkgPT4gdmFsdWUudHJpbSgpKVxyXG4gICAgICAgICAgLmZpbHRlcigodmFsdWUpID0+IGZpbHRlckFycmF5LmluY2x1ZGVzKHZhbHVlKSlcclxuICAgICAgKVxyXG4gICAgICAudHJhbnNmb3JtKCh2YWx1ZSkgPT4gKHZhbHVlLmxlbmd0aCA/IHZhbHVlIDogdW5kZWZpbmVkKSksXHJcblxyXG4gIC8vIEFsbG93cyBvbmx5IHRydWUsIGZhbHNlIGFuZCBjb3JyZWN0bHkgcGFyc2UgdGhlIHZhbHVlIHRvIGJvb2xlYW5cclxuICAvLyBvciBubyB2YWx1ZSBpbiB3aGljaCBjYXNlIHRoZSByZXR1cm5lZCB2YWx1ZSB3aWxsIGJlIHVuZGVmaW5lZFxyXG4gIGJvb2xlYW46ICgpID0+XHJcbiAgICB6XHJcbiAgICAgIC5lbnVtKFsndHJ1ZScsICdmYWxzZScsICcnXSlcclxuICAgICAgLnRyYW5zZm9ybSgodmFsdWUpID0+ICh2YWx1ZSAhPT0gJycgPyB2YWx1ZSA9PT0gJ3RydWUnIDogdW5kZWZpbmVkKSksXHJcblxyXG4gIC8vIEFsbG93cyBwYXNzZWQgdmFsdWVzIG9yIG5vIHZhbHVlIGluIHdoaWNoIGNhc2UgdGhlIHJldHVybmVkIHZhbHVlIHdpbGxcclxuICAvLyBiZSB1bmRlZmluZWRcclxuICBlbnVtOiAodmFsdWVzKSA9PlxyXG4gICAgelxyXG4gICAgICAuZW51bShbLi4udmFsdWVzLCAnJ10pXHJcbiAgICAgIC50cmFuc2Zvcm0oKHZhbHVlKSA9PiAodmFsdWUgIT09ICcnID8gdmFsdWUgOiB1bmRlZmluZWQpKSxcclxuXHJcbiAgLy8gVHJpbXMgdGhlIHN0cmluZyB2YWx1ZSBhbmQgY2hlY2tzIGlmIGl0IGlzIGVtcHR5IG9yIGNvbnRhaW5zIHN0cmluZ2lmaWVkXHJcbiAgLy8gdmFsdWVzIHN1Y2ggYXMgZmFsc2UsIHVuZGVmaW5lZCwgbnVsbCwgTmFOLCBpZiBpdCBkb2VzLCByZXR1cm5zIHVuZGVmaW5lZFxyXG4gIHN0cmluZzogKCkgPT5cclxuICAgIHpcclxuICAgICAgLnN0cmluZygpXHJcbiAgICAgIC50cmltKClcclxuICAgICAgLnJlZmluZShcclxuICAgICAgICAodmFsdWUpID0+XHJcbiAgICAgICAgICAhWydmYWxzZScsICd1bmRlZmluZWQnLCAnbnVsbCcsICdOYU4nXS5pbmNsdWRlcyh2YWx1ZSkgfHxcclxuICAgICAgICAgIHZhbHVlID09PSAnJyxcclxuICAgICAgICAodmFsdWUpID0+ICh7XHJcbiAgICAgICAgICBtZXNzYWdlOiBgVGhlIHN0cmluZyBjb250YWlucyBmb3JiaWRkZW4gdmFsdWVzLCByZWNlaXZlZCAnJHt2YWx1ZX0nYFxyXG4gICAgICAgIH0pXHJcbiAgICAgIClcclxuICAgICAgLnRyYW5zZm9ybSgodmFsdWUpID0+ICh2YWx1ZSAhPT0gJycgPyB2YWx1ZSA6IHVuZGVmaW5lZCkpLFxyXG5cclxuICAvLyBBbGxvd3MgcG9zaXRpdmUgbnVtYmVycyBvciBubyB2YWx1ZSBpbiB3aGljaCBjYXNlIHRoZSByZXR1cm5lZCB2YWx1ZSB3aWxsXHJcbiAgLy8gYmUgdW5kZWZpbmVkXHJcbiAgcG9zaXRpdmVOdW06ICgpID0+XHJcbiAgICB6XHJcbiAgICAgIC5zdHJpbmcoKVxyXG4gICAgICAudHJpbSgpXHJcbiAgICAgIC5yZWZpbmUoXHJcbiAgICAgICAgKHZhbHVlKSA9PlxyXG4gICAgICAgICAgdmFsdWUgPT09ICcnIHx8ICghaXNOYU4ocGFyc2VGbG9hdCh2YWx1ZSkpICYmIHBhcnNlRmxvYXQodmFsdWUpID4gMCksXHJcbiAgICAgICAgKHZhbHVlKSA9PiAoe1xyXG4gICAgICAgICAgbWVzc2FnZTogYFRoZSB2YWx1ZSBtdXN0IGJlIG51bWVyaWMgYW5kIHBvc2l0aXZlLCByZWNlaXZlZCAnJHt2YWx1ZX0nYFxyXG4gICAgICAgIH0pXHJcbiAgICAgIClcclxuICAgICAgLnRyYW5zZm9ybSgodmFsdWUpID0+ICh2YWx1ZSAhPT0gJycgPyBwYXJzZUZsb2F0KHZhbHVlKSA6IHVuZGVmaW5lZCkpLFxyXG5cclxuICAvLyBBbGxvd3Mgbm9uLW5lZ2F0aXZlIG51bWJlcnMgb3Igbm8gdmFsdWUgaW4gd2hpY2ggY2FzZSB0aGUgcmV0dXJuZWQgdmFsdWVcclxuICAvLyB3aWxsIGJlIHVuZGVmaW5lZFxyXG4gIG5vbk5lZ2F0aXZlTnVtOiAoKSA9PlxyXG4gICAgelxyXG4gICAgICAuc3RyaW5nKClcclxuICAgICAgLnRyaW0oKVxyXG4gICAgICAucmVmaW5lKFxyXG4gICAgICAgICh2YWx1ZSkgPT5cclxuICAgICAgICAgIHZhbHVlID09PSAnJyB8fCAoIWlzTmFOKHBhcnNlRmxvYXQodmFsdWUpKSAmJiBwYXJzZUZsb2F0KHZhbHVlKSA+PSAwKSxcclxuICAgICAgICAodmFsdWUpID0+ICh7XHJcbiAgICAgICAgICBtZXNzYWdlOiBgVGhlIHZhbHVlIG11c3QgYmUgbnVtZXJpYyBhbmQgbm9uLW5lZ2F0aXZlLCByZWNlaXZlZCAnJHt2YWx1ZX0nYFxyXG4gICAgICAgIH0pXHJcbiAgICAgIClcclxuICAgICAgLnRyYW5zZm9ybSgodmFsdWUpID0+ICh2YWx1ZSAhPT0gJycgPyBwYXJzZUZsb2F0KHZhbHVlKSA6IHVuZGVmaW5lZCkpXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgQ29uZmlnID0gei5vYmplY3Qoe1xyXG4gIC8vIHB1cHBldGVlclxyXG4gIFBVUFBFVEVFUl9BUkdTOiB2LnN0cmluZygpLFxyXG5cclxuICAvLyBoaWdoY2hhcnRzXHJcbiAgSElHSENIQVJUU19WRVJTSU9OOiB6XHJcbiAgICAuc3RyaW5nKClcclxuICAgIC50cmltKClcclxuICAgIC5yZWZpbmUoXHJcbiAgICAgICh2YWx1ZSkgPT4gL14obGF0ZXN0fFxcZCsoXFwuXFxkKyl7MCwyfSkkLy50ZXN0KHZhbHVlKSB8fCB2YWx1ZSA9PT0gJycsXHJcbiAgICAgICh2YWx1ZSkgPT4gKHtcclxuICAgICAgICBtZXNzYWdlOiBgSElHSENIQVJUU19WRVJTSU9OIG11c3QgYmUgJ2xhdGVzdCcsIGEgbWFqb3IgdmVyc2lvbiwgb3IgaW4gdGhlIGZvcm0gWFguWVkuWlosIHJlY2VpdmVkICcke3ZhbHVlfSdgXHJcbiAgICAgIH0pXHJcbiAgICApXHJcbiAgICAudHJhbnNmb3JtKCh2YWx1ZSkgPT4gKHZhbHVlICE9PSAnJyA/IHZhbHVlIDogdW5kZWZpbmVkKSksXHJcbiAgSElHSENIQVJUU19DRE5fVVJMOiB6XHJcbiAgICAuc3RyaW5nKClcclxuICAgIC50cmltKClcclxuICAgIC5yZWZpbmUoXHJcbiAgICAgICh2YWx1ZSkgPT5cclxuICAgICAgICB2YWx1ZS5zdGFydHNXaXRoKCdodHRwczovLycpIHx8XHJcbiAgICAgICAgdmFsdWUuc3RhcnRzV2l0aCgnaHR0cDovLycpIHx8XHJcbiAgICAgICAgdmFsdWUgPT09ICcnLFxyXG4gICAgICAodmFsdWUpID0+ICh7XHJcbiAgICAgICAgbWVzc2FnZTogYEludmFsaWQgdmFsdWUgZm9yIEhJR0hDSEFSVFNfQ0ROX1VSTC4gSXQgc2hvdWxkIHN0YXJ0IHdpdGggaHR0cDovLyBvciBodHRwczovLywgcmVjZWl2ZWQgJyR7dmFsdWV9J2BcclxuICAgICAgfSlcclxuICAgIClcclxuICAgIC50cmFuc2Zvcm0oKHZhbHVlKSA9PiAodmFsdWUgIT09ICcnID8gdmFsdWUgOiB1bmRlZmluZWQpKSxcclxuICBISUdIQ0hBUlRTX0ZPUkNFX0ZFVENIOiB2LmJvb2xlYW4oKSxcclxuICBISUdIQ0hBUlRTX0NBQ0hFX1BBVEg6IHYuc3RyaW5nKCksXHJcbiAgSElHSENIQVJUU19BRE1JTl9UT0tFTjogdi5zdHJpbmcoKSxcclxuICBISUdIQ0hBUlRTX0NPUkVfU0NSSVBUUzogdi5hcnJheShkZWZhdWx0Q29uZmlnLmhpZ2hjaGFydHMuY29yZVNjcmlwdHMudmFsdWUpLFxyXG4gIEhJR0hDSEFSVFNfTU9EVUxFX1NDUklQVFM6IHYuYXJyYXkoXHJcbiAgICBkZWZhdWx0Q29uZmlnLmhpZ2hjaGFydHMubW9kdWxlU2NyaXB0cy52YWx1ZVxyXG4gICksXHJcbiAgSElHSENIQVJUU19JTkRJQ0FUT1JfU0NSSVBUUzogdi5hcnJheShcclxuICAgIGRlZmF1bHRDb25maWcuaGlnaGNoYXJ0cy5pbmRpY2F0b3JTY3JpcHRzLnZhbHVlXHJcbiAgKSxcclxuICBISUdIQ0hBUlRTX0NVU1RPTV9TQ1JJUFRTOiB2LmFycmF5KFxyXG4gICAgZGVmYXVsdENvbmZpZy5oaWdoY2hhcnRzLmN1c3RvbVNjcmlwdHMudmFsdWVcclxuICApLFxyXG5cclxuICAvLyBleHBvcnRcclxuICBFWFBPUlRfSU5GSUxFOiB2LnN0cmluZygpLFxyXG4gIEVYUE9SVF9JTlNUUjogdi5zdHJpbmcoKSxcclxuICBFWFBPUlRfT1BUSU9OUzogdi5zdHJpbmcoKSxcclxuICBFWFBPUlRfU1ZHOiB2LnN0cmluZygpLFxyXG4gIEVYUE9SVF9CQVRDSDogdi5zdHJpbmcoKSxcclxuICBFWFBPUlRfT1VURklMRTogdi5zdHJpbmcoKSxcclxuICBFWFBPUlRfVFlQRTogdi5lbnVtKFsnanBlZycsICdwbmcnLCAncGRmJywgJ3N2ZyddKSxcclxuICBFWFBPUlRfQ09OU1RSOiB2LmVudW0oWydjaGFydCcsICdzdG9ja0NoYXJ0JywgJ21hcENoYXJ0JywgJ2dhbnR0Q2hhcnQnXSksXHJcbiAgRVhQT1JUX0I2NDogdi5ib29sZWFuKCksXHJcbiAgRVhQT1JUX05PX0RPV05MT0FEOiB2LmJvb2xlYW4oKSxcclxuICBFWFBPUlRfSEVJR0hUOiB2LnBvc2l0aXZlTnVtKCksXHJcbiAgRVhQT1JUX1dJRFRIOiB2LnBvc2l0aXZlTnVtKCksXHJcbiAgRVhQT1JUX1NDQUxFOiB2LnBvc2l0aXZlTnVtKCksXHJcbiAgRVhQT1JUX0RFRkFVTFRfSEVJR0hUOiB2LnBvc2l0aXZlTnVtKCksXHJcbiAgRVhQT1JUX0RFRkFVTFRfV0lEVEg6IHYucG9zaXRpdmVOdW0oKSxcclxuICBFWFBPUlRfREVGQVVMVF9TQ0FMRTogdi5wb3NpdGl2ZU51bSgpLFxyXG4gIEVYUE9SVF9HTE9CQUxfT1BUSU9OUzogdi5zdHJpbmcoKSxcclxuICBFWFBPUlRfVEhFTUVfT1BUSU9OUzogdi5zdHJpbmcoKSxcclxuICBFWFBPUlRfUkFTVEVSSVpBVElPTl9USU1FT1VUOiB2Lm5vbk5lZ2F0aXZlTnVtKCksXHJcblxyXG4gIC8vIGN1c3RvbVxyXG4gIENVU1RPTV9MT0dJQ19BTExPV19DT0RFX0VYRUNVVElPTjogdi5ib29sZWFuKCksXHJcbiAgQ1VTVE9NX0xPR0lDX0FMTE9XX0ZJTEVfUkVTT1VSQ0VTOiB2LmJvb2xlYW4oKSxcclxuICBDVVNUT01fTE9HSUNfQ1VTVE9NX0NPREU6IHYuc3RyaW5nKCksXHJcbiAgQ1VTVE9NX0xPR0lDX0NBTExCQUNLOiB2LnN0cmluZygpLFxyXG4gIENVU1RPTV9MT0dJQ19SRVNPVVJDRVM6IHYuc3RyaW5nKCksXHJcbiAgQ1VTVE9NX0xPR0lDX0xPQURfQ09ORklHOiB2LnN0cmluZygpLFxyXG4gIENVU1RPTV9MT0dJQ19DUkVBVEVfQ09ORklHOiB2LnN0cmluZygpLFxyXG5cclxuICAvLyBzZXJ2ZXJcclxuICBTRVJWRVJfRU5BQkxFOiB2LmJvb2xlYW4oKSxcclxuICBTRVJWRVJfSE9TVDogdi5zdHJpbmcoKSxcclxuICBTRVJWRVJfUE9SVDogdi5wb3NpdGl2ZU51bSgpLFxyXG4gIFNFUlZFUl9VUExPQURfTElNSVQ6IHYucG9zaXRpdmVOdW0oKSxcclxuICBTRVJWRVJfQkVOQ0hNQVJLSU5HOiB2LmJvb2xlYW4oKSxcclxuXHJcbiAgLy8gc2VydmVyIHByb3h5XHJcbiAgU0VSVkVSX1BST1hZX0hPU1Q6IHYuc3RyaW5nKCksXHJcbiAgU0VSVkVSX1BST1hZX1BPUlQ6IHYucG9zaXRpdmVOdW0oKSxcclxuICBTRVJWRVJfUFJPWFlfVElNRU9VVDogdi5ub25OZWdhdGl2ZU51bSgpLFxyXG5cclxuICAvLyBzZXJ2ZXIgcmF0ZSBsaW1pdGluZ1xyXG4gIFNFUlZFUl9SQVRFX0xJTUlUSU5HX0VOQUJMRTogdi5ib29sZWFuKCksXHJcbiAgU0VSVkVSX1JBVEVfTElNSVRJTkdfTUFYX1JFUVVFU1RTOiB2Lm5vbk5lZ2F0aXZlTnVtKCksXHJcbiAgU0VSVkVSX1JBVEVfTElNSVRJTkdfV0lORE9XOiB2Lm5vbk5lZ2F0aXZlTnVtKCksXHJcbiAgU0VSVkVSX1JBVEVfTElNSVRJTkdfREVMQVk6IHYubm9uTmVnYXRpdmVOdW0oKSxcclxuICBTRVJWRVJfUkFURV9MSU1JVElOR19UUlVTVF9QUk9YWTogdi5ib29sZWFuKCksXHJcbiAgU0VSVkVSX1JBVEVfTElNSVRJTkdfU0tJUF9LRVk6IHYuc3RyaW5nKCksXHJcbiAgU0VSVkVSX1JBVEVfTElNSVRJTkdfU0tJUF9UT0tFTjogdi5zdHJpbmcoKSxcclxuXHJcbiAgLy8gc2VydmVyIHNzbFxyXG4gIFNFUlZFUl9TU0xfRU5BQkxFOiB2LmJvb2xlYW4oKSxcclxuICBTRVJWRVJfU1NMX0ZPUkNFOiB2LmJvb2xlYW4oKSxcclxuICBTRVJWRVJfU1NMX1BPUlQ6IHYucG9zaXRpdmVOdW0oKSxcclxuICBTRVJWRVJfU1NMX0NFUlRfUEFUSDogdi5zdHJpbmcoKSxcclxuXHJcbiAgLy8gcG9vbFxyXG4gIFBPT0xfTUlOX1dPUktFUlM6IHYubm9uTmVnYXRpdmVOdW0oKSxcclxuICBQT09MX01BWF9XT1JLRVJTOiB2Lm5vbk5lZ2F0aXZlTnVtKCksXHJcbiAgUE9PTF9XT1JLX0xJTUlUOiB2LnBvc2l0aXZlTnVtKCksXHJcbiAgUE9PTF9BQ1FVSVJFX1RJTUVPVVQ6IHYubm9uTmVnYXRpdmVOdW0oKSxcclxuICBQT09MX0NSRUFURV9USU1FT1VUOiB2Lm5vbk5lZ2F0aXZlTnVtKCksXHJcbiAgUE9PTF9ERVNUUk9ZX1RJTUVPVVQ6IHYubm9uTmVnYXRpdmVOdW0oKSxcclxuICBQT09MX0lETEVfVElNRU9VVDogdi5ub25OZWdhdGl2ZU51bSgpLFxyXG4gIFBPT0xfQ1JFQVRFX1JFVFJZX0lOVEVSVkFMOiB2Lm5vbk5lZ2F0aXZlTnVtKCksXHJcbiAgUE9PTF9SRUFQRVJfSU5URVJWQUw6IHYubm9uTmVnYXRpdmVOdW0oKSxcclxuICBQT09MX0JFTkNITUFSS0lORzogdi5ib29sZWFuKCksXHJcblxyXG4gIC8vIGxvZ2dlclxyXG4gIExPR0dJTkdfTEVWRUw6IHpcclxuICAgIC5zdHJpbmcoKVxyXG4gICAgLnRyaW0oKVxyXG4gICAgLnJlZmluZShcclxuICAgICAgKHZhbHVlKSA9PlxyXG4gICAgICAgIHZhbHVlID09PSAnJyB8fFxyXG4gICAgICAgICghaXNOYU4ocGFyc2VGbG9hdCh2YWx1ZSkpICYmXHJcbiAgICAgICAgICBwYXJzZUZsb2F0KHZhbHVlKSA+PSAwICYmXHJcbiAgICAgICAgICBwYXJzZUZsb2F0KHZhbHVlKSA8PSA1KSxcclxuICAgICAgKHZhbHVlKSA9PiAoe1xyXG4gICAgICAgIG1lc3NhZ2U6IGBJbnZhbGlkIHZhbHVlIGZvciBMT0dHSU5HX0xFVkVMLiBXZSBvbmx5IGFjY2VwdCB2YWx1ZXMgZnJvbSAwIHRvIDUgYXMgbG9nZ2luZyBsZXZlbHMsIHJlY2VpdmVkICcke3ZhbHVlfSdgXHJcbiAgICAgIH0pXHJcbiAgICApXHJcbiAgICAudHJhbnNmb3JtKCh2YWx1ZSkgPT4gKHZhbHVlICE9PSAnJyA/IHBhcnNlRmxvYXQodmFsdWUpIDogdW5kZWZpbmVkKSksXHJcbiAgTE9HR0lOR19GSUxFOiB2LnN0cmluZygpLFxyXG4gIExPR0dJTkdfREVTVDogdi5zdHJpbmcoKSxcclxuICBMT0dHSU5HX1RPX0NPTlNPTEU6IHYuYm9vbGVhbigpLFxyXG4gIExPR0dJTkdfVE9fRklMRTogdi5ib29sZWFuKCksXHJcblxyXG4gIC8vIHVpXHJcbiAgVUlfRU5BQkxFOiB2LmJvb2xlYW4oKSxcclxuICBVSV9ST1VURTogdi5zdHJpbmcoKSxcclxuXHJcbiAgLy8gb3RoZXJcclxuICBPVEhFUl9OT0RFX0VOVjogdi5lbnVtKFsnZGV2ZWxvcG1lbnQnLCAncHJvZHVjdGlvbicsICd0ZXN0J10pLFxyXG4gIE9USEVSX0xJU1RFTl9UT19QUk9DRVNTX0VYSVRTOiB2LmJvb2xlYW4oKSxcclxuICBPVEhFUl9OT19MT0dPOiB2LmJvb2xlYW4oKSxcclxuICBPVEhFUl9IQVJEX1JFU0VUX1BBR0U6IHYuYm9vbGVhbigpLFxyXG4gIE9USEVSX0JST1dTRVJfU0hFTExfTU9ERTogdi5ib29sZWFuKCksXHJcblxyXG4gIC8vIGRlYnVnZ2VyXHJcbiAgREVCVUdfRU5BQkxFOiB2LmJvb2xlYW4oKSxcclxuICBERUJVR19IRUFETEVTUzogdi5ib29sZWFuKCksXHJcbiAgREVCVUdfREVWVE9PTFM6IHYuYm9vbGVhbigpLFxyXG4gIERFQlVHX0xJU1RFTl9UT19DT05TT0xFOiB2LmJvb2xlYW4oKSxcclxuICBERUJVR19EVU1QSU86IHYuYm9vbGVhbigpLFxyXG4gIERFQlVHX1NMT1dfTU86IHYubm9uTmVnYXRpdmVOdW0oKSxcclxuICBERUJVR19ERUJVR0dJTkdfUE9SVDogdi5wb3NpdGl2ZU51bSgpXHJcbn0pO1xyXG5cclxuZXhwb3J0IGNvbnN0IGVudnMgPSBDb25maWcucGFydGlhbCgpLnBhcnNlKHByb2Nlc3MuZW52KTtcclxuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHJcbkhpZ2hjaGFydHMgRXhwb3J0IFNlcnZlclxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE2LTIwMjUsIEhpZ2hzb2Z0XHJcblxyXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXHJcblxyXG5BZGRpdGlvbmFsbHkgYSB2YWxpZCBIaWdoY2hhcnRzIGxpY2Vuc2UgaXMgcmVxdWlyZWQgZm9yIHVzZS5cclxuXHJcblNlZSBMSUNFTlNFIGZpbGUgaW4gcm9vdCBmb3IgZGV0YWlscy5cclxuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4vKipcclxuICogQG92ZXJ2aWV3IFRoZSBIaWdoY2hhcnRzIEV4cG9ydCBTZXJ2ZXIgdXRpbGl0eSBtb2R1bGUgcHJvdmlkZXNcclxuICogYSBjb21wcmVoZW5zaXZlIHNldCBvZiBoZWxwZXIgZnVuY3Rpb25zIGFuZCBjb25zdGFudHMgZGVzaWduZWQgdG8gc3RyZWFtbGluZVxyXG4gKiBhbmQgZW5oYW5jZSB2YXJpb3VzIG9wZXJhdGlvbnMgcmVxdWlyZWQgZm9yIEhpZ2hjaGFydHMgZXhwb3J0IHRhc2tzLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGlzQWJzb2x1dGUsIG5vcm1hbGl6ZSwgcmVzb2x2ZSB9IGZyb20gJ3BhdGgnO1xyXG5pbXBvcnQgeyBmaWxlVVJMVG9QYXRoIH0gZnJvbSAndXJsJztcclxuXHJcbmNvbnN0IE1BWF9CQUNLT0ZGX0FUVEVNUFRTID0gNjtcclxuXHJcbi8vIFRoZSBkaXJlY3RvcnkgcGF0aFxyXG5leHBvcnQgY29uc3QgX19kaXJuYW1lID0gZmlsZVVSTFRvUGF0aChuZXcgVVJMKCcuLi8uJywgaW1wb3J0Lm1ldGEudXJsKSk7XHJcblxyXG4vKipcclxuICogQ2xlYXJzIGFuZCBzdGFuZGFyZGl6ZXMgdGV4dCBieSByZXBsYWNpbmcgbXVsdGlwbGUgY29uc2VjdXRpdmUgd2hpdGVzcGFjZVxyXG4gKiBjaGFyYWN0ZXJzIHdpdGggYSBzaW5nbGUgc3BhY2UgYW5kIHRyaW1taW5nIGFueSBsZWFkaW5nIG9yIHRyYWlsaW5nXHJcbiAqIHdoaXRlc3BhY2UuXHJcbiAqXHJcbiAqIEBmdW5jdGlvbiBjbGVhclRleHRcclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSBUaGUgaW5wdXQgdGV4dCB0byBiZSBjbGVhcmVkLlxyXG4gKiBAcGFyYW0ge1JlZ0V4cH0gW3J1bGU9L1xcc1xccysvZ10gLSBUaGUgcmVndWxhciBleHByZXNzaW9uIHJ1bGUgdG8gbWF0Y2hcclxuICogbXVsdGlwbGUgY29uc2VjdXRpdmUgd2hpdGVzcGFjZSBjaGFyYWN0ZXJzLiBUaGUgZGVmYXVsdCB2YWx1ZVxyXG4gKiBpcyB0aGUgJy9cXHNcXHMrL2cnIFJlZ0V4cC5cclxuICogQHBhcmFtIHtzdHJpbmd9IFtyZXBsYWNlcj0nICddIC0gVGhlIHN0cmluZyB1c2VkIHRvIHJlcGxhY2UgbXVsdGlwbGVcclxuICogY29uc2VjdXRpdmUgd2hpdGVzcGFjZSBjaGFyYWN0ZXJzLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0aGUgJyAnIHN0cmluZy5cclxuICpcclxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGNsZWFyZWQgYW5kIHN0YW5kYXJkaXplZCB0ZXh0LlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyVGV4dCh0ZXh0LCBydWxlID0gL1xcc1xccysvZywgcmVwbGFjZXIgPSAnICcpIHtcclxuICByZXR1cm4gdGV4dC5yZXBsYWNlQWxsKHJ1bGUsIHJlcGxhY2VyKS50cmltKCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgZGVlcCBjb3B5IG9mIHRoZSBnaXZlbiBvYmplY3Qgb3IgYXJyYXkuXHJcbiAqXHJcbiAqIEBmdW5jdGlvbiBkZWVwQ29weVxyXG4gKlxyXG4gKiBAcGFyYW0geyhPYmplY3R8QXJyYXkpfSBvYmpBcnIgLSBUaGUgb2JqZWN0IG9yIGFycmF5IHRvIGJlIGRlZXBseSBjb3BpZWQuXHJcbiAqXHJcbiAqIEByZXR1cm5zIHsoT2JqZWN0fEFycmF5KX0gVGhlIGRlZXAgY29weSBvZiB0aGUgcHJvdmlkZWQgb2JqZWN0IG9yIGFycmF5LlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGRlZXBDb3B5KG9iakFycikge1xyXG4gIC8vIElmIHRoZSBgb2JqQXJyYCBpcyBudWxsIG9yIG5vdCBvZiB0aGUgYG9iamVjdGAgdHlwZSwgcmV0dXJuIGl0XHJcbiAgaWYgKG9iakFyciA9PT0gbnVsbCB8fCB0eXBlb2Ygb2JqQXJyICE9PSAnb2JqZWN0Jykge1xyXG4gICAgcmV0dXJuIG9iakFycjtcclxuICB9XHJcblxyXG4gIC8vIFByZXBhcmUgZWl0aGVyIGEgbmV3IGFycmF5IG9yIGEgbmV3IG9iamVjdFxyXG4gIGNvbnN0IG9iakFyckNvcHkgPSBBcnJheS5pc0FycmF5KG9iakFycikgPyBbXSA6IHt9O1xyXG5cclxuICAvLyBSZWN1cnNpdmVseSBjb3B5IGVhY2ggcHJvcGVydHlcclxuICBmb3IgKGNvbnN0IGtleSBpbiBvYmpBcnIpIHtcclxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqQXJyLCBrZXkpKSB7XHJcbiAgICAgIG9iakFyckNvcHlba2V5XSA9IGRlZXBDb3B5KG9iakFycltrZXldKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIFJldHVybiB0aGUgY29waWVkIG9iamVjdFxyXG4gIHJldHVybiBvYmpBcnJDb3B5O1xyXG59XHJcblxyXG4vKipcclxuICogSW1wbGVtZW50cyBhbiBleHBvbmVudGlhbCBiYWNrb2ZmIHN0cmF0ZWd5IGZvciByZXRyeWluZyBhIGZ1bmN0aW9uIHVudGlsXHJcbiAqIGEgY2VydGFpbiBudW1iZXIgb2YgYXR0ZW1wdHMgYXJlIHJlYWNoZWQuXHJcbiAqXHJcbiAqIEBhc3luY1xyXG4gKiBAZnVuY3Rpb24gZXhwQmFja29mZlxyXG4gKlxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIFRoZSBmdW5jdGlvbiB0byBiZSByZXRyaWVkLlxyXG4gKiBAcGFyYW0ge251bWJlcn0gW2F0dGVtcHQ9MF0gLSBUaGUgY3VycmVudCBhdHRlbXB0IG51bWJlci4gVGhlIGRlZmF1bHQgdmFsdWVcclxuICogaXMgYDBgLlxyXG4gKiBAcGFyYW0gey4uLnVua25vd259IGFyZ3MgLSBBcmd1bWVudHMgdG8gYmUgcGFzc2VkIHRvIHRoZSBmdW5jdGlvbi5cclxuICpcclxuICogQHJldHVybnMge1Byb21pc2U8dW5rbm93bj59IEEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIHRoZSByZXN1bHRcclxuICogb2YgdGhlIGZ1bmN0aW9uIGlmIHN1Y2Nlc3NmdWwuXHJcbiAqXHJcbiAqIEB0aHJvd3Mge0Vycm9yfSBUaHJvd3MgYW4gYEVycm9yYCBpZiB0aGUgbWF4aW11bSBudW1iZXIgb2YgYXR0ZW1wdHNcclxuICogaXMgcmVhY2hlZC5cclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBleHBCYWNrb2ZmKGZuLCBhdHRlbXB0ID0gMCwgLi4uYXJncykge1xyXG4gIHRyeSB7XHJcbiAgICAvLyBUcnkgdG8gY2FsbCB0aGUgZnVuY3Rpb25cclxuICAgIHJldHVybiBhd2FpdCBmbiguLi5hcmdzKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgLy8gQ2FsY3VsYXRlIGRlbGF5IGluIG1zXHJcbiAgICBjb25zdCBkZWxheUluTXMgPSAyICoqIGF0dGVtcHQgKiAxMDAwO1xyXG5cclxuICAgIC8vIElmIHRoZSBhdHRlbXB0IGV4Y2VlZHMgdGhlIG1heGltdW0gYXR0ZW1wdHMgb2YgcmVwZWF0LCB0aHJvdyBhbiBlcnJvclxyXG4gICAgaWYgKCsrYXR0ZW1wdCA+PSBNQVhfQkFDS09GRl9BVFRFTVBUUykge1xyXG4gICAgICB0aHJvdyBlcnJvcjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBXYWl0IGdpdmVuIGFtb3VudCBvZiB0aW1lXHJcbiAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzcG9uc2UpID0+IHNldFRpbWVvdXQocmVzcG9uc2UsIGRlbGF5SW5NcykpO1xyXG5cclxuICAgIC8vLyBUTyBETzogQ29ycmVjdFxyXG4gICAgLy8gLy8gSW5mb3JtYXRpb24gYWJvdXQgdGhlIHJlc291cmNlIHRpbWVvdXRcclxuICAgIC8vIGxvZyhcclxuICAgIC8vICAgMyxcclxuICAgIC8vICAgYFt1dGlsc10gV2FpdGVkICR7ZGVsYXlJbk1zfW1zIHVudGlsIG5leHQgY2FsbCBmb3IgdGhlIHJlc291cmNlIG9mIElEOiAke2FyZ3NbMF19LmBcclxuICAgIC8vICk7XHJcblxyXG4gICAgLy8gVHJ5IGFnYWluXHJcbiAgICByZXR1cm4gZXhwQmFja29mZihmbiwgYXR0ZW1wdCwgLi4uYXJncyk7XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogQ2hlY2tzIGlmIHRoZSBnaXZlbiBwYXRoIGlzIHJlbGF0aXZlIG9yIGFic29sdXRlIGFuZCByZXR1cm5zIHRoZSBjb3JyZWN0ZWQsXHJcbiAqIGFic29sdXRlIHBhdGguXHJcbiAqXHJcbiAqIEBmdW5jdGlvbiBnZXRBYnNvbHV0ZVBhdGhcclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSBUaGUgcGF0aCB0byBiZSBjaGVja2VkIG9uLlxyXG4gKlxyXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgYWJzb2x1dGUgcGF0aC5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRBYnNvbHV0ZVBhdGgocGF0aCkge1xyXG4gIHJldHVybiBpc0Fic29sdXRlKHBhdGgpID8gbm9ybWFsaXplKHBhdGgpIDogcmVzb2x2ZShwYXRoKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIENvbnZlcnRzIGlucHV0IGRhdGEgdG8gYSBCYXNlNjQgc3RyaW5nIGJhc2VkIG9uIHRoZSBleHBvcnQgdHlwZS5cclxuICpcclxuICogQGZ1bmN0aW9uIGdldEJhc2U2NFxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gaW5wdXQgLSBUaGUgaW5wdXQgdG8gYmUgdHJhbnNmb3JtZWQgdG8gQmFzZTY0IGZvcm1hdC5cclxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBUaGUgb3JpZ2luYWwgZXhwb3J0IHR5cGUuXHJcbiAqXHJcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBCYXNlNjQgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBpbnB1dC5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRCYXNlNjQoaW5wdXQsIHR5cGUpIHtcclxuICAvLyBGb3IgcGRmIGFuZCBzdmcgdHlwZXMgdGhlIGlucHV0IG11c3QgYmUgdHJhbnNmb3JtZWQgdG8gQmFzZTY0IGZyb20gYSBidWZmZXJcclxuICBpZiAodHlwZSA9PT0gJ3BkZicgfHwgdHlwZSA9PSAnc3ZnJykge1xyXG4gICAgcmV0dXJuIEJ1ZmZlci5mcm9tKGlucHV0LCAndXRmOCcpLnRvU3RyaW5nKCdiYXNlNjQnKTtcclxuICB9XHJcblxyXG4gIC8vIEZvciBwbmcgYW5kIGpwZWcgaW5wdXQgaXMgYWxyZWFkeSBhIEJhc2U2NCBzdHJpbmdcclxuICByZXR1cm4gaW5wdXQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIHN0cmluZ2lmaWVkIGRhdGUgd2l0aG91dCB0aGUgR01UIHRleHQgaW5mb3JtYXRpb24uXHJcbiAqXHJcbiAqIEBmdW5jdGlvbiBnZXROZXdEYXRlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0TmV3RGF0ZSgpIHtcclxuICAvLyBHZXQgcmlkIG9mIHRoZSBHTVQgdGV4dCBpbmZvcm1hdGlvblxyXG4gIHJldHVybiBuZXcgRGF0ZSgpLnRvU3RyaW5nKCkuc3BsaXQoJygnKVswXS50cmltKCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBzdG9yZWQgdGltZSB2YWx1ZSBpbiBtaWxsaXNlY29uZHMuXHJcbiAqXHJcbiAqIEBmdW5jdGlvbiBnZXROZXdEYXRlVGltZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldE5ld0RhdGVUaW1lKCkge1xyXG4gIHJldHVybiBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIENoZWNrcyBpZiB0aGUgZ2l2ZW4gaXRlbSBpcyBhbiBvYmplY3QuXHJcbiAqXHJcbiAqIEBmdW5jdGlvbiBpc09iamVjdFxyXG4gKlxyXG4gKiBAcGFyYW0ge3Vua25vd259IGl0ZW0gLSBUaGUgaXRlbSB0byBiZSBjaGVja2VkLlxyXG4gKlxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGl0ZW0gaXMgYW4gb2JqZWN0LCBgZmFsc2VgXHJcbiAqIG90aGVyd2lzZS5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc09iamVjdChpdGVtKSB7XHJcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpdGVtKSA9PT0gJ1tvYmplY3QgT2JqZWN0XSc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDaGVja3MgaWYgdGhlIGdpdmVuIG9iamVjdCBpcyBlbXB0eS5cclxuICpcclxuICogQGZ1bmN0aW9uIGlzT2JqZWN0RW1wdHlcclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IGl0ZW0gLSBUaGUgb2JqZWN0IHRvIGJlIGNoZWNrZWQuXHJcbiAqXHJcbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgaXRlbSBpcyBhbiBlbXB0eSBvYmplY3QsIGBmYWxzZWBcclxuICogb3RoZXJ3aXNlLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzT2JqZWN0RW1wdHkoaXRlbSkge1xyXG4gIHJldHVybiAoXHJcbiAgICB0eXBlb2YgaXRlbSA9PT0gJ29iamVjdCcgJiZcclxuICAgICFBcnJheS5pc0FycmF5KGl0ZW0pICYmXHJcbiAgICBpdGVtICE9PSBudWxsICYmXHJcbiAgICBPYmplY3Qua2V5cyhpdGVtKS5sZW5ndGggPT09IDBcclxuICApO1xyXG59XHJcblxyXG4vKipcclxuICogQ2hlY2tzIGlmIGEgcHJpdmF0ZSBJUCByYW5nZSBVUkwgaXMgZm91bmQgaW4gdGhlIGdpdmVuIHN0cmluZy5cclxuICpcclxuICogQGZ1bmN0aW9uIGlzUHJpdmF0ZVJhbmdlVXJsRm91bmRcclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd9IGl0ZW0gLSBUaGUgc3RyaW5nIHRvIGJlIGNoZWNrZWQgZm9yIGEgcHJpdmF0ZSBJUCByYW5nZSBVUkwuXHJcbiAqXHJcbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhIHByaXZhdGUgSVAgcmFuZ2UgVVJMIGlzIGZvdW5kLCBgZmFsc2VgXHJcbiAqIG90aGVyd2lzZS5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1ByaXZhdGVSYW5nZVVybEZvdW5kKGl0ZW0pIHtcclxuICBjb25zdCByZWdleFBhdHRlcm5zID0gW1xyXG4gICAgL3hsaW5rOmhyZWY9XCIoPzpodHRwOlxcL1xcL3xodHRwczpcXC9cXC8pP2xvY2FsaG9zdFxcYi8sXHJcbiAgICAveGxpbms6aHJlZj1cIig/Omh0dHA6XFwvXFwvfGh0dHBzOlxcL1xcLyk/MTBcXC5cXGR7MSwzfVxcLlxcZHsxLDN9XFwuXFxkezEsM31cXGIvLFxyXG4gICAgL3hsaW5rOmhyZWY9XCIoPzpodHRwOlxcL1xcL3xodHRwczpcXC9cXC8pPzEyN1xcLlxcZHsxLDN9XFwuXFxkezEsM31cXC5cXGR7MSwzfVxcYi8sXHJcbiAgICAveGxpbms6aHJlZj1cIig/Omh0dHA6XFwvXFwvfGh0dHBzOlxcL1xcLyk/MTcyXFwuKDFbNi05XXwyWzAtOV18M1swLTFdKVxcLlxcZHsxLDN9XFwuXFxkezEsM31cXGIvLFxyXG4gICAgL3hsaW5rOmhyZWY9XCIoPzpodHRwOlxcL1xcL3xodHRwczpcXC9cXC8pPzE5MlxcLjE2OFxcLlxcZHsxLDN9XFwuXFxkezEsM31cXGIvXHJcbiAgXTtcclxuXHJcbiAgcmV0dXJuIHJlZ2V4UGF0dGVybnMuc29tZSgocGF0dGVybikgPT4gcGF0dGVybi50ZXN0KGl0ZW0pKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFV0aWxpdHkgdG8gbWVhc3VyZSBlbGFwc2VkIHRpbWUgdXNpbmcgdGhlIE5vZGUuanMgYHByb2Nlc3MuaHJ0aW1lKClgIG1ldGhvZC5cclxuICpcclxuICogQGZ1bmN0aW9uIG1lYXN1cmVUaW1lXHJcbiAqXHJcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gQSBmdW5jdGlvbiB0byBjYWxjdWxhdGUgdGhlIGVsYXBzZWQgdGltZSBpbiBtaWxsaXNlY29uZHMuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gbWVhc3VyZVRpbWUoKSB7XHJcbiAgY29uc3Qgc3RhcnQgPSBwcm9jZXNzLmhydGltZS5iaWdpbnQoKTtcclxuICByZXR1cm4gKCkgPT4gTnVtYmVyKHByb2Nlc3MuaHJ0aW1lLmJpZ2ludCgpIC0gc3RhcnQpIC8gMTAwMDAwMDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJvdW5kcyBhIG51bWJlciB0byB0aGUgc3BlY2lmaWVkIHByZWNpc2lvbi5cclxuICpcclxuICogQGZ1bmN0aW9uIHJvdW5kTnVtYmVyXHJcbiAqXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSAtIFRoZSBudW1iZXIgdG8gYmUgcm91bmRlZC5cclxuICogQHBhcmFtIHtudW1iZXJ9IHByZWNpc2lvbiAtIFRoZSBudW1iZXIgb2YgZGVjaW1hbCBwbGFjZXMgdG8gcm91bmQgdG8uXHJcbiAqXHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9IFRoZSByb3VuZGVkIG51bWJlci5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiByb3VuZE51bWJlcih2YWx1ZSwgcHJlY2lzaW9uID0gMSkge1xyXG4gIGNvbnN0IG11bHRpcGxpZXIgPSBNYXRoLnBvdygxMCwgcHJlY2lzaW9uIHx8IDApO1xyXG4gIHJldHVybiBNYXRoLnJvdW5kKCt2YWx1ZSAqIG11bHRpcGxpZXIpIC8gbXVsdGlwbGllcjtcclxufVxyXG5cclxuLyoqXHJcbiAqIENvbnZlcnRzIGEgdmFsdWUgdG8gYSBib29sZWFuLlxyXG4gKlxyXG4gKiBAZnVuY3Rpb24gdG9Cb29sZWFuXHJcbiAqXHJcbiAqIEBwYXJhbSB7dW5rbm93bn0gaXRlbSAtIFRoZSB2YWx1ZSB0byBiZSBjb252ZXJ0ZWQgdG8gYSBib29sZWFuLlxyXG4gKlxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVGhlIGJvb2xlYW4gcmVwcmVzZW50YXRpb24gb2YgdGhlIGlucHV0IHZhbHVlLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHRvQm9vbGVhbihpdGVtKSB7XHJcbiAgcmV0dXJuIFsnZmFsc2UnLCAndW5kZWZpbmVkJywgJ251bGwnLCAnTmFOJywgJzAnLCAnJ10uaW5jbHVkZXMoaXRlbSlcclxuICAgID8gZmFsc2VcclxuICAgIDogISFpdGVtO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgX19kaXJuYW1lLFxyXG4gIGNsZWFyVGV4dCxcclxuICBkZWVwQ29weSxcclxuICBleHBCYWNrb2ZmLFxyXG4gIGdldEFic29sdXRlUGF0aCxcclxuICBnZXRCYXNlNjQsXHJcbiAgZ2V0TmV3RGF0ZSxcclxuICBnZXROZXdEYXRlVGltZSxcclxuICBpc09iamVjdCxcclxuICBpc09iamVjdEVtcHR5LFxyXG4gIGlzUHJpdmF0ZVJhbmdlVXJsRm91bmQsXHJcbiAgbWVhc3VyZVRpbWUsXHJcbiAgcm91bmROdW1iZXIsXHJcbiAgdG9Cb29sZWFuXHJcbn07XHJcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcblxyXG5IaWdoY2hhcnRzIEV4cG9ydCBTZXJ2ZXJcclxuXHJcbkNvcHlyaWdodCAoYykgMjAxNi0yMDI1LCBIaWdoc29mdFxyXG5cclxuTGljZW5jZWQgdW5kZXIgdGhlIE1JVCBsaWNlbmNlLlxyXG5cclxuQWRkaXRpb25hbGx5IGEgdmFsaWQgSGlnaGNoYXJ0cyBsaWNlbnNlIGlzIHJlcXVpcmVkIGZvciB1c2UuXHJcblxyXG5TZWUgTElDRU5TRSBmaWxlIGluIHJvb3QgZm9yIGRldGFpbHMuXHJcblxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuLyoqXHJcbiAqIEBvdmVydmlldyBBIG1vZHVsZSBmb3IgbWFuYWdpbmcgbG9nZ2luZyBmdW5jdGlvbmFsaXR5IHdpdGggY3VzdG9taXphYmxlXHJcbiAqIGxvZyBsZXZlbHMsIGNvbnNvbGUgYW5kIGZpbGUgbG9nZ2luZyBvcHRpb25zLCBhbmQgZXJyb3IgaGFuZGxpbmcgc3VwcG9ydC5cclxuICogVGhlIG1vZHVsZSBhbHNvIGVuc3VyZXMgdGhhdCBmaWxlLWJhc2VkIGxvZ3MgYXJlIHN0b3JlZCBpbiBhIHN0cnVjdHVyZWRcclxuICogZGlyZWN0b3J5LCBjcmVhdGluZyB0aGUgbmVjZXNzYXJ5IHBhdGhzIGF1dG9tYXRpY2FsbHkgaWYgdGhleSBkbyBub3QgZXhpc3QuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgYXBwZW5kRmlsZSwgZXhpc3RzU3luYywgbWtkaXJTeW5jIH0gZnJvbSAnZnMnO1xyXG5pbXBvcnQgeyBqb2luIH0gZnJvbSAncGF0aCc7XHJcblxyXG5pbXBvcnQgeyBnZXRBYnNvbHV0ZVBhdGgsIGdldE5ld0RhdGUgfSBmcm9tICcuL3V0aWxzLmpzJztcclxuXHJcbi8vIFRoZSBhdmFpbGFibGUgY29sb3JzXHJcbmNvbnN0IGNvbG9ycyA9IFsncmVkJywgJ3llbGxvdycsICdibHVlJywgJ2dyYXknLCAnZ3JlZW4nXTtcclxuXHJcbi8vIFRoZSBkZWZhdWx0IGxvZ2dpbmcgY29uZmlnXHJcbmNvbnN0IGxvZ2dpbmcgPSB7XHJcbiAgLy8gRmxhZ3MgZm9yIGxvZ2dpbmcgc3RhdHVzXHJcbiAgdG9Db25zb2xlOiB0cnVlLFxyXG4gIHRvRmlsZTogZmFsc2UsXHJcbiAgcGF0aENyZWF0ZWQ6IGZhbHNlLFxyXG4gIC8vIEZ1bGwgcGF0aCB0byB0aGUgbG9nIGZpbGVcclxuICBwYXRoVG9Mb2c6ICcnLFxyXG4gIC8vIExvZyBsZXZlbHNcclxuICBsZXZlbHNEZXNjOiBbXHJcbiAgICB7XHJcbiAgICAgIHRpdGxlOiAnZXJyb3InLFxyXG4gICAgICBjb2xvcjogY29sb3JzWzBdXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0aXRsZTogJ3dhcm5pbmcnLFxyXG4gICAgICBjb2xvcjogY29sb3JzWzFdXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0aXRsZTogJ25vdGljZScsXHJcbiAgICAgIGNvbG9yOiBjb2xvcnNbMl1cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHRpdGxlOiAndmVyYm9zZScsXHJcbiAgICAgIGNvbG9yOiBjb2xvcnNbM11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHRpdGxlOiAnYmVuY2htYXJrJyxcclxuICAgICAgY29sb3I6IGNvbG9yc1s0XVxyXG4gICAgfVxyXG4gIF1cclxufTtcclxuXHJcbi8qKlxyXG4gKiBMb2dzIGEgbWVzc2FnZSB3aXRoIGEgc3BlY2lmaWVkIGxvZyBsZXZlbC4gQWNjZXB0cyBhIHZhcmlhYmxlIG51bWJlclxyXG4gKiBvZiBhcmd1bWVudHMuIFRoZSBhcmd1bWVudHMgYWZ0ZXIgdGhlIGBsZXZlbGAgYXJlIHBhc3NlZCB0byBgY29uc29sZS5sb2dgXHJcbiAqIGFuZC9vciB1c2VkIHRvIGNvbnN0cnVjdCBhbmQgYXBwZW5kIG1lc3NhZ2VzIHRvIGEgbG9nIGZpbGUuXHJcbiAqXHJcbiAqIEBmdW5jdGlvbiBsb2dcclxuICpcclxuICogQHBhcmFtIHsuLi51bmtub3dufSBhcmdzIC0gQW4gYXJyYXkgb2YgYXJndW1lbnRzIHdoZXJlIHRoZSBmaXJzdCBpcyB0aGUgbG9nXHJcbiAqIGxldmVsIGFuZCB0aGUgcmVtYWluaW5nIGFyZSBzdHJpbmdzIHVzZWQgdG8gYnVpbGQgdGhlIGxvZyBtZXNzYWdlLlxyXG4gKlxyXG4gKiBAcmV0dXJucyB7dm9pZH0gRXhpdHMgdGhlIGZ1bmN0aW9uIGV4ZWN1dGlvbiBpZiBhdHRlbXB0aW5nIHRvIGxvZyBhdCBhIGxldmVsXHJcbiAqIGhpZ2hlciB0aGFuIGFsbG93ZWQuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gbG9nKC4uLmFyZ3MpIHtcclxuICBjb25zdCBbbmV3TGV2ZWwsIC4uLnRleHRzXSA9IGFyZ3M7XHJcblxyXG4gIC8vIEN1cnJlbnQgbG9nZ2luZyBvcHRpb25zXHJcbiAgY29uc3QgeyBsZXZlbHNEZXNjLCBsZXZlbCB9ID0gbG9nZ2luZztcclxuXHJcbiAgLy8gQ2hlY2sgaWYgdGhlIGxvZyBsZXZlbCBpcyB3aXRoaW4gYSBjb3JyZWN0IHJhbmdlIG9yIGlzIGl0IGEgYmVuY2htYXJrIGxvZ1xyXG4gIGlmIChcclxuICAgIG5ld0xldmVsICE9PSA1ICYmXHJcbiAgICAobmV3TGV2ZWwgPT09IDAgfHwgbmV3TGV2ZWwgPiBsZXZlbCB8fCBsZXZlbCA+IGxldmVsc0Rlc2MubGVuZ3RoKVxyXG4gICkge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLy8gQ3JlYXRlIGEgbWVzc2FnZSdzIHByZWZpeFxyXG4gIGNvbnN0IHByZWZpeCA9IGAke2dldE5ld0RhdGUoKX0gWyR7bGV2ZWxzRGVzY1tuZXdMZXZlbCAtIDFdLnRpdGxlfV0gLWA7XHJcblxyXG4gIC8vIExvZyB0byBmaWxlXHJcbiAgaWYgKGxvZ2dpbmcudG9GaWxlKSB7XHJcbiAgICBfbG9nVG9GaWxlKHRleHRzLCBwcmVmaXgpO1xyXG4gIH1cclxuXHJcbiAgLy8gTG9nIHRvIGNvbnNvbGVcclxuICBpZiAobG9nZ2luZy50b0NvbnNvbGUpIHtcclxuICAgIGNvbnNvbGUubG9nLmFwcGx5KFxyXG4gICAgICB1bmRlZmluZWQsXHJcbiAgICAgIFtwcmVmaXgudG9TdHJpbmcoKVtsb2dnaW5nLmxldmVsc0Rlc2NbbmV3TGV2ZWwgLSAxXS5jb2xvcl1dLmNvbmNhdCh0ZXh0cylcclxuICAgICk7XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogTG9ncyBhbiBlcnJvciBtZXNzYWdlIGFsb25nIHdpdGggaXRzIHN0YWNrIHRyYWNlLiBPcHRpb25hbGx5LCBhIGN1c3RvbVxyXG4gKiBtZXNzYWdlIGNhbiBiZSBwcm92aWRlZC5cclxuICpcclxuICogQGZ1bmN0aW9uIGxvZ1dpdGhTdGFja1xyXG4gKlxyXG4gKiBAcGFyYW0ge251bWJlcn0gbmV3TGV2ZWwgLSBUaGUgbG9nIGxldmVsLlxyXG4gKiBAcGFyYW0ge0Vycm9yfSBlcnJvciAtIFRoZSBlcnJvciBvYmplY3QgY29udGFpbmluZyB0aGUgc3RhY2sgdHJhY2UuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBjdXN0b21NZXNzYWdlIC0gQW4gb3B0aW9uYWwgY3VzdG9tIG1lc3NhZ2UgdG8gYmUgaW5jbHVkZWRcclxuICogaW4gdGhlIGxvZyBhbG9uZ3NpZGUgdGhlIGVycm9yLlxyXG4gKlxyXG4gKiBAcmV0dXJucyB7dm9pZH0gRXhpdHMgdGhlIGZ1bmN0aW9uIGV4ZWN1dGlvbiBpZiBhdHRlbXB0aW5nIHRvIGxvZyBhdCBhIGxldmVsXHJcbiAqIGhpZ2hlciB0aGFuIGFsbG93ZWQuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gbG9nV2l0aFN0YWNrKG5ld0xldmVsLCBlcnJvciwgY3VzdG9tTWVzc2FnZSkge1xyXG4gIC8vIEdldCB0aGUgbWFpbiBtZXNzYWdlXHJcbiAgY29uc3QgbWFpbk1lc3NhZ2UgPSBjdXN0b21NZXNzYWdlIHx8IChlcnJvciAmJiBlcnJvci5tZXNzYWdlKSB8fCAnJztcclxuXHJcbiAgLy8gQ3VycmVudCBsb2dnaW5nIG9wdGlvbnNcclxuICBjb25zdCB7IGxldmVsLCBsZXZlbHNEZXNjIH0gPSBsb2dnaW5nO1xyXG5cclxuICAvLyBDaGVjayBpZiB0aGUgbG9nIGxldmVsIGlzIHdpdGhpbiBhIGNvcnJlY3QgcmFuZ2VcclxuICBpZiAobmV3TGV2ZWwgPT09IDAgfHwgbmV3TGV2ZWwgPiBsZXZlbCB8fCBsZXZlbCA+IGxldmVsc0Rlc2MubGVuZ3RoKSB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvLyBDcmVhdGUgYSBtZXNzYWdlJ3MgcHJlZml4XHJcbiAgY29uc3QgcHJlZml4ID0gYCR7Z2V0TmV3RGF0ZSgpfSBbJHtsZXZlbHNEZXNjW25ld0xldmVsIC0gMV0udGl0bGV9XSAtYDtcclxuXHJcbiAgLy8gQWRkIHRoZSB3aG9sZSBzdGFjayBtZXNzYWdlXHJcbiAgY29uc3Qgc3RhY2tNZXNzYWdlID0gZXJyb3IgJiYgZXJyb3Iuc3RhY2s7XHJcblxyXG4gIC8vIENvbWJpbmUgY3VzdG9tIG1lc3NhZ2Ugb3IgZXJyb3IgbWVzc2FnZSB3aXRoIGVycm9yIHN0YWNrIG1lc3NhZ2UsIGlmIGV4aXN0c1xyXG4gIGNvbnN0IHRleHRzID0gW21haW5NZXNzYWdlXTtcclxuICBpZiAoc3RhY2tNZXNzYWdlKSB7XHJcbiAgICB0ZXh0cy5wdXNoKCdcXG4nLCBzdGFja01lc3NhZ2UpO1xyXG4gIH1cclxuXHJcbiAgLy8gTG9nIHRvIGZpbGVcclxuICBpZiAobG9nZ2luZy50b0ZpbGUpIHtcclxuICAgIF9sb2dUb0ZpbGUodGV4dHMsIHByZWZpeCk7XHJcbiAgfVxyXG5cclxuICAvLyBMb2cgdG8gY29uc29sZVxyXG4gIGlmIChsb2dnaW5nLnRvQ29uc29sZSkge1xyXG4gICAgY29uc29sZS5sb2cuYXBwbHkoXHJcbiAgICAgIHVuZGVmaW5lZCxcclxuICAgICAgW3ByZWZpeC50b1N0cmluZygpW2xvZ2dpbmcubGV2ZWxzRGVzY1tuZXdMZXZlbCAtIDFdLmNvbG9yXV0uY29uY2F0KFtcclxuICAgICAgICB0ZXh0cy5zaGlmdCgpW2NvbG9yc1tuZXdMZXZlbCAtIDFdXSxcclxuICAgICAgICAuLi50ZXh0c1xyXG4gICAgICBdKVxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJbml0aWFsaXplcyBsb2dnaW5nIHdpdGggdGhlIHNwZWNpZmllZCBsb2dnaW5nIGNvbmZpZ3VyYXRpb24uXHJcbiAqXHJcbiAqIEBmdW5jdGlvbiBpbml0TG9nZ2luZ1xyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gbG9nZ2luZ09wdGlvbnMgLSBUaGUgY29uZmlndXJhdGlvbiBvYmplY3QgY29udGFpbmluZ1xyXG4gKiBgbG9nZ2luZ2Agb3B0aW9ucy5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0TG9nZ2luZyhsb2dnaW5nT3B0aW9ucykge1xyXG4gIC8vIEdldCBvcHRpb25zIGZyb20gdGhlIGBsb2dnaW5nT3B0aW9uc2Agb2JqZWN0XHJcbiAgY29uc3QgeyBsZXZlbCwgZGVzdCwgZmlsZSwgdG9Db25zb2xlLCB0b0ZpbGUgfSA9IGxvZ2dpbmdPcHRpb25zO1xyXG5cclxuICAvLyBSZXNldCBmbGFncyB0byB0aGUgZGVmYXVsdCB2YWx1ZXNcclxuICBsb2dnaW5nLnBhdGhDcmVhdGVkID0gZmFsc2U7XHJcbiAgbG9nZ2luZy5wYXRoVG9Mb2cgPSAnJztcclxuXHJcbiAgLy8gU2V0IHRoZSBsb2dnaW5nIGxldmVsXHJcbiAgc2V0TG9nTGV2ZWwobGV2ZWwpO1xyXG5cclxuICAvLyBTZXQgdGhlIGNvbnNvbGUgbG9nZ2luZ1xyXG4gIGVuYWJsZUNvbnNvbGVMb2dnaW5nKHRvQ29uc29sZSk7XHJcblxyXG4gIC8vIFNldCB0aGUgZmlsZSBsb2dnaW5nXHJcbiAgZW5hYmxlRmlsZUxvZ2dpbmcoZGVzdCwgZmlsZSwgdG9GaWxlKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFNldHMgdGhlIGxvZyBsZXZlbCB0byB0aGUgc3BlY2lmaWVkIHZhbHVlLiBMb2cgbGV2ZWxzIGFyZSAoYDBgID0gbm8gbG9nZ2luZyxcclxuICogYDFgID0gZXJyb3IsIGAyYCA9IHdhcm5pbmcsIGAzYCA9IG5vdGljZSwgYDRgID0gdmVyYm9zZSwgb3IgYDVgID0gYmVuY2htYXJrKS5cclxuICpcclxuICogQGZ1bmN0aW9uIHNldExvZ0xldmVsXHJcbiAqXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBsZXZlbCAtIFRoZSBsb2cgbGV2ZWwgdG8gYmUgc2V0LlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNldExvZ0xldmVsKGxldmVsKSB7XHJcbiAgaWYgKFxyXG4gICAgTnVtYmVyLmlzSW50ZWdlcihsZXZlbCkgJiZcclxuICAgIGxldmVsID49IDAgJiZcclxuICAgIGxldmVsIDw9IGxvZ2dpbmcubGV2ZWxzRGVzYy5sZW5ndGhcclxuICApIHtcclxuICAgIC8vIFVwZGF0ZSB0aGUgbW9kdWxlIGxvZ2dpbmcncyBgbGV2ZWxgIG9wdGlvblxyXG4gICAgbG9nZ2luZy5sZXZlbCA9IGxldmVsO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEVuYWJsZXMgY29uc29sZSBsb2dnaW5nLlxyXG4gKlxyXG4gKiBAZnVuY3Rpb24gZW5hYmxlQ29uc29sZUxvZ2dpbmdcclxuICpcclxuICogQHBhcmFtIHtib29sZWFufSB0b0NvbnNvbGUgLSBUaGUgZmxhZyBmb3Igc2V0dGluZyB0aGUgbG9nZ2luZyB0byB0aGUgY29uc29sZS5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBlbmFibGVDb25zb2xlTG9nZ2luZyh0b0NvbnNvbGUpIHtcclxuICAvLyBVcGRhdGUgdGhlIG1vZHVsZSBsb2dnaW5nJ3MgYHRvQ29uc29sZWAgb3B0aW9uXHJcbiAgbG9nZ2luZy50b0NvbnNvbGUgPSAhIXRvQ29uc29sZTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEVuYWJsZXMgZmlsZSBsb2dnaW5nIHdpdGggdGhlIHNwZWNpZmllZCBkZXN0aW5hdGlvbiBhbmQgbG9nIGZpbGUgbmFtZS5cclxuICpcclxuICogQGZ1bmN0aW9uIGVuYWJsZUZpbGVMb2dnaW5nXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBkZXN0IC0gVGhlIGRlc3RpbmF0aW9uIHBhdGggd2hlcmUgdGhlIGxvZyBmaWxlIHNob3VsZFxyXG4gKiBiZSBzYXZlZC5cclxuICogQHBhcmFtIHtzdHJpbmd9IGZpbGUgLSBUaGUgbmFtZSBvZiB0aGUgbG9nIGZpbGUuXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gdG9GaWxlIC0gQSBmbGFnIGluZGljYXRpbmcgd2hldGhlciBsb2dnaW5nIHNob3VsZFxyXG4gKiBiZSBkaXJlY3RlZCB0byBhIGZpbGUuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZW5hYmxlRmlsZUxvZ2dpbmcoZGVzdCwgZmlsZSwgdG9GaWxlKSB7XHJcbiAgLy8gVXBkYXRlIHRoZSBtb2R1bGUgbG9nZ2luZydzIGB0b0ZpbGVgIG9wdGlvblxyXG4gIGxvZ2dpbmcudG9GaWxlID0gISF0b0ZpbGU7XHJcblxyXG4gIC8vIFNldCB0aGUgYGRlc3RgIGFuZCBgZmlsZWAgb3B0aW9ucyBvbmx5IGlmIHRoZSBmaWxlIGxvZ2dpbmcgaXMgZW5hYmxlZFxyXG4gIGlmIChsb2dnaW5nLnRvRmlsZSkge1xyXG4gICAgbG9nZ2luZy5kZXN0ID0gZGVzdCB8fCAnbG9nJztcclxuICAgIGxvZ2dpbmcuZmlsZSA9IGZpbGUgfHwgJ2hpZ2hjaGFydHMtZXhwb3J0LXNlcnZlci5sb2cnO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIExvZ3MgdGhlIHByb3ZpZGVkIHRleHRzIHRvIGEgZmlsZSwgaWYgZmlsZSBsb2dnaW5nIGlzIGVuYWJsZWQuIEl0IGNyZWF0ZXNcclxuICogdGhlIG5lY2Vzc2FyeSBkaXJlY3Rvcnkgc3RydWN0dXJlIGlmIG5vdCBhbHJlYWR5IGNyZWF0ZWQgYW5kIGFwcGVuZHNcclxuICogdGhlIGNvbnRlbnQsIGluY2x1ZGluZyBhbiBvcHRpb25hbCBwcmVmaXgsIHRvIHRoZSBzcGVjaWZpZWQgbG9nIGZpbGUuXHJcbiAqXHJcbiAqIEBmdW5jdGlvbiBfbG9nVG9GaWxlXHJcbiAqXHJcbiAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gdGV4dHMgLSBBbiBhcnJheSBvZiB0ZXh0cyB0byBiZSBsb2dnZWQuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcmVmaXggLSBBbiBvcHRpb25hbCBwcmVmaXggdG8gYmUgYWRkZWQgdG8gZWFjaCBsb2cgZW50cnkuXHJcbiAqL1xyXG5mdW5jdGlvbiBfbG9nVG9GaWxlKHRleHRzLCBwcmVmaXgpIHtcclxuICBpZiAoIWxvZ2dpbmcucGF0aENyZWF0ZWQpIHtcclxuICAgIC8vIENyZWF0ZSBpZiBkb2VzIG5vdCBleGlzdFxyXG4gICAgIWV4aXN0c1N5bmMoZ2V0QWJzb2x1dGVQYXRoKGxvZ2dpbmcuZGVzdCkpICYmXHJcbiAgICAgIG1rZGlyU3luYyhnZXRBYnNvbHV0ZVBhdGgobG9nZ2luZy5kZXN0KSk7XHJcblxyXG4gICAgLy8gQ3JlYXRlIHRoZSBmdWxsIHBhdGhcclxuICAgIGxvZ2dpbmcucGF0aFRvTG9nID0gZ2V0QWJzb2x1dGVQYXRoKGpvaW4obG9nZ2luZy5kZXN0LCBsb2dnaW5nLmZpbGUpKTtcclxuXHJcbiAgICAvLyBXZSBub3cgYXNzdW1lIHRoZSBwYXRoIGlzIGF2YWlsYWJsZSwgZS5nLiBpdCdzIHRoZSByZXNwb25zaWJpbGl0eVxyXG4gICAgLy8gb2YgdGhlIHVzZXIgdG8gY3JlYXRlIHRoZSBwYXRoIHdpdGggdGhlIGNvcnJlY3QgYWNjZXNzIHJpZ2h0cy5cclxuICAgIGxvZ2dpbmcucGF0aENyZWF0ZWQgPSB0cnVlO1xyXG4gIH1cclxuXHJcbiAgLy8gQWRkIHRoZSBjb250ZW50IHRvIGEgZmlsZVxyXG4gIGFwcGVuZEZpbGUoXHJcbiAgICBsb2dnaW5nLnBhdGhUb0xvZyxcclxuICAgIFtwcmVmaXhdLmNvbmNhdCh0ZXh0cykuam9pbignICcpICsgJ1xcbicsXHJcbiAgICAoZXJyb3IpID0+IHtcclxuICAgICAgaWYgKGVycm9yICYmIGxvZ2dpbmcudG9GaWxlICYmIGxvZ2dpbmcucGF0aENyZWF0ZWQpIHtcclxuICAgICAgICBsb2dnaW5nLnRvRmlsZSA9IGZhbHNlO1xyXG4gICAgICAgIGxvZ2dpbmcucGF0aENyZWF0ZWQgPSBmYWxzZTtcclxuICAgICAgICBsb2dXaXRoU3RhY2soMiwgZXJyb3IsIGBbbG9nZ2VyXSBVbmFibGUgdG8gd3JpdGUgdG8gbG9nIGZpbGUuYCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICApO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgbG9nLFxyXG4gIGxvZ1dpdGhTdGFjayxcclxuICBpbml0TG9nZ2luZyxcclxuICBzZXRMb2dMZXZlbCxcclxuICBlbmFibGVDb25zb2xlTG9nZ2luZyxcclxuICBlbmFibGVGaWxlTG9nZ2luZ1xyXG59O1xyXG4iLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5cclxuSGlnaGNoYXJ0cyBFeHBvcnQgU2VydmVyXHJcblxyXG5Db3B5cmlnaHQgKGMpIDIwMTYtMjAyNSwgSGlnaHNvZnRcclxuXHJcbkxpY2VuY2VkIHVuZGVyIHRoZSBNSVQgbGljZW5jZS5cclxuXHJcbkFkZGl0aW9uYWxseSBhIHZhbGlkIEhpZ2hjaGFydHMgbGljZW5zZSBpcyByZXF1aXJlZCBmb3IgdXNlLlxyXG5cclxuU2VlIExJQ0VOU0UgZmlsZSBpbiByb290IGZvciBkZXRhaWxzLlxyXG5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbi8qKlxyXG4gKiBAb3ZlcnZpZXcgVGhpcyBtb2R1bGUgbWFuYWdlcyBjb25maWd1cmF0aW9uIGZvciB0aGUgSGlnaGNoYXJ0cyBFeHBvcnQgU2VydmVyXHJcbiAqIGJ5IGxvYWRpbmcgYW5kIG1lcmdpbmcgb3B0aW9ucyBmcm9tIG11bHRpcGxlIHNvdXJjZXMsIHN1Y2ggYXMgdGhlIGRlZmF1bHRcclxuICogc2V0dGluZ3MsIGVudmlyb25tZW50IHZhcmlhYmxlcywgdXNlci1wcm92aWRlZCBvcHRpb25zLCBhbmQgY29tbWFuZC1saW5lXHJcbiAqIGFyZ3VtZW50cy4gRW5zdXJlcyB0aGUgZ2xvYmFsIG9wdGlvbnMgYXJlIHVwLXRvLWRhdGUgd2l0aCB0aGUgaGlnaGVzdFxyXG4gKiBwcmlvcml0eSB2YWx1ZXMuIFByb3ZpZGVzIGZ1bmN0aW9ucyBmb3IgYWNjZXNzaW5nIGFuZCB1cGRhdGluZyBjb25maWd1cmF0aW9uLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IHJlYWRGaWxlU3luYyB9IGZyb20gJ2ZzJztcclxuXHJcbmltcG9ydCB7IGVudnMgfSBmcm9tICcuL2VudnMuanMnO1xyXG5pbXBvcnQgeyBsb2csIGxvZ1dpdGhTdGFjayB9IGZyb20gJy4vbG9nZ2VyLmpzJztcclxuaW1wb3J0IHsgZGVlcENvcHksIGdldEFic29sdXRlUGF0aCwgaXNPYmplY3QgfSBmcm9tICcuL3V0aWxzLmpzJztcclxuXHJcbmltcG9ydCBkZWZhdWx0Q29uZmlnIGZyb20gJy4vc2NoZW1hcy9jb25maWcuanMnO1xyXG5cclxuLy8gU2V0cyB0aGUgZ2xvYmFsIG9wdGlvbnMgd2l0aCBpbml0aWFsIHZhbHVlcyBmcm9tIHRoZSBkZWZhdWx0IGNvbmZpZ1xyXG5jb25zdCBnbG9iYWxPcHRpb25zID0gX2luaXRPcHRpb25zKGRlZmF1bHRDb25maWcpO1xyXG5cclxuLy8gUHJvcGVydGllcyBuZXN0aW5nIGxldmVsIG9mIGFsbCBvcHRpb25zXHJcbmNvbnN0IG5lc3RlZFByb3BzID0gX2NyZWF0ZU5lc3RlZFByb3BzKGRlZmF1bHRDb25maWcpO1xyXG5cclxuLy8gUHJvcGVydGllcyBuYW1lcyB0aGF0IHNob3VsZCBub3QgYmUgcmVjdXJzaXZlbHkgbWVyZ2VkXHJcbmNvbnN0IGFic29sdXRlUHJvcHMgPSBfY3JlYXRlQWJzb2x1dGVQcm9wcyhkZWZhdWx0Q29uZmlnKTtcclxuXHJcbi8qKlxyXG4gKiBSZXRyaWV2ZXMgYSBjb3B5IG9mIHRoZSBnbG9iYWwgb3B0aW9ucyBvYmplY3Qgb3IgYW4gb3JpZ2luYWwgZ2xvYmFsIG9wdGlvbnNcclxuICogb2JqZWN0LCBiYXNlZCBvbiB0aGUgYGdldENvcHlgIGZsYWcuXHJcbiAqXHJcbiAqIEBmdW5jdGlvbiBnZXRPcHRpb25zXHJcbiAqXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2dldENvcHk9dHJ1ZV0gLSBTcGVjaWZpZXMgd2hldGhlciB0byByZXR1cm4gYSBjb3BpZWRcclxuICogb2JqZWN0IG9mIHRoZSBnbG9iYWwgb3B0aW9ucyAoYHRydWVgKSBvciBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9wdGlvbnNcclxuICogb2JqZWN0IChgZmFsc2VgKS4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgYHRydWVgLlxyXG4gKlxyXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBBIGNvcHkgb2YgdGhlIGdsb2JhbCBvcHRpb25zIG9iamVjdCwgb3IgYSByZWZlcmVuY2VcclxuICogdG8gdGhlIGdsb2JhbCBvcHRpb25zIG9iamVjdC5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRPcHRpb25zKGdldENvcHkgPSB0cnVlKSB7XHJcbiAgLy8gUmV0dXJuIGEgY29weSBvciBhbiBvcmlnaW5hbCBnbG9iYWwgb3B0aW9ucyBvYmplY3RcclxuICByZXR1cm4gZ2V0Q29weSA/IGRlZXBDb3B5KGdsb2JhbE9wdGlvbnMpIDogZ2xvYmFsT3B0aW9ucztcclxufVxyXG5cclxuLyoqXHJcbiAqIFVwZGF0ZXMgYW5kIHJldHVybnMgdGhlIGdsb2JhbCBvcHRpb25zIG9iamVjdCBvciBhIGNvcHkgb2YgdGhlIGdsb2JhbCBvcHRpb25zXHJcbiAqIG9iamVjdCwgYmFzZWQgb24gdGhlIGBnZXRDb3B5YCBmbGFnLlxyXG4gKlxyXG4gKiBAZnVuY3Rpb24gdXBkYXRlT3B0aW9uc1xyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gbmV3T3B0aW9ucyAtIEFuIG9iamVjdCBjb250YWluaW5nIHRoZSBuZXcgb3B0aW9ucyB0byBiZVxyXG4gKiBtZXJnZWQgaW50byB0aGUgZ2xvYmFsIG9wdGlvbnMuXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2dldENvcHk9ZmFsc2VdIC0gRGV0ZXJtaW5lcyB3aGV0aGVyIHRvIG1lcmdlIHRoZSBuZXdcclxuICogb3B0aW9ucyBpbnRvIGEgY29weSBvZiB0aGUgZ2xvYmFsIG9wdGlvbnMgb2JqZWN0IChgdHJ1ZWApIG9yIGRpcmVjdGx5IGludG9cclxuICogdGhlIGdsb2JhbCBvcHRpb25zIG9iamVjdCAoYGZhbHNlYCkuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGBmYWxzZWAuXHJcbiAqXHJcbiAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSB1cGRhdGVkIG9wdGlvbnMgb2JqZWN0LCBlaXRoZXIgdGhlIG1vZGlmaWVkIGdsb2JhbFxyXG4gKiBvcHRpb25zIG9yIGEgbW9kaWZpZWQgY29weSwgYmFzZWQgb24gdGhlIHZhbHVlIG9mIGBnZXRDb3B5YC5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVPcHRpb25zKG5ld09wdGlvbnMsIGdldENvcHkgPSBmYWxzZSkge1xyXG4gIC8vIE1lcmdlIG5ldyBvcHRpb25zIHRvIHRoZSBnbG9iYWwgb3B0aW9ucyBvciBpdHMgY29weSBhbmQgcmV0dXJuIHRoZSByZXN1bHRcclxuICByZXR1cm4gX21lcmdlT3B0aW9ucyhnZXRPcHRpb25zKGdldENvcHkpLCBuZXdPcHRpb25zKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFVwZGF0ZXMgYW5kIHJldHVybnMgdGhlIGdsb2JhbCBvcHRpb25zIG9iamVjdCB3aXRoIHZhbHVlcyBwcm92aWRlZCB0aHJvdWdoXHJcbiAqIHRoZSBDTEksIGtlZXBpbmcgdGhlIHByaW5jaXBsZSBvZiBvcHRpb25zIGxvYWQgcHJpb3JpdHkuIFRoZSBmdW5jdGlvbiBhY2NlcHRzXHJcbiAqIGEgYGNsaUFyZ3NgIGFycmF5IGNvbnRhaW5pbmcgYXJndW1lbnRzIGZyb20gdGhlIENMSSwgd2hpY2ggd2lsbCBiZSB2YWxpZGF0ZWRcclxuICogYW5kIGFwcGxpZWQgaWYgcHJvdmlkZWQuXHJcbiAqXHJcbiAqIFRoZSBmdW5jdGlvbiBwcmlvcml0aXplcyB2YWx1ZXMgaW4gdGhlIGZvbGxvd2luZyBvcmRlcjpcclxuICpcclxuICogMS4gVmFsdWVzIGZyb20gdGhlIGNvbW1hbmQgbGluZSBpbnRlcmZhY2UgKENMSSkuXHJcbiAqIDIuIFZhbHVlcyBmcm9tIGEgY3VzdG9tIEpTT04gZmlsZSAobG9hZGVkIGJ5IHRoZSBgLS1sb2FkQ29uZmlnYCBvcHRpb24pLlxyXG4gKlxyXG4gKiBAZnVuY3Rpb24gc2V0Q2xpT3B0aW9uc1xyXG4gKlxyXG4gKiBAcGFyYW0ge0FycmF5PHN0cmluZz59IGNsaUFyZ3MgLSBBbiBhcnJheSBvZiBjb21tYW5kIGxpbmUgYXJndW1lbnRzIHVzZWRcclxuICogZm9yIGFkZGl0aW9uYWwgY29uZmlndXJhdGlvbi5cclxuICpcclxuICogQHJldHVybnMge09iamVjdH0gVGhlIHVwZGF0ZWQgZ2xvYmFsIG9wdGlvbnMgb2JqZWN0LCByZWZsZWN0aW5nIHRoZSBtZXJnZWRcclxuICogY29uZmlndXJhdGlvbiBmcm9tIHNvdXJjZXMgcHJvdmlkZWQgdGhyb3VnaCB0aGUgQ0xJLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNldENsaU9wdGlvbnMoY2xpQXJncykge1xyXG4gIC8vIE9ubHkgZm9yIHRoZSBDTEkgdXNhZ2VcclxuICBpZiAoY2xpQXJncyAmJiBBcnJheS5pc0FycmF5KGNsaUFyZ3MpICYmIGNsaUFyZ3MubGVuZ3RoKSB7XHJcbiAgICAvLyBHZXQgb3B0aW9ucyBmcm9tIHRoZSBjdXN0b20gSlNPTiBsb2FkZWQgdmlhIHRoZSBgLS1sb2FkQ29uZmlnYFxyXG4gICAgY29uc3QgY29uZmlnT3B0aW9ucyA9IF9sb2FkQ29uZmlnRmlsZShjbGlBcmdzKTtcclxuXHJcbiAgICAvLyBVcGRhdGUgZ2xvYmFsIG9wdGlvbnMgd2l0aCB0aGUgdmFsdWVzIGZyb20gdGhlIGBjb25maWdPcHRpb25zYCBvYmplY3RcclxuICAgIHVwZGF0ZU9wdGlvbnMoY29uZmlnT3B0aW9ucyk7XHJcblxyXG4gICAgLy8gR2V0IG9wdGlvbnMgZnJvbSB0aGUgQ0xJXHJcbiAgICBjb25zdCBjbGlPcHRpb25zID0gX3BhaXJBcmd1bWVudFZhbHVlKGNsaUFyZ3MpO1xyXG5cclxuICAgIC8vIFVwZGF0ZSBnbG9iYWwgb3B0aW9ucyB3aXRoIHRoZSB2YWx1ZXMgZnJvbSB0aGUgYGNsaU9wdGlvbnNgIG9iamVjdFxyXG4gICAgdXBkYXRlT3B0aW9ucyhjbGlPcHRpb25zKTtcclxuICB9XHJcblxyXG4gIC8vIFJldHVybiByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvcHRpb25zXHJcbiAgcmV0dXJuIGdldE9wdGlvbnMoZmFsc2UpO1xyXG59XHJcblxyXG4vKipcclxuICogTWFwcyBvbGQtc3RydWN0dXJlZCBjb25maWd1cmF0aW9uIG9wdGlvbnMgKFBoYW50b21KUy1iYXNlZCkgdG8gYSBuZXcgZm9ybWF0XHJcbiAqIChQdXBwZXRlZXItYmFzZWQpLiBUaGlzIGZ1bmN0aW9uIGNvbnZlcnRzIGZsYXQsIG9sZC1zdHJ1Y3R1cmVkIG9wdGlvbnMgaW50b1xyXG4gKiBhIG5ldywgbmVzdGVkIGNvbmZpZ3VyYXRpb24gZm9ybWF0IGJhc2VkIG9uIGEgcHJlZGVmaW5lZCBtYXBwaW5nIHByb3ZpZGVkXHJcbiAqIGluIHRoZSBgbmVzdGVkUHJvcHNgIG9iamVjdC4gVGhlIG5ldyBmb3JtYXQgaXMgdXNlZCBmb3IgUHVwcGV0ZWVyLCB3aGlsZVxyXG4gKiB0aGUgb2xkIGZvcm1hdCB3YXMgdXNlZCBmb3IgUGhhbnRvbUpTLlxyXG4gKlxyXG4gKiBAZnVuY3Rpb24gbWFwVG9OZXdPcHRpb25zXHJcbiAqXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBvbGRPcHRpb25zIC0gVGhlIG9sZCwgZmxhdCBjb25maWd1cmF0aW9uIG9wdGlvbnNcclxuICogdG8gYmUgY29udmVydGVkLlxyXG4gKlxyXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBBIG5ldyBvYmplY3QgY29udGFpbmluZyBvcHRpb25zIHN0cnVjdHVyZWQgYWNjb3JkaW5nXHJcbiAqIHRvIHRoZSBtYXBwaW5nIGRlZmluZWQgaW4gdGhlIGBuZXN0ZWRQcm9wc2Agb2JqZWN0IG9yIGFuIGVtcHR5IG9iamVjdFxyXG4gKiBpZiB0aGUgcHJvdmlkZWQgYG9sZE9wdGlvbnNgIGlzIG5vdCBhIGNvcnJlY3Qgb2JqZWN0LlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIG1hcFRvTmV3T3B0aW9ucyhvbGRPcHRpb25zKSB7XHJcbiAgLy8gQW4gb2JqZWN0IGZvciB0aGUgbmV3IHN0cnVjdHVyZWQgb3B0aW9uc1xyXG4gIGNvbnN0IG5ld09wdGlvbnMgPSB7fTtcclxuXHJcbiAgLy8gQ2hlY2sgaWYgcHJvdmlkZWQgdmFsdWUgaXMgYSBjb3JyZWN0IG9iamVjdFxyXG4gIGlmIChpc09iamVjdChvbGRPcHRpb25zKSkge1xyXG4gICAgLy8gSXRlcmF0ZSBvdmVyIGVhY2gga2V5LXZhbHVlIHBhaXIgaW4gdGhlIG9sZC1zdHJ1Y3R1cmVkIG9wdGlvbnNcclxuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKG9sZE9wdGlvbnMpKSB7XHJcbiAgICAgIC8vIElmIHRoZXJlIGlzIGEgbmVzdGVkIG1hcHBpbmcsIHNwbGl0IGl0IGludG8gYSBwcm9wZXJ0aWVzIGNoYWluXHJcbiAgICAgIGNvbnN0IHByb3BlcnRpZXNDaGFpbiA9IG5lc3RlZFByb3BzW2tleV1cclxuICAgICAgICA/IG5lc3RlZFByb3BzW2tleV0uc3BsaXQoJy4nKVxyXG4gICAgICAgIDogW107XHJcblxyXG4gICAgICAvLyBJZiBpdCBpcyB0aGUgbGFzdCBwcm9wZXJ0eSBpbiB0aGUgY2hhaW4sIGFzc2lnbiB0aGUgdmFsdWUsIG90aGVyd2lzZSxcclxuICAgICAgLy8gY3JlYXRlIG9yIHJldXNlIHRoZSBuZXN0ZWQgb2JqZWN0XHJcbiAgICAgIHByb3BlcnRpZXNDaGFpbi5yZWR1Y2UoXHJcbiAgICAgICAgKG9iaiwgcHJvcCwgaW5kZXgpID0+XHJcbiAgICAgICAgICAob2JqW3Byb3BdID1cclxuICAgICAgICAgICAgcHJvcGVydGllc0NoYWluLmxlbmd0aCAtIDEgPT09IGluZGV4ID8gdmFsdWUgOiBvYmpbcHJvcF0gfHwge30pLFxyXG4gICAgICAgIG5ld09wdGlvbnNcclxuICAgICAgKTtcclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAgbG9nKFxyXG4gICAgICAyLFxyXG4gICAgICAnW2NvbmZpZ10gTm8gY29ycmVjdCBvYmplY3Qgd2l0aCBvcHRpb25zIHdhcyBwcm92aWRlZC4gUmV0dXJuaW5nIGFuIGVtcHR5IG9iamVjdC4nXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgLy8gUmV0dXJuIHRoZSBuZXcsIHN0cnVjdHVyZWQgb3B0aW9ucyBvYmplY3RcclxuICByZXR1cm4gbmV3T3B0aW9ucztcclxufVxyXG5cclxuLyoqXHJcbiAqIFZhbGlkYXRlcywgcGFyc2VzLCBhbmQgY2hlY2tzIGlmIHRoZSBwcm92aWRlZCBjb25maWcgaXMgYWxsb3dlZCBzZXRcclxuICogb2Ygb3B0aW9ucy5cclxuICpcclxuICogQGZ1bmN0aW9uIGlzQWxsb3dlZENvbmZpZ1xyXG4gKlxyXG4gKiBAcGFyYW0ge3Vua25vd259IGNvbmZpZyAtIFRoZSBjb25maWcgdG8gYmUgdmFsaWRhdGVkIGFuZCBwYXJzZWQgYXMgYSBzZXRcclxuICogb2Ygb3B0aW9ucy4gTXVzdCBiZSBlaXRoZXIgYW4gb2JqZWN0IG9yIGEgc3RyaW5nLlxyXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFt0b1N0cmluZz1mYWxzZV0gLSBXaGV0aGVyIHRvIHJldHVybiBhIHN0cmluZ2lmaWVkIHZlcnNpb25cclxuICogb2YgdGhlIHBhcnNlZCBjb25maWcuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGBmYWxzZWAuXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2FsbG93RnVuY3Rpb25zPWZhbHNlXSAtIFdoZXRoZXIgdG8gYWxsb3cgZnVuY3Rpb25zXHJcbiAqIGluIHRoZSBwYXJzZWQgY29uZmlnLiBJZiBgdHJ1ZWAsIGZ1bmN0aW9ucyBhcmUgcHJlc2VydmVkLiBPdGhlcndpc2UsIHdoZW5cclxuICogYSBmdW5jdGlvbiBpcyBmb3VuZCwgYG51bGxgIGlzIHJldHVybmVkLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBgZmFsc2VgLlxyXG4gKlxyXG4gKiBAcmV0dXJucyB7KE9iamVjdHxzdHJpbmd8bnVsbCl9IFJldHVybnMgYSBwYXJzZWQgc2V0IG9mIG9wdGlvbnMgb2JqZWN0LFxyXG4gKiBhIHN0cmluZ2lmaWVkIHNldCBvZiBvcHRpb25zIG9iamVjdCBpZiB0aGUgYHRvU3RyaW5nYCBpcyBgdHJ1ZWAsIGFuZCBgbnVsbGBcclxuICogaWYgdGhlIGNvbmZpZyBpcyBub3QgYSB2YWxpZCBzZXQgb2Ygb3B0aW9ucyBvciBwYXJzaW5nIGZhaWxzLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzQWxsb3dlZENvbmZpZyhcclxuICBjb25maWcsXHJcbiAgdG9TdHJpbmcgPSBmYWxzZSxcclxuICBhbGxvd0Z1bmN0aW9ucyA9IGZhbHNlXHJcbikge1xyXG4gIHRyeSB7XHJcbiAgICAvLyBBY2NlcHQgb25seSBvYmplY3RzIGFuZCBzdHJpbmdzXHJcbiAgICBpZiAoIWlzT2JqZWN0KGNvbmZpZykgJiYgdHlwZW9mIGNvbmZpZyAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgLy8gUmV0dXJuIGBudWxsYCBpZiBhbnkgb3RoZXIgdHlwZVxyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBHZXQgdGhlIG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiB0aGUgb3JpZ2luYWwgY29uZmlnXHJcbiAgICBjb25zdCBvYmplY3RDb25maWcgPVxyXG4gICAgICB0eXBlb2YgY29uZmlnID09PSAnc3RyaW5nJ1xyXG4gICAgICAgID8gYWxsb3dGdW5jdGlvbnNcclxuICAgICAgICAgID8gZXZhbChgKCR7Y29uZmlnfSlgKVxyXG4gICAgICAgICAgOiBKU09OLnBhcnNlKGNvbmZpZylcclxuICAgICAgICA6IGNvbmZpZztcclxuXHJcbiAgICAvLyBQcmVzZXJ2ZSBvciByZW1vdmUgcG90ZW50aWFsIGZ1bmN0aW9ucyBiYXNlZCBvbiB0aGUgYGFsbG93RnVuY3Rpb25zYCBmbGFnXHJcbiAgICBjb25zdCBzdHJpbmdpZmllZE9wdGlvbnMgPSBfb3B0aW9uc1N0cmluZ2lmeShcclxuICAgICAgb2JqZWN0Q29uZmlnLFxyXG4gICAgICBhbGxvd0Z1bmN0aW9ucyxcclxuICAgICAgZmFsc2VcclxuICAgICk7XHJcblxyXG4gICAgLy8gUGFyc2UgdGhlIGNvbmZpZyB0byBjaGVjayBpZiBpdCBpcyB2YWxpZCBzZXQgb2Ygb3B0aW9uc1xyXG4gICAgY29uc3QgcGFyc2VkT3B0aW9ucyA9IGFsbG93RnVuY3Rpb25zXHJcbiAgICAgID8gSlNPTi5wYXJzZShcclxuICAgICAgICAgIF9vcHRpb25zU3RyaW5naWZ5KG9iamVjdENvbmZpZywgYWxsb3dGdW5jdGlvbnMsIHRydWUpLFxyXG4gICAgICAgICAgKF8sIHZhbHVlKSA9PlxyXG4gICAgICAgICAgICB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnICYmIHZhbHVlLnN0YXJ0c1dpdGgoJ2Z1bmN0aW9uJylcclxuICAgICAgICAgICAgICA/IGV2YWwoYCgke3ZhbHVlfSlgKVxyXG4gICAgICAgICAgICAgIDogdmFsdWVcclxuICAgICAgICApXHJcbiAgICAgIDogSlNPTi5wYXJzZShzdHJpbmdpZmllZE9wdGlvbnMpO1xyXG5cclxuICAgIC8vIFJldHVybiBzdHJpbmdpZmllZCBvciBvYmplY3Qgb3B0aW9ucyBiYXNlZCBvbiB0aGUgYHRvU3RyaW5nYCBmbGFnXHJcbiAgICByZXR1cm4gdG9TdHJpbmcgPyBzdHJpbmdpZmllZE9wdGlvbnMgOiBwYXJzZWRPcHRpb25zO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAvLyBSZXR1cm4gYG51bGxgIGlmIHBhcnNpbmcgZmFpbHNcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEluaXRpYWxpemVzIGFuZCByZXR1cm5zIHRoZSBnbG9iYWwgb3B0aW9ucyBvYmplY3QgYmFzZWQgb24gdGhlIHByb3ZpZGVkXHJcbiAqIGNvbmZpZ3VyYXRpb24sIHNldHRpbmcgdmFsdWVzIGZyb20gbmVzdGVkIHByb3BlcnRpZXMgcmVjdXJzaXZlbHkuXHJcbiAqXHJcbiAqIFRoZSBmdW5jdGlvbiBwcmlvcml0aXplcyB2YWx1ZXMgaW4gdGhlIGZvbGxvd2luZyBvcmRlcjpcclxuICpcclxuICogMS4gVmFsdWVzIGZyb20gZW52aXJvbm1lbnQgdmFyaWFibGVzIChzcGVjaWZpZWQgaW4gdGhlIGAuZW52YCBmaWxlKS5cclxuICogMi4gVmFsdWVzIGZyb20gdGhlIGAuL2xpYi9zY2hlbWFzL2NvbmZpZy5qc2AgZmlsZSAoZGVmYXVsdHMpLlxyXG4gKlxyXG4gKiBAZnVuY3Rpb24gX2luaXRPcHRpb25zXHJcbiAqXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgLSBUaGUgY29uZmlndXJhdGlvbiBvYmplY3QgdXNlZCBmb3IgaW5pdGlhbGl6aW5nXHJcbiAqIHRoZSBnbG9iYWwgb3B0aW9ucy4gSXQgc2hvdWxkIGluY2x1ZGUgbmVzdGVkIHByb3BlcnRpZXMgd2l0aCBhIGB2YWx1ZWBcclxuICogYW5kIGFuIGBlbnZMaW5rYCBmb3IgbGlua2luZyB0byBlbnZpcm9ubWVudCB2YXJpYWJsZXMuXHJcbiAqXHJcbiAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBpbml0aWFsaXplZCBnbG9iYWwgb3B0aW9ucyBvYmplY3QsIHBvcHVsYXRlZCB3aXRoXHJcbiAqIHZhbHVlcyBiYXNlZCBvbiB0aGUgcHJvdmlkZWQgY29uZmlndXJhdGlvbiBhbmQgdGhlIGVzdGFibGlzaGVkIHByaW9yaXR5XHJcbiAqIG9yZGVyLlxyXG4gKi9cclxuZnVuY3Rpb24gX2luaXRPcHRpb25zKGNvbmZpZykge1xyXG4gIC8vIEluaXQgdGhlIG9iamVjdCBmb3Igb3B0aW9uc1xyXG4gIGNvbnN0IG9wdGlvbnMgPSB7fTtcclxuXHJcbiAgLy8gU3RhcnQgaW5pdGlhbGl6aW5nIHRoZSBgb3B0aW9uc2Agb2JqZWN0IHJlY3Vyc2l2ZWx5XHJcbiAgZm9yIChjb25zdCBbbmFtZSwgaXRlbV0gb2YgT2JqZWN0LmVudHJpZXMoY29uZmlnKSkge1xyXG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChpdGVtLCAndmFsdWUnKSkge1xyXG4gICAgICAvLyBTZXQgdGhlIGNvcnJlY3QgdmFsdWUgYmFzZWQgb24gdGhlIGVzdGFibGlzaGVkIHByaW9yaXR5IG9yZGVyXHJcbiAgICAgIGlmIChlbnZzW2l0ZW0uZW52TGlua10gIT09IHVuZGVmaW5lZCAmJiBlbnZzW2l0ZW0uZW52TGlua10gIT09IG51bGwpIHtcclxuICAgICAgICAvLyBUaGUgZW52aXJvbm1lbnQgdmFyaWFibGVzIHZhbHVlXHJcbiAgICAgICAgb3B0aW9uc1tuYW1lXSA9IGVudnNbaXRlbS5lbnZMaW5rXTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBUaGUgdmFsdWUgZnJvbSB0aGUgY29uZmlnIGZpbGVcclxuICAgICAgICBvcHRpb25zW25hbWVdID0gaXRlbS52YWx1ZTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gQ3JlYXRlIGEgY2F0ZWdvcnkgb2Ygb3B0aW9ucyBpbiB0aGUgYG9wdGlvbnNgIG9iamVjdFxyXG4gICAgICBvcHRpb25zW25hbWVdID0gX2luaXRPcHRpb25zKGl0ZW0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gUmV0dXJuIHRoZSBjcmVhdGVkIGBvcHRpb25zYCBvYmplY3RcclxuICByZXR1cm4gb3B0aW9ucztcclxufVxyXG5cclxuLyoqXHJcbiAqIFJlY3Vyc2l2ZWx5IG1lcmdlcyB0d28gc2V0cyBvZiBjb25maWd1cmF0aW9uIG9wdGlvbnMsIHRha2luZyBpbnRvIGFjY291bnRcclxuICogcHJvcGVydGllcyBzcGVjaWZpZWQgaW4gdGhlIGBhYnNvbHV0ZVByb3BzYCBhcnJheSB0aGF0IHJlcXVpcmUgYWJzb2x1dGVcclxuICogbWVyZ2luZy4gVGhlIGBvcmlnaW5hbE9wdGlvbnNgIG9iamVjdCB3aWxsIGJlIGV4dGVuZGVkIHdpdGggb3B0aW9ucyBmcm9tXHJcbiAqIHRoZSBgbmV3T3B0aW9uc2Agb2JqZWN0LlxyXG4gKlxyXG4gKiBAZnVuY3Rpb24gX21lcmdlT3B0aW9uc1xyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gb3JpZ2luYWxPcHRpb25zIC0gVGhlIG9yaWdpbmFsIGNvbmZpZ3VyYXRpb24gb3B0aW9ucyBvYmplY3RcclxuICogdG8gYmUgZXh0ZW5kZWQuXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBuZXdPcHRpb25zIC0gVGhlIG5ldyBjb25maWd1cmF0aW9uIG9wdGlvbnMgb2JqZWN0IHRvIG1lcmdlLlxyXG4gKlxyXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgZXh0ZW5kZWQgYG9yaWdpbmFsT3B0aW9uc2Agb2JqZWN0LlxyXG4gKi9cclxuZnVuY3Rpb24gX21lcmdlT3B0aW9ucyhvcmlnaW5hbE9wdGlvbnMsIG5ld09wdGlvbnMpIHtcclxuICAvLyBDaGVjayBpZiB0aGUgYG9yaWdpbmFsT3B0aW9uc2AgYW5kIGBuZXdPcHRpb25zYCBhcmUgY29ycmVjdCBvYmplY3RzXHJcbiAgaWYgKGlzT2JqZWN0KG9yaWdpbmFsT3B0aW9ucykgJiYgaXNPYmplY3QobmV3T3B0aW9ucykpIHtcclxuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKG5ld09wdGlvbnMpKSB7XHJcbiAgICAgIG9yaWdpbmFsT3B0aW9uc1trZXldID1cclxuICAgICAgICBpc09iamVjdCh2YWx1ZSkgJiZcclxuICAgICAgICAhYWJzb2x1dGVQcm9wcy5pbmNsdWRlcyhrZXkpICYmXHJcbiAgICAgICAgb3JpZ2luYWxPcHRpb25zW2tleV0gIT09IHVuZGVmaW5lZFxyXG4gICAgICAgICAgPyBfbWVyZ2VPcHRpb25zKG9yaWdpbmFsT3B0aW9uc1trZXldLCB2YWx1ZSlcclxuICAgICAgICAgIDogdmFsdWUgIT09IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICA/IHZhbHVlXHJcbiAgICAgICAgICAgIDogb3JpZ2luYWxPcHRpb25zW2tleV0gfHwgbnVsbDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIFJldHVybiB0aGUgb3JpZ2luYWwgKG1vZGlmaWVkIG9yIG5vdCkgb3B0aW9uc1xyXG4gIHJldHVybiBvcmlnaW5hbE9wdGlvbnM7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDb252ZXJ0cyB0aGUgcHJvdmlkZWQgb3B0aW9ucyBvYmplY3QgdG8gYSBKU09OIHN0cmluZyB3aXRoIHRoZSBvcHRpb25cclxuICogdG8gcHJlc2VydmUgZnVuY3Rpb25zLiBJbiBvcmRlciBmb3IgYSBmdW5jdGlvbiB0byBiZSBwcmVzZXJ2ZWQsIGl0IG5lZWRzXHJcbiAqIHRvIGZvbGxvdyB0aGUgZm9ybWF0IGBmdW5jdGlvbiAoLi4uKSB7Li4ufWAuIFN1Y2ggYSBmdW5jdGlvbiBjYW4gYWxzb1xyXG4gKiBiZSBzdHJpbmdpZmllZC5cclxuICpcclxuICogQGZ1bmN0aW9uIF9vcHRpb25zU3RyaW5naWZ5XHJcbiAqXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gVGhlIG9wdGlvbnMgb2JqZWN0IHRvIGJlIGNvbnZlcnRlZCB0byBhIHN0cmluZy5cclxuICogQHBhcmFtIHtib29sZWFufSBhbGxvd0Z1bmN0aW9ucyAtIElmIHNldCB0byBgdHJ1ZWAsIGZ1bmN0aW9ucyBhcmUgcHJlc2VydmVkXHJcbiAqIGluIHRoZSBvdXRwdXQuIE90aGVyd2lzZSBhbiBlcnJvciBpcyB0aHJvd24uXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gc3RyaW5naWZ5RnVuY3Rpb25zIC0gSWYgc2V0IHRvIGB0cnVlYCwgZnVuY3Rpb25zIGFyZSBzYXZlZFxyXG4gKiBhcyBzdHJpbmdzLiBUaGUgYGFsbG93RnVuY3Rpb25zYCBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgYXMgd2VsbCBmb3IgdGhpc1xyXG4gKiB0byB0YWtlIGFuIGVmZmVjdC5cclxuICpcclxuICogQHJldHVybnMge3N0cmluZ30gVGhlIEpTT04tZm9ybWF0dGVkIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIG9wdGlvbnMuXHJcbiAqXHJcbiAqIEB0aHJvd3Mge0Vycm9yfSBUaHJvd3MgYW4gYEVycm9yYCB3aGVuIGZ1bmN0aW9ucyBhcmUgbm90IGFsbG93ZWQgYnV0IGFyZVxyXG4gKiBmb3VuZCBpbiBwcm92aWRlZCBvcHRpb25zIG9iamVjdC5cclxuICovXHJcbmZ1bmN0aW9uIF9vcHRpb25zU3RyaW5naWZ5KG9wdGlvbnMsIGFsbG93RnVuY3Rpb25zLCBzdHJpbmdpZnlGdW5jdGlvbnMpIHtcclxuICBjb25zdCByZXBsYWNlckNhbGxiYWNrID0gKF8sIHZhbHVlKSA9PiB7XHJcbiAgICAvLyBUcmltIHN0cmluZyB2YWx1ZXNcclxuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgIHZhbHVlID0gdmFsdWUudHJpbSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIElmIGB2YWx1ZWAgaXMgYSBmdW5jdGlvbiBvciBzdHJpbmdpZmllZCBmdW5jdGlvblxyXG4gICAgaWYgKFxyXG4gICAgICB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicgfHxcclxuICAgICAgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgJiZcclxuICAgICAgICB2YWx1ZS5zdGFydHNXaXRoKCdmdW5jdGlvbicpICYmXHJcbiAgICAgICAgdmFsdWUuZW5kc1dpdGgoJ30nKSlcclxuICAgICkge1xyXG4gICAgICAvLyBJZiB0aGUgYGFsbG93RnVuY3Rpb25zYCBpcyBzZXQgdG8gYHRydWVgLCBwcmVzZXJ2ZSBmdW5jdGlvbnNcclxuICAgICAgaWYgKGFsbG93RnVuY3Rpb25zKSB7XHJcbiAgICAgICAgLy8gQmFzZWQgb24gdGhlIGBzdHJpbmdpZnlGdW5jdGlvbnNgIG9wdGlvbnMsIHNldCBmdW5jdGlvbiB2YWx1ZXNcclxuICAgICAgICByZXR1cm4gc3RyaW5naWZ5RnVuY3Rpb25zXHJcbiAgICAgICAgICA/IC8vIEFzIHN0cmluZ2lmaWVkIGZ1bmN0aW9uc1xyXG4gICAgICAgICAgICBgXCJFWFBfRlVOJHsodmFsdWUgKyAnJykucmVwbGFjZUFsbCgvXFxzKy9nLCAnICcpfUVYUF9GVU5cImBcclxuICAgICAgICAgIDogLy8gQXMgZnVuY3Rpb25zXHJcbiAgICAgICAgICAgIGBFWFBfRlVOJHsodmFsdWUgKyAnJykucmVwbGFjZUFsbCgvXFxzKy9nLCAnICcpfUVYUF9GVU5gO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIFRocm93IGFuIGVycm9yIG90aGVyd2lzZVxyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcigpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSW4gYWxsIG90aGVyIGNhc2VzLCBzaW1wbHkgcmV0dXJuIHRoZSB2YWx1ZVxyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG4gIH07XHJcblxyXG4gIC8vIFN0cmluZ2lmeSBvcHRpb25zIGFuZCBpZiByZXF1aXJlZCwgcmVwbGFjZSBzcGVjaWFsIGZ1bmN0aW9ucyBtYXJrc1xyXG4gIHJldHVybiBKU09OLnN0cmluZ2lmeShvcHRpb25zLCByZXBsYWNlckNhbGxiYWNrKS5yZXBsYWNlQWxsKFxyXG4gICAgc3RyaW5naWZ5RnVuY3Rpb25zID8gL1xcXFxcIkVYUF9GVU58RVhQX0ZVTlxcXFxcIi9nIDogL1wiRVhQX0ZVTnxFWFBfRlVOXCIvZyxcclxuICAgICcnXHJcbiAgKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIExvYWRzIGFkZGl0aW9uYWwgY29uZmlndXJhdGlvbiBmcm9tIGEgc3BlY2lmaWVkIGZpbGUgcHJvdmlkZWQgdmlhXHJcbiAqIHRoZSBgLS1sb2FkQ29uZmlnYCBvcHRpb24gaW4gdGhlIGNvbW1hbmQtbGluZSBhcmd1bWVudHMuXHJcbiAqXHJcbiAqIEBmdW5jdGlvbiBfbG9hZENvbmZpZ0ZpbGVcclxuICpcclxuICogQHBhcmFtIHtBcnJheTxzdHJpbmc+fSBjbGlBcmdzIC0gQ29tbWFuZC1saW5lIGFyZ3VtZW50cyB0byBzZWFyY2hcclxuICogZm9yIHRoZSBgLS1sb2FkQ29uZmlnYCBvcHRpb24gYW5kIHRoZSBjb3JyZXNwb25kaW5nIGZpbGUgcGF0aC5cclxuICpcclxuICogQHJldHVybnMge09iamVjdH0gVGhlIGFkZGl0aW9uYWwgY29uZmlndXJhdGlvbiBsb2FkZWQgZnJvbSB0aGUgc3BlY2lmaWVkXHJcbiAqIGZpbGUsIG9yIGFuIGVtcHR5IG9iamVjdCBpZiB0aGUgZmlsZSBpcyBub3QgZm91bmQsIGludmFsaWQsIG9yIGFuIGVycm9yXHJcbiAqIG9jY3Vycy5cclxuICovXHJcbmZ1bmN0aW9uIF9sb2FkQ29uZmlnRmlsZShjbGlBcmdzKSB7XHJcbiAgLy8gR2V0IHRoZSBhbGxvdyBmbGFncyBmb3IgdGhlIGN1c3RvbSBsb2dpYyBjaGVja1xyXG4gIGNvbnN0IHsgYWxsb3dDb2RlRXhlY3V0aW9uLCBhbGxvd0ZpbGVSZXNvdXJjZXMgfSA9IGdldE9wdGlvbnMoKS5jdXN0b21Mb2dpYztcclxuXHJcbiAgLy8gQ2hlY2sgaWYgdGhlIGAtLWxvYWRDb25maWdgIG9wdGlvbiB3YXMgdXNlZFxyXG4gIGNvbnN0IGNvbmZpZ0luZGV4ID0gY2xpQXJncy5maW5kSW5kZXgoXHJcbiAgICAoYXJnKSA9PiBhcmcucmVwbGFjZSgvLS9nLCAnJykgPT09ICdsb2FkQ29uZmlnJ1xyXG4gICk7XHJcblxyXG4gIC8vIEdldCB0aGUgYC0tbG9hZENvbmZpZ2Agb3B0aW9uIHZhbHVlXHJcbiAgY29uc3QgY29uZmlnRmlsZU5hbWUgPSBjb25maWdJbmRleCA+IC0xICYmIGNsaUFyZ3NbY29uZmlnSW5kZXggKyAxXTtcclxuXHJcbiAgLy8gQ2hlY2sgaWYgdGhlIGAtLWxvYWRDb25maWdgIGlzIHByZXNlbnQgYW5kIGhhcyBhIGNvcnJlY3QgdmFsdWVcclxuICBpZiAoY29uZmlnRmlsZU5hbWUgJiYgYWxsb3dGaWxlUmVzb3VyY2VzKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBMb2FkIGFuIG9wdGlvbmFsIGN1c3RvbSBKU09OIGNvbmZpZyBmaWxlXHJcbiAgICAgIHJldHVybiBpc0FsbG93ZWRDb25maWcoXHJcbiAgICAgICAgcmVhZEZpbGVTeW5jKGdldEFic29sdXRlUGF0aChjb25maWdGaWxlTmFtZSksICd1dGY4JyksXHJcbiAgICAgICAgZmFsc2UsXHJcbiAgICAgICAgYWxsb3dDb2RlRXhlY3V0aW9uXHJcbiAgICAgICk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBsb2dXaXRoU3RhY2soXHJcbiAgICAgICAgMixcclxuICAgICAgICBlcnJvcixcclxuICAgICAgICBgW2NvbmZpZ10gVW5hYmxlIHRvIGxvYWQgdGhlIGNvbmZpZ3VyYXRpb24gZnJvbSB0aGUgJHtjb25maWdGaWxlTmFtZX0gZmlsZS5gXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBObyBhZGRpdGlvbmFsIG9wdGlvbnMgdG8gcmV0dXJuXHJcbiAgcmV0dXJuIHt9O1xyXG59XHJcblxyXG4vKipcclxuICogUGFyc2VzIGNvbW1hbmQtbGluZSBhcmd1bWVudHMgYW5kIHBhaXJzIGVhY2ggYXJndW1lbnQgd2l0aCBpdHMgY29ycmVzcG9uZGluZ1xyXG4gKiBvcHRpb24gaW4gdGhlIGNvbmZpZ3VyYXRpb24uIFRoZSB2YWx1ZXMgYXJlIHN0cnVjdHVyZWQgaW50byBhIG5lc3RlZCBvcHRpb25zXHJcbiAqIG9iamVjdCwgYmFzZWQgb24gcHJlZGVmaW5lZCBtYXBwaW5ncyBpbiB0aGUgYG5lc3RlZFByb3BzYCBvYmplY3QuXHJcbiAqXHJcbiAqIEBmdW5jdGlvbiBfcGFpckFyZ3VtZW50VmFsdWVcclxuICpcclxuICogQHBhcmFtIHtBcnJheTxzdHJpbmc+fSBjbGlBcmdzIC0gQW4gYXJyYXkgb2YgY29tbWFuZC1saW5lIGFyZ3VtZW50c1xyXG4gKiBjb250YWluaW5nIG9wdGlvbnMgYW5kIHRoZWlyIGFzc29jaWF0ZWQgdmFsdWVzLlxyXG4gKlxyXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBBbiB1cGRhdGVkIG9wdGlvbnMgb2JqZWN0IHdoZXJlIGVhY2ggb3B0aW9uIGZyb21cclxuICogdGhlIGNvbW1hbmQtbGluZSBpcyBwYWlyZWQgd2l0aCBpdHMgdmFsdWUsIHN0cnVjdHVyZWQgaW50byBuZXN0ZWQgb2JqZWN0c1xyXG4gKiBhcyBkZWZpbmVkLlxyXG4gKi9cclxuZnVuY3Rpb24gX3BhaXJBcmd1bWVudFZhbHVlKGNsaUFyZ3MpIHtcclxuICAvLyBBbiBlbXB0eSBvYmplY3QgdG8gY29sbGVjdCBhbmQgc3RydWN0dXJpemUgZGF0YSBmcm9tIHRoZSBhcmdzXHJcbiAgY29uc3QgY2xpT3B0aW9ucyA9IHt9O1xyXG5cclxuICAvLyBDeWNsZSB0aHJvdWdoIGFsbCBDTEkgYXJncyBhbmQgZmlsdGVyIHRoZW1cclxuICBmb3IgKGxldCBpID0gMDsgaSA8IGNsaUFyZ3MubGVuZ3RoOyBpKyspIHtcclxuICAgIGNvbnN0IG9wdGlvbiA9IGNsaUFyZ3NbaV0ucmVwbGFjZSgvLS9nLCAnJyk7XHJcblxyXG4gICAgLy8gRmluZCB0aGUgcmlnaHQgcGxhY2UgZm9yIHByb3BlcnR5J3MgdmFsdWVcclxuICAgIGNvbnN0IHByb3BlcnRpZXNDaGFpbiA9IG5lc3RlZFByb3BzW29wdGlvbl1cclxuICAgICAgPyBuZXN0ZWRQcm9wc1tvcHRpb25dLnNwbGl0KCcuJylcclxuICAgICAgOiBbXTtcclxuXHJcbiAgICAvLyBDcmVhdGUgb3B0aW9ucyBvYmplY3Qgd2l0aCB2YWx1ZXMgZnJvbSBDTEkgZm9yIGxhdGVyIHBhcnNpbmcgYW5kIG1lcmdpbmdcclxuICAgIHByb3BlcnRpZXNDaGFpbi5yZWR1Y2UoKG9iaiwgcHJvcCwgaW5kZXgpID0+IHtcclxuICAgICAgaWYgKHByb3BlcnRpZXNDaGFpbi5sZW5ndGggLSAxID09PSBpbmRleCkge1xyXG4gICAgICAgIGNvbnN0IHZhbHVlID0gY2xpQXJnc1srK2ldO1xyXG4gICAgICAgIGlmICghdmFsdWUpIHtcclxuICAgICAgICAgIGxvZyhcclxuICAgICAgICAgICAgMixcclxuICAgICAgICAgICAgYFtjb25maWddIE1pc3NpbmcgdmFsdWUgZm9yIHRoZSBDTEkgJy0tJHtvcHRpb259JyBhcmd1bWVudC4gVXNpbmcgdGhlIGRlZmF1bHQgdmFsdWUuYFxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgb2JqW3Byb3BdID0gdmFsdWUgfHwgbnVsbDtcclxuICAgICAgfSBlbHNlIGlmIChvYmpbcHJvcF0gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIG9ialtwcm9wXSA9IHt9O1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBvYmpbcHJvcF07XHJcbiAgICB9LCBjbGlPcHRpb25zKTtcclxuICB9XHJcblxyXG4gIC8vIFJldHVybiBwYXJzZWQgQ0xJIG9wdGlvbnNcclxuICByZXR1cm4gY2xpT3B0aW9ucztcclxufVxyXG5cclxuLyoqXHJcbiAqIFJlY3Vyc2l2ZWx5IGdlbmVyYXRlcyBhIG1hcHBpbmcgb2YgbmVzdGVkIGFyZ3VtZW50IGNoYWlucyBmcm9tIGEgbmVzdGVkXHJcbiAqIGNvbmZpZyBvYmplY3QuIFRoaXMgZnVuY3Rpb24gdHJhdmVyc2VzIGEgbmVzdGVkIG9iamVjdCBhbmQgY3JlYXRlcyBhIG1hcHBpbmdcclxuICogd2hlcmUgZWFjaCBrZXkgaXMgYW4gYXJndW1lbnQgbmFtZSAoZWl0aGVyIGZyb20gYGNsaU5hbWVgLCBgbGVnYWN5TmFtZWAsXHJcbiAqIG9yIHRoZSBvcmlnaW5hbCBrZXkpIGFuZCBlYWNoIHZhbHVlIGlzIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgY2hhaW5cclxuICogb2YgbmVzdGVkIHByb3BlcnRpZXMgbGVhZGluZyB0byB0aGF0IGFyZ3VtZW50LlxyXG4gKlxyXG4gKiBAZnVuY3Rpb24gX2NyZWF0ZU5lc3RlZFByb3BzXHJcbiAqXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgLSBUaGUgY29uZmlndXJhdGlvbiBvYmplY3QuXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBbbmVzdGVkUHJvcHM9e31dIC0gVGhlIGFjY3VtdWxhdG9yIG9iamVjdCBmb3Igc3RvcmluZ1xyXG4gKiB0aGUgcmVzdWx0aW5nIGFyZ3VtZW50cyBjaGFpbnMuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGFuIGVtcHR5IG9iamVjdC5cclxuICogQHBhcmFtIHtzdHJpbmd9IFtwcm9wQ2hhaW49JyddIC0gVGhlIGN1cnJlbnQgY2hhaW4gb2YgbmVzdGVkIHByb3BlcnRpZXMsXHJcbiAqIHVzZWQgaW50ZXJuYWxseSBkdXJpbmcgcmVjdXJzaW9uLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBhbiBlbXB0eSBzdHJpbmcuXHJcbiAqXHJcbiAqIEByZXR1cm5zIHtPYmplY3R9IEFuIG9iamVjdCBtYXBwaW5nIGFyZ3VtZW50IG5hbWVzIHRvIHRoZWlyIGNvcnJlc3BvbmRpbmdcclxuICogbmVzdGVkIHByb3BlcnR5IGNoYWlucy5cclxuICovXHJcbmZ1bmN0aW9uIF9jcmVhdGVOZXN0ZWRQcm9wcyhjb25maWcsIG5lc3RlZFByb3BzID0ge30sIHByb3BDaGFpbiA9ICcnKSB7XHJcbiAgT2JqZWN0LmtleXMoY29uZmlnKS5mb3JFYWNoKChrZXkpID0+IHtcclxuICAgIC8vIEdldCB0aGUgc3BlY2lmaWMgc2VjdGlvblxyXG4gICAgY29uc3QgZW50cnkgPSBjb25maWdba2V5XTtcclxuXHJcbiAgICAvLyBDaGVjayBpZiB0aGVyZSBpcyBzdGlsbCBtb3JlIGRlcHRoIHRvIHRyYXZlcnNlXHJcbiAgICBpZiAodHlwZW9mIGVudHJ5LnZhbHVlID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAvLyBSZWN1cnNlIGludG8gZGVlcGVyIGxldmVscyBvZiBuZXN0ZWQgYXJndW1lbnRzXHJcbiAgICAgIF9jcmVhdGVOZXN0ZWRQcm9wcyhlbnRyeSwgbmVzdGVkUHJvcHMsIGAke3Byb3BDaGFpbn0uJHtrZXl9YCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBDcmVhdGUgdGhlIGNoYWluIG9mIG5lc3RlZCBhcmd1bWVudHNcclxuICAgICAgbmVzdGVkUHJvcHNbZW50cnkuY2xpTmFtZSB8fCBrZXldID0gYCR7cHJvcENoYWlufS4ke2tleX1gLnN1YnN0cmluZygxKTtcclxuXHJcbiAgICAgIC8vIFN1cHBvcnQgZm9yIHRoZSBsZWdhY3ksIFBoYW50b21KUyBwcm9wZXJ0aWVzIG5hbWVzXHJcbiAgICAgIGlmIChlbnRyeS5sZWdhY3lOYW1lICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICBuZXN0ZWRQcm9wc1tlbnRyeS5sZWdhY3lOYW1lXSA9IGAke3Byb3BDaGFpbn0uJHtrZXl9YC5zdWJzdHJpbmcoMSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgLy8gUmV0dXJuIHRoZSBvYmplY3Qgd2l0aCBuZXN0ZWQgYXJndW1lbnQgY2hhaW5zXHJcbiAgcmV0dXJuIG5lc3RlZFByb3BzO1xyXG59XHJcblxyXG4vKipcclxuICogUmVjdXJzaXZlbHkgZ2F0aGVycyB0aGUgbmFtZXMgb2YgcHJvcGVydGllcyBmcm9tIGEgY29uZmlndXJhdGlvbiBvYmplY3QgdGhhdFxyXG4gKiBzaG91bGQgYmUgdHJlYXRlZCBhcyBhYnNvbHV0ZSBwcm9wZXJ0aWVzLiBUaGVzZSBwcm9wZXJ0aWVzIGhhdmUgdmFsdWVzIHRoYXRcclxuICogYXJlIG9iamVjdHMgYW5kIGRvIG5vdCBjb250YWluIGZ1cnRoZXIgbmVzdGVkIGRlcHRoIHdoZW4gbWVyZ2luZyBhbiBvYmplY3RcclxuICogY29udGFpbmluZyB0aGVzZSBvcHRpb25zLlxyXG4gKlxyXG4gKiBAZnVuY3Rpb24gX2NyZWF0ZUFic29sdXRlUHJvcHNcclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyAtIFRoZSBjb25maWd1cmF0aW9uIG9iamVjdC5cclxuICogQHBhcmFtIHtBcnJheTxzdHJpbmc+fSBbYWJzb2x1dGVQcm9wcz1bXV0gLSBBbiBhcnJheSB0byBjb2xsZWN0IHRoZSBuYW1lc1xyXG4gKiBvZiBhYnNvbHV0ZSBwcm9wZXJ0aWVzLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBhbiBlbXB0eSBhcnJheS5cclxuICpcclxuICogQHJldHVybnMge0FycmF5PHN0cmluZz59IEFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIG5hbWVzIG9mIGFic29sdXRlXHJcbiAqIHByb3BlcnRpZXMuXHJcbiAqL1xyXG5mdW5jdGlvbiBfY3JlYXRlQWJzb2x1dGVQcm9wcyhjb25maWcsIGFic29sdXRlUHJvcHMgPSBbXSkge1xyXG4gIE9iamVjdC5rZXlzKGNvbmZpZykuZm9yRWFjaCgoa2V5KSA9PiB7XHJcbiAgICAvLyBHZXQgdGhlIHNwZWNpZmljIHNlY3Rpb25cclxuICAgIGNvbnN0IGVudHJ5ID0gY29uZmlnW2tleV07XHJcblxyXG4gICAgLy8gQ2hlY2sgaWYgdGhlcmUgaXMgc3RpbGwgbW9yZSBkZXB0aCB0byB0cmF2ZXJzZVxyXG4gICAgaWYgKHR5cGVvZiBlbnRyeS50eXBlcyA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgLy8gUmVjdXJzZSBpbnRvIGRlZXBlciBsZXZlbHNcclxuICAgICAgX2NyZWF0ZUFic29sdXRlUHJvcHMoZW50cnksIGFic29sdXRlUHJvcHMpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gSWYgdGhlIG9wdGlvbiBjYW4gYmUgYW4gb2JqZWN0LCBzYXZlIGl0cyB0eXBlIGluIHRoZSBhcnJheVxyXG4gICAgICBpZiAoZW50cnkudHlwZXMuaW5jbHVkZXMoJ09iamVjdCcpKSB7XHJcbiAgICAgICAgYWJzb2x1dGVQcm9wcy5wdXNoKGtleSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgLy8gUmV0dXJuIHRoZSBhcnJheSB3aXRoIHRoZSBuYW1lcyBvZiBhYnNvbHV0ZSBwcm9wZXJ0aWVzXHJcbiAgcmV0dXJuIGFic29sdXRlUHJvcHM7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICBnZXRPcHRpb25zLFxyXG4gIHVwZGF0ZU9wdGlvbnMsXHJcbiAgc2V0Q2xpT3B0aW9ucyxcclxuICBtYXBUb05ld09wdGlvbnMsXHJcbiAgaXNBbGxvd2VkQ29uZmlnXHJcbn07XHJcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcblxyXG5IaWdoY2hhcnRzIEV4cG9ydCBTZXJ2ZXJcclxuXHJcbkNvcHlyaWdodCAoYykgMjAxNi0yMDI1LCBIaWdoc29mdFxyXG5cclxuTGljZW5jZWQgdW5kZXIgdGhlIE1JVCBsaWNlbmNlLlxyXG5cclxuQWRkaXRpb25hbGx5IGEgdmFsaWQgSGlnaGNoYXJ0cyBsaWNlbnNlIGlzIHJlcXVpcmVkIGZvciB1c2UuXHJcblxyXG5TZWUgTElDRU5TRSBmaWxlIGluIHJvb3QgZm9yIGRldGFpbHMuXHJcblxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuLyoqXHJcbiAqIEBvdmVydmlldyBIVFRQIHV0aWxpdHkgbW9kdWxlIGZvciBmZXRjaGluZyBhbmQgcG9zdGluZyBkYXRhLiBTdXBwb3J0cyBib3RoXHJcbiAqIEhUVFAgYW5kIEhUVFBTIHByb3RvY29scywgcHJvdmlkaW5nIG1ldGhvZHMgdG8gbWFrZSBHRVQgYW5kIFBPU1QgcmVxdWVzdHNcclxuICogd2l0aCBjdXN0b21pemFibGUgb3B0aW9ucy4gSW5jbHVkZXMgcHJvdG9jb2wgZGV0ZXJtaW5hdGlvbiBiYXNlZCBvbiBVUkxcclxuICogYW5kIGF1Z21lbnRzIHJlc3BvbnNlIG9iamVjdHMgd2l0aCBhICd0ZXh0JyBwcm9wZXJ0eSBmb3IgZWFzaWVyIGRhdGEgYWNjZXNzLlxyXG4gKi9cclxuXHJcbmltcG9ydCBodHRwIGZyb20gJ2h0dHAnO1xyXG5pbXBvcnQgaHR0cHMgZnJvbSAnaHR0cHMnO1xyXG5cclxuLyoqXHJcbiAqIFNlbmRzIGEgR0VUIHJlcXVlc3QgdG8gdGhlIHNwZWNpZmllZCBVUkwgdXNpbmcgZWl0aGVyIEhUVFAgb3IgSFRUUFMgcHJvdG9jb2wuXHJcbiAqXHJcbiAqIEBhc3luY1xyXG4gKiBAZnVuY3Rpb24gZ2V0XHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgVVJMIHRvIGdldCBkYXRhIGZyb20uXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVxdWVzdE9wdGlvbnM9e31dIC0gT3B0aW9ucyBmb3IgdGhlIEhUVFAvSFRUUFMgcmVxdWVzdC5cclxuICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgYW4gZW1wdHkgb2JqZWN0LlxyXG4gKlxyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fSBBIFByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgSFRUUC9IVFRQUyByZXNwb25zZVxyXG4gKiBvYmplY3Qgd2l0aCBhZGRlZCAndGV4dCcgcHJvcGVydHkgb3IgcmVqZWN0aW5nIHdpdGggYW4gZXJyb3IuXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0KHVybCwgcmVxdWVzdE9wdGlvbnMgPSB7fSkge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAvLyBEZWNpZGUgb24gdGhlIHByb3RvY29sXHJcbiAgICBfZ2V0UHJvdG9jb2xNb2R1bGUodXJsKVxyXG4gICAgICAuZ2V0KHVybCwgcmVxdWVzdE9wdGlvbnMsIChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgIGxldCByZXNwb25zZURhdGEgPSAnJztcclxuXHJcbiAgICAgICAgLy8gQSBjaHVuayBvZiBkYXRhIGhhcyBiZWVuIHJlY2VpdmVkXHJcbiAgICAgICAgcmVzcG9uc2Uub24oJ2RhdGEnLCAoY2h1bmspID0+IHtcclxuICAgICAgICAgIHJlc3BvbnNlRGF0YSArPSBjaHVuaztcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gVGhlIHdob2xlIHJlc3BvbnNlIGhhcyBiZWVuIHJlY2VpdmVkXHJcbiAgICAgICAgcmVzcG9uc2Uub24oJ2VuZCcsICgpID0+IHtcclxuICAgICAgICAgIGlmICghcmVzcG9uc2VEYXRhKSB7XHJcbiAgICAgICAgICAgIHJlamVjdCgnTm90aGluZyB3YXMgZmV0Y2hlZCBmcm9tIHRoZSBVUkwuJyk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gR2V0IHRoZSBmdWxsIHJlc3VsdCBhbmQgcmVzb2x2ZSB0aGUgcmVxdWVzdFxyXG4gICAgICAgICAgcmVzcG9uc2UudGV4dCA9IHJlc3BvbnNlRGF0YTtcclxuICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KVxyXG4gICAgICAub24oJ2Vycm9yJywgKGVycm9yKSA9PiB7XHJcbiAgICAgICAgcmVqZWN0KGVycm9yKTtcclxuICAgICAgfSk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTZW5kcyBhIFBPU1QgcmVxdWVzdCB0byB0aGUgc3BlY2lmaWVkIFVSTCB3aXRoIHRoZSBwcm92aWRlZCBKU09OIGJvZHkgdXNpbmdcclxuICogZWl0aGVyIEhUVFAgb3IgSFRUUFMgcHJvdG9jb2wuXHJcbiAqXHJcbiAqIEBhc3luY1xyXG4gKiBAZnVuY3Rpb24gcG9zdFxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIFVSTCB0byBzZW5kIHRoZSBQT1NUIHJlcXVlc3QgdG8uXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBbYm9keT17fV0gLSBUaGUgSlNPTiBib2R5IHRvIGluY2x1ZGUgaW4gdGhlIFBPU1QgcmVxdWVzdC5cclxuICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgYW4gZW1wdHkgb2JqZWN0LlxyXG4gKiBAcGFyYW0ge09iamVjdH0gW3JlcXVlc3RPcHRpb25zPXt9XSAtIE9wdGlvbnMgZm9yIHRoZSBIVFRQL0hUVFBTIHJlcXVlc3QuXHJcbiAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGFuIGVtcHR5IG9iamVjdC5cclxuICpcclxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0Pn0gQSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIEhUVFAvSFRUUFMgcmVzcG9uc2VcclxuICogb2JqZWN0IHdpdGggYWRkZWQgJ3RleHQnIHByb3BlcnR5IG9yIHJlamVjdGluZyB3aXRoIGFuIGVycm9yLlxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHBvc3QodXJsLCBib2R5ID0ge30sIHJlcXVlc3RPcHRpb25zID0ge30pIHtcclxuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgY29uc3QgZGF0YSA9IEpTT04uc3RyaW5naWZ5KGJvZHkpO1xyXG5cclxuICAgIC8vIFNldCBkZWZhdWx0IGhlYWRlcnMgYW5kIG1lcmdlIHdpdGggYHJlcXVlc3RPcHRpb25zYFxyXG4gICAgY29uc3Qgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oXHJcbiAgICAgIHtcclxuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICAgJ0NvbnRlbnQtTGVuZ3RoJzogZGF0YS5sZW5ndGhcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIHJlcXVlc3RPcHRpb25zXHJcbiAgICApO1xyXG5cclxuICAgIC8vIERlY2lkZSBvbiB0aGUgcHJvdG9jb2xcclxuICAgIGNvbnN0IHJlcXVlc3QgPSBfZ2V0UHJvdG9jb2xNb2R1bGUodXJsKVxyXG4gICAgICAucmVxdWVzdCh1cmwsIG9wdGlvbnMsIChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgIGxldCByZXNwb25zZURhdGEgPSAnJztcclxuXHJcbiAgICAgICAgLy8gQSBjaHVuayBvZiBkYXRhIGhhcyBiZWVuIHJlY2VpdmVkXHJcbiAgICAgICAgcmVzcG9uc2Uub24oJ2RhdGEnLCAoY2h1bmspID0+IHtcclxuICAgICAgICAgIHJlc3BvbnNlRGF0YSArPSBjaHVuaztcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gVGhlIHdob2xlIHJlc3BvbnNlIGhhcyBiZWVuIHJlY2VpdmVkXHJcbiAgICAgICAgcmVzcG9uc2Uub24oJ2VuZCcsICgpID0+IHtcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIEdldCB0aGUgZnVsbCByZXN1bHQgYW5kIHJlc29sdmUgdGhlIHJlcXVlc3RcclxuICAgICAgICAgICAgcmVzcG9uc2UudGV4dCA9IHJlc3BvbnNlRGF0YTtcclxuICAgICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7XHJcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZWplY3QoZXJyb3IpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KVxyXG4gICAgICAub24oJ2Vycm9yJywgKGVycm9yKSA9PiB7XHJcbiAgICAgICAgcmVqZWN0KGVycm9yKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgLy8gV3JpdGUgdGhlIHJlcXVlc3QgYm9keSBhbmQgZW5kIHRoZSByZXF1ZXN0XHJcbiAgICByZXF1ZXN0LndyaXRlKGRhdGEpO1xyXG4gICAgcmVxdWVzdC5lbmQoKTtcclxuICB9KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgdGhlIEhUVFAgb3IgSFRUUFMgcHJvdG9jb2wgbW9kdWxlIGJhc2VkIG9uIHRoZSBwcm92aWRlZCBVUkwuXHJcbiAqXHJcbiAqIEBmdW5jdGlvbiBfZ2V0UHJvdG9jb2xNb2R1bGVcclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSBVUkwgdG8gZGV0ZXJtaW5lIHRoZSBwcm90b2NvbC5cclxuICpcclxuICogQHJldHVybnMge09iamVjdH0gVGhlIEhUVFAgb3IgSFRUUFMgcHJvdG9jb2wgbW9kdWxlIChgaHR0cGAgb3IgYGh0dHBzYCkuXHJcbiAqL1xyXG5mdW5jdGlvbiBfZ2V0UHJvdG9jb2xNb2R1bGUodXJsKSB7XHJcbiAgcmV0dXJuIHVybC5zdGFydHNXaXRoKCdodHRwcycpID8gaHR0cHMgOiBodHRwO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgZ2V0LFxyXG4gIHBvc3RcclxufTtcclxuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHJcbkhpZ2hjaGFydHMgRXhwb3J0IFNlcnZlclxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE2LTIwMjUsIEhpZ2hzb2Z0XHJcblxyXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXHJcblxyXG5BZGRpdGlvbmFsbHkgYSB2YWxpZCBIaWdoY2hhcnRzIGxpY2Vuc2UgaXMgcmVxdWlyZWQgZm9yIHVzZS5cclxuXHJcblNlZSBMSUNFTlNFIGZpbGUgaW4gcm9vdCBmb3IgZGV0YWlscy5cclxuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4vKipcclxuICogQSBjdXN0b20gZXJyb3IgY2xhc3MgZm9yIGhhbmRsaW5nIGV4cG9ydC1yZWxhdGVkIGVycm9ycy4gRXh0ZW5kcyB0aGUgbmF0aXZlXHJcbiAqIGBFcnJvcmAgY2xhc3MgdG8gaW5jbHVkZSBhZGRpdGlvbmFsIHByb3BlcnRpZXMgbGlrZSBzdGF0dXMgY29kZSBhbmQgc3RhY2tcclxuICogdHJhY2UgZGV0YWlscy5cclxuICovXHJcbmNsYXNzIEV4cG9ydEVycm9yIGV4dGVuZHMgRXJyb3Ige1xyXG4gIC8qKlxyXG4gICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgdGhlIGBFeHBvcnRFcnJvcmAuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSAtIFRoZSBlcnJvciBtZXNzYWdlIHRvIGJlIGRpc3BsYXllZC5cclxuICAgKiBAcGFyYW0ge251bWJlcn0gc3RhdHVzQ29kZSAtIE9wdGlvbmFsIEhUVFAgc3RhdHVzIGNvZGUgYXNzb2NpYXRlZFxyXG4gICAqIHdpdGggdGhlIGVycm9yIChlLmcuLCA0MDAsIDUwMCkuXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IobWVzc2FnZSwgc3RhdHVzQ29kZSkge1xyXG4gICAgc3VwZXIoKTtcclxuXHJcbiAgICAvLyBTZXQgdGhlIGBtZXNzYWdlYCBhbmQgYHN0YWNrTWVzc2FnZWAgd2l0aCBwcm92aWRlZCBtZXNzYWdlXHJcbiAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xyXG4gICAgdGhpcy5zdGFja01lc3NhZ2UgPSBtZXNzYWdlO1xyXG5cclxuICAgIC8vIFNldCB0aGUgYHN0YXR1c0NvZGVgIGlmIHByb3ZpZGVkXHJcbiAgICBpZiAoc3RhdHVzQ29kZSkge1xyXG4gICAgICB0aGlzLnN0YXR1c0NvZGUgPSBzdGF0dXNDb2RlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0cyBhZGRpdGlvbmFsIGVycm9yIGRldGFpbHMgYmFzZWQgb24gYW4gZXhpc3RpbmcgZXJyb3Igb2JqZWN0LlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtFcnJvcn0gZXJyb3IgLSBBbiBlcnJvciBvYmplY3QgY29udGFpbmluZyBkZXRhaWxzIHRvIHBvcHVsYXRlXHJcbiAgICogdGhlIGBFeHBvcnRFcnJvcmAgaW5zdGFuY2UuXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7RXhwb3J0RXJyb3J9IFRoZSB1cGRhdGVkIGluc3RhbmNlIG9mIHRoZSBgRXhwb3J0RXJyb3JgIGNsYXNzLlxyXG4gICAqL1xyXG4gIHNldEVycm9yKGVycm9yKSB7XHJcbiAgICAvLyBTYXZlIHRoZSBwcm92aWRlZCBlcnJvclxyXG4gICAgdGhpcy5lcnJvciA9IGVycm9yO1xyXG5cclxuICAgIC8vIFNldCB0aGUgZXJyb3IncyBuYW1lIGlmIHByZXNlbnRcclxuICAgIGlmIChlcnJvci5uYW1lKSB7XHJcbiAgICAgIHRoaXMubmFtZSA9IGVycm9yLm5hbWU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2V0IHRoZSBlcnJvcidzIHN0YXR1cyBjb2RlIGlmIHByZXNlbnRcclxuICAgIGlmIChlcnJvci5zdGF0dXNDb2RlKSB7XHJcbiAgICAgIHRoaXMuc3RhdHVzQ29kZSA9IGVycm9yLnN0YXR1c0NvZGU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2V0IHRoZSBlcnJvcidzIHN0YWNrIGFuZCBzdGFjaydzIG1lc3NhZ2UgaWYgcHJlc2VudFxyXG4gICAgaWYgKGVycm9yLnN0YWNrKSB7XHJcbiAgICAgIHRoaXMuc3RhY2tNZXNzYWdlID0gZXJyb3IubWVzc2FnZTtcclxuICAgICAgdGhpcy5zdGFjayA9IGVycm9yLnN0YWNrO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldHVybiB1cGRhdGVkIGBFeHBvcnRFcnJvcmAgaW5zdGFuY2VcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgRXhwb3J0RXJyb3I7XHJcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcblxyXG5IaWdoY2hhcnRzIEV4cG9ydCBTZXJ2ZXJcclxuXHJcbkNvcHlyaWdodCAoYykgMjAxNi0yMDI1LCBIaWdoc29mdFxyXG5cclxuTGljZW5jZWQgdW5kZXIgdGhlIE1JVCBsaWNlbmNlLlxyXG5cclxuQWRkaXRpb25hbGx5IGEgdmFsaWQgSGlnaGNoYXJ0cyBsaWNlbnNlIGlzIHJlcXVpcmVkIGZvciB1c2UuXHJcblxyXG5TZWUgTElDRU5TRSBmaWxlIGluIHJvb3QgZm9yIGRldGFpbHMuXHJcblxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuLyoqXHJcbiAqIEBvdmVydmlldyBUaGUgY2FjaGUgbWFuYWdlciBpcyByZXNwb25zaWJsZSBmb3IgaGFuZGxpbmcgYW5kIG1hbmFnaW5nXHJcbiAqIHRoZSBIaWdoY2hhcnRzIGxpYnJhcnkgYWxvbmcgd2l0aCBpdHMgZGVwZW5kZW5jaWVzLiBJdCBlbnN1cmVzIHRoYXQgdGhlc2VcclxuICogcmVzb3VyY2VzIGFyZSBzdG9yZWQgYW5kIHJldHJpZXZlZCBlZmZpY2llbnRseSB0byBvcHRpbWl6ZSBwZXJmb3JtYW5jZVxyXG4gKiBhbmQgcmVkdWNlIHJlZHVuZGFudCBuZXR3b3JrIHJlcXVlc3RzLiBUaGUgY2FjaGUgaXMgc3RvcmVkIGluIHRoZSBgLmNhY2hlYFxyXG4gKiBkaXJlY3RvcnkgYnkgZGVmYXVsdCwgd2hpY2ggc2VydmVzIGFzIGEgZGVkaWNhdGVkIGZvbGRlciBmb3Iga2VlcGluZyBjYWNoZWRcclxuICogZmlsZXMuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgZXhpc3RzU3luYywgbWtkaXJTeW5jLCByZWFkRmlsZVN5bmMsIHdyaXRlRmlsZVN5bmMgfSBmcm9tICdmcyc7XHJcbmltcG9ydCB7IGpvaW4gfSBmcm9tICdwYXRoJztcclxuXHJcbmltcG9ydCB7IEh0dHBzUHJveHlBZ2VudCB9IGZyb20gJ2h0dHBzLXByb3h5LWFnZW50JztcclxuXHJcbmltcG9ydCB7IGdldE9wdGlvbnMsIHVwZGF0ZU9wdGlvbnMgfSBmcm9tICcuL2NvbmZpZy5qcyc7XHJcbmltcG9ydCB7IGdldCB9IGZyb20gJy4vZmV0Y2guanMnO1xyXG5pbXBvcnQgeyBsb2cgfSBmcm9tICcuL2xvZ2dlci5qcyc7XHJcbmltcG9ydCB7IGdldEFic29sdXRlUGF0aCB9IGZyb20gJy4vdXRpbHMuanMnO1xyXG5cclxuaW1wb3J0IEV4cG9ydEVycm9yIGZyb20gJy4vZXJyb3JzL0V4cG9ydEVycm9yLmpzJztcclxuXHJcbi8vIFRoZSBpbml0aWFsIGNhY2hlIHRlbXBsYXRlXHJcbmNvbnN0IGNhY2hlID0ge1xyXG4gIGNkblVybDogJ2h0dHBzOi8vY29kZS5oaWdoY2hhcnRzLmNvbScsXHJcbiAgYWN0aXZlTWFuaWZlc3Q6IHt9LFxyXG4gIHNvdXJjZXM6ICcnLFxyXG4gIGhjVmVyc2lvbjogJydcclxufTtcclxuXHJcbi8qKlxyXG4gKiBDaGVja3MgdGhlIGNhY2hlIGZvciBIaWdoY2hhcnRzIGRlcGVuZGVuY2llcywgdXBkYXRlcyB0aGUgY2FjaGUgaWYgbmVlZGVkLFxyXG4gKiBhbmQgbG9hZHMgdGhlIHNvdXJjZXMuXHJcbiAqXHJcbiAqIEBhc3luY1xyXG4gKiBAZnVuY3Rpb24gY2hlY2tDYWNoZVxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gaGlnaGNoYXJ0c09wdGlvbnMgLSBUaGUgY29uZmlndXJhdGlvbiBvYmplY3QgY29udGFpbmluZ1xyXG4gKiBgaGlnaGNoYXJ0c2Agb3B0aW9ucy5cclxuICogQHBhcmFtIHtPYmplY3R9IHNlcnZlclByb3h5T3B0aW9ucy0gVGhlIGNvbmZpZ3VyYXRpb24gb2JqZWN0IGNvbnRhaW5pbmdcclxuICogYHNlcnZlci5wcm94eWAgb3B0aW9ucy5cclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjaGVja0NhY2hlKGhpZ2hjaGFydHNPcHRpb25zLCBzZXJ2ZXJQcm94eU9wdGlvbnMpIHtcclxuICB0cnkge1xyXG4gICAgbGV0IGZldGNoZWRNb2R1bGVzO1xyXG5cclxuICAgIC8vIEdldCB0aGUgY2FjaGUgcGF0aFxyXG4gICAgY29uc3QgY2FjaGVQYXRoID0gZ2V0Q2FjaGVQYXRoKCk7XHJcblxyXG4gICAgLy8gUHJlcGFyZSBwYXRocyB0byBtYW5pZmVzdCBhbmQgc291cmNlcyBmcm9tIHRoZSBjYWNoZSBmb2xkZXJcclxuICAgIGNvbnN0IG1hbmlmZXN0UGF0aCA9IGpvaW4oY2FjaGVQYXRoLCAnbWFuaWZlc3QuanNvbicpO1xyXG4gICAgY29uc3Qgc291cmNlUGF0aCA9IGpvaW4oY2FjaGVQYXRoLCAnc291cmNlcy5qcycpO1xyXG5cclxuICAgIC8vIENyZWF0ZSB0aGUgY2FjaGUgZGVzdGluYXRpb24gaWYgaXQgZG9lc24ndCBleGlzdCBhbHJlYWR5XHJcbiAgICAhZXhpc3RzU3luYyhjYWNoZVBhdGgpICYmIG1rZGlyU3luYyhjYWNoZVBhdGgsIHsgcmVjdXJzaXZlOiB0cnVlIH0pO1xyXG5cclxuICAgIC8vIEZldGNoIGFsbCB0aGUgc2NyaXB0cyBlaXRoZXIgaWYgdGhlIGBtYW5pZmVzdC5qc29uYCBkb2VzIG5vdCBleGlzdFxyXG4gICAgLy8gb3IgaWYgdGhlIGBmb3JjZUZldGNoYCBvcHRpb24gaXMgZW5hYmxlZFxyXG4gICAgaWYgKCFleGlzdHNTeW5jKG1hbmlmZXN0UGF0aCkgfHwgaGlnaGNoYXJ0c09wdGlvbnMuZm9yY2VGZXRjaCkge1xyXG4gICAgICBsb2coMywgJ1tjYWNoZV0gRmV0Y2hpbmcgYW5kIGNhY2hpbmcgSGlnaGNoYXJ0cyBkZXBlbmRlbmNpZXMuJyk7XHJcblxyXG4gICAgICAvLyBUaGUgaW5pdGlhbCBjYWNoZSB1cGRhdGVcclxuICAgICAgZmV0Y2hlZE1vZHVsZXMgPSBhd2FpdCBfdXBkYXRlQ2FjaGUoXHJcbiAgICAgICAgaGlnaGNoYXJ0c09wdGlvbnMsXHJcbiAgICAgICAgc2VydmVyUHJveHlPcHRpb25zLFxyXG4gICAgICAgIHNvdXJjZVBhdGhcclxuICAgICAgKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGxldCByZXF1ZXN0VXBkYXRlID0gZmFsc2U7XHJcblxyXG4gICAgICAvLyBSZWFkIHRoZSBtYW5pZmVzdCBKU09OXHJcbiAgICAgIGNvbnN0IG1hbmlmZXN0ID0gSlNPTi5wYXJzZShyZWFkRmlsZVN5bmMobWFuaWZlc3RQYXRoKSwgJ3V0ZjgnKTtcclxuXHJcbiAgICAgIC8vIENoZWNrIGlmIHRoZSBtb2R1bGVzIGlzIGFuIGFycmF5LCBpZiBzbywgd2UgcmV3cml0ZSBpdCB0byBhIG1hcCB0byBtYWtlXHJcbiAgICAgIC8vIGl0IGVhc2llciB0byByZXNvbHZlIG1vZHVsZXNcclxuICAgICAgaWYgKG1hbmlmZXN0Lm1vZHVsZXMgJiYgQXJyYXkuaXNBcnJheShtYW5pZmVzdC5tb2R1bGVzKSkge1xyXG4gICAgICAgIGNvbnN0IG1vZHVsZU1hcCA9IHt9O1xyXG4gICAgICAgIG1hbmlmZXN0Lm1vZHVsZXMuZm9yRWFjaCgobSkgPT4gKG1vZHVsZU1hcFttXSA9IDEpKTtcclxuICAgICAgICBtYW5pZmVzdC5tb2R1bGVzID0gbW9kdWxlTWFwO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBHZXQgdGhlIGFjdHVhbCBudW1iZXIgb2Ygc2NyaXB0cyB0byBiZSBmZXRjaGVkXHJcbiAgICAgIGNvbnN0IHsgY29yZVNjcmlwdHMsIG1vZHVsZVNjcmlwdHMsIGluZGljYXRvclNjcmlwdHMgfSA9XHJcbiAgICAgICAgaGlnaGNoYXJ0c09wdGlvbnM7XHJcbiAgICAgIGNvbnN0IG51bWJlck9mTW9kdWxlcyA9XHJcbiAgICAgICAgY29yZVNjcmlwdHMubGVuZ3RoICsgbW9kdWxlU2NyaXB0cy5sZW5ndGggKyBpbmRpY2F0b3JTY3JpcHRzLmxlbmd0aDtcclxuXHJcbiAgICAgIC8vIENvbXBhcmUgdGhlIGxvYWRlZCBoaWdoY2hhcnRzIGNvbmZpZyB3aXRoIHRoZSBjb250ZW50cyBpbiBjYWNoZS5cclxuICAgICAgLy8gSWYgdGhlcmUgYXJlIGNoYW5nZXMsIGZldGNoIHJlcXVlc3RlZCBtb2R1bGVzIGFuZCBwcm9kdWN0cyxcclxuICAgICAgLy8gYW5kIGJha2UgdGhlbSBpbnRvIGEgZ2lhbnQgYmxvYi4gU2F2ZSB0aGUgYmxvYi5cclxuICAgICAgaWYgKG1hbmlmZXN0LnZlcnNpb24gIT09IGhpZ2hjaGFydHNPcHRpb25zLnZlcnNpb24pIHtcclxuICAgICAgICAvLyBDaGVjayB0aGUgSGlnaGNoYXJ0cyB2ZXJzaW9uXHJcbiAgICAgICAgbG9nKFxyXG4gICAgICAgICAgMixcclxuICAgICAgICAgICdbY2FjaGVdIEEgSGlnaGNoYXJ0cyB2ZXJzaW9uIG1pc21hdGNoIGluIHRoZSBjYWNoZSwgbmVlZCB0byByZS1mZXRjaC4nXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXF1ZXN0VXBkYXRlID0gdHJ1ZTtcclxuICAgICAgfSBlbHNlIGlmIChcclxuICAgICAgICBPYmplY3Qua2V5cyhtYW5pZmVzdC5tb2R1bGVzIHx8IHt9KS5sZW5ndGggIT09IG51bWJlck9mTW9kdWxlc1xyXG4gICAgICApIHtcclxuICAgICAgICAvLyBDaGVjayB0aGUgbnVtYmVyIG9mIG1vZHVsZXNcclxuICAgICAgICBsb2coXHJcbiAgICAgICAgICAyLFxyXG4gICAgICAgICAgJ1tjYWNoZV0gVGhlIGNhY2hlIGFuZCB0aGUgcmVxdWVzdGVkIG1vZHVsZXMgZG8gbm90IG1hdGNoLCBuZWVkIHRvIHJlLWZldGNoLidcclxuICAgICAgICApO1xyXG4gICAgICAgIHJlcXVlc3RVcGRhdGUgPSB0cnVlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIENoZWNrIGVhY2ggbW9kdWxlLCBpZiBhbnl0aGluZyBpcyBtaXNzaW5nIHJlZmV0Y2ggZXZlcnl0aGluZ1xyXG4gICAgICAgIHJlcXVlc3RVcGRhdGUgPSAobW9kdWxlU2NyaXB0cyB8fCBbXSkuc29tZSgobW9kdWxlTmFtZSkgPT4ge1xyXG4gICAgICAgICAgaWYgKCFtYW5pZmVzdC5tb2R1bGVzW21vZHVsZU5hbWVdKSB7XHJcbiAgICAgICAgICAgIGxvZyhcclxuICAgICAgICAgICAgICAyLFxyXG4gICAgICAgICAgICAgIGBbY2FjaGVdIFRoZSAke21vZHVsZU5hbWV9IGlzIG1pc3NpbmcgaW4gdGhlIGNhY2hlLCBuZWVkIHRvIHJlLWZldGNoLmBcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFVwZGF0ZSBjYWNoZSBpZiBuZWVkZWRcclxuICAgICAgaWYgKHJlcXVlc3RVcGRhdGUpIHtcclxuICAgICAgICBmZXRjaGVkTW9kdWxlcyA9IGF3YWl0IF91cGRhdGVDYWNoZShcclxuICAgICAgICAgIGhpZ2hjaGFydHNPcHRpb25zLFxyXG4gICAgICAgICAgc2VydmVyUHJveHlPcHRpb25zLFxyXG4gICAgICAgICAgc291cmNlUGF0aFxyXG4gICAgICAgICk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbG9nKDMsICdbY2FjaGVdIERlcGVuZGVuY3kgY2FjaGUgaXMgdXAgdG8gZGF0ZSwgcHJvY2VlZGluZy4nKTtcclxuXHJcbiAgICAgICAgLy8gTG9hZCB0aGUgc291cmNlc1xyXG4gICAgICAgIGNhY2hlLnNvdXJjZXMgPSByZWFkRmlsZVN5bmMoc291cmNlUGF0aCwgJ3V0ZjgnKTtcclxuXHJcbiAgICAgICAgLy8gR2V0IGN1cnJlbnQgbW9kdWxlcyBtYXBcclxuICAgICAgICBmZXRjaGVkTW9kdWxlcyA9IG1hbmlmZXN0Lm1vZHVsZXM7XHJcblxyXG4gICAgICAgIC8vIEV4dHJhY3QgYW5kIHNhdmUgdmVyc2lvbiBvZiBjdXJyZW50bHkgdXNlZCBIaWdoY2hhcnRzXHJcbiAgICAgICAgY2FjaGUuaGNWZXJzaW9uID0gX2V4dHJhY3RIY1ZlcnNpb24oY2FjaGUuc291cmNlcyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBGaW5hbGx5LCBzYXZlIHRoZSBuZXcgbWFuaWZlc3QsIHdoaWNoIGlzIGJhc2ljYWxseSBvdXIgY3VycmVudCBjb25maWdcclxuICAgIC8vIGluIGEgc2xpZ2h0bHkgZGlmZmVyZW50IGZvcm1hdFxyXG4gICAgYXdhaXQgX3NhdmVDb25maWdUb01hbmlmZXN0KGhpZ2hjaGFydHNPcHRpb25zLnZlcnNpb24sIGZldGNoZWRNb2R1bGVzKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgdGhyb3cgbmV3IEV4cG9ydEVycm9yKFxyXG4gICAgICAnW2NhY2hlXSBDb3VsZCBub3QgY29uZmlndXJlIGNhY2hlIGFuZCBjcmVhdGUgb3IgdXBkYXRlIHRoZSBjb25maWcgbWFuaWZlc3QuJyxcclxuICAgICAgNTAwXHJcbiAgICApLnNldEVycm9yKGVycm9yKTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZXRzIHRoZSB2ZXJzaW9uIG9mIEhpZ2hjaGFydHMgZnJvbSB0aGUgY2FjaGUuXHJcbiAqXHJcbiAqIEBmdW5jdGlvbiBnZXRIY1ZlcnNpb25cclxuICpcclxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGNhY2hlZCBIaWdoY2hhcnRzIHZlcnNpb24uXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0SGNWZXJzaW9uKCkge1xyXG4gIHJldHVybiBjYWNoZS5oY1ZlcnNpb247XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBVcGRhdGVzIHRoZSBIaWdoY2hhcnRzIHZlcnNpb24gaW4gdGhlIGFwcGxpZWQgY29uZmlndXJhdGlvbiBhbmQgY2hlY2tzXHJcbiAqIHRoZSBjYWNoZSBmb3IgdGhlIHNjcmlwdHMgb2YgYSBuZXcgdmVyc2lvbi5cclxuICpcclxuICogQGFzeW5jXHJcbiAqIEBmdW5jdGlvbiB1cGRhdGVIY1ZlcnNpb25cclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd9IG5ld1ZlcnNpb24gLSBUaGUgbmV3IEhpZ2hjaGFydHMgdmVyc2lvbiB0byBiZSBhcHBsaWVkLlxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUhjVmVyc2lvbihuZXdWZXJzaW9uKSB7XHJcbiAgLy8gVXBkYXRlIHRvIHRoZSBuZXcgdmVyc2lvblxyXG4gIGNvbnN0IG9wdGlvbnMgPSB1cGRhdGVPcHRpb25zKHtcclxuICAgIGhpZ2hjaGFydHM6IHtcclxuICAgICAgdmVyc2lvbjogbmV3VmVyc2lvblxyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICAvLyBDaGVjayBpZiBjYWNoZSBuZWVkcyB0byBiZSB1cGRhdGVkXHJcbiAgYXdhaXQgY2hlY2tDYWNoZShvcHRpb25zLmhpZ2hjaGFydHMsIG9wdGlvbnMuc2VydmVyLnByb3h5KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJldHJpZXZlcyB0aGUgY3VycmVudCBjYWNoZSBvYmplY3QuXHJcbiAqXHJcbiAqIEBmdW5jdGlvbiBnZXRDYWNoZVxyXG4gKlxyXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgY2FjaGUgb2JqZWN0IGNvbnRhaW5pbmcgdmFyaW91cyBjYWNoZWQgZGF0YS5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRDYWNoZSgpIHtcclxuICByZXR1cm4gY2FjaGU7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZXRzIHRoZSBjYWNoZSBwYXRoIGZvciBIaWdoY2hhcnRzLlxyXG4gKlxyXG4gKiBAZnVuY3Rpb24gZ2V0Q2FjaGVQYXRoXHJcbiAqXHJcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBhYnNvbHV0ZSBwYXRoIHRvIHRoZSBjYWNoZSBkaXJlY3RvcnkgZm9yIEhpZ2hjaGFydHMuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2FjaGVQYXRoKCkge1xyXG4gIHJldHVybiBnZXRBYnNvbHV0ZVBhdGgoZ2V0T3B0aW9ucygpLmhpZ2hjaGFydHMuY2FjaGVQYXRoLCAndXRmOCcpOyAvLyAjNTYyXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTYXZlcyB0aGUgcHJvdmlkZWQgY29uZmlndXJhdGlvbiBhbmQgZmV0Y2hlZCBtb2R1bGVzIHRvIHRoZSBjYWNoZSBtYW5pZmVzdFxyXG4gKiBmaWxlLlxyXG4gKlxyXG4gKiBAYXN5bmNcclxuICogQGZ1bmN0aW9uIF9zYXZlQ29uZmlnVG9NYW5pZmVzdFxyXG4gKlxyXG4gKiBAcGFyYW0ge251bWJlcn0gdmVyc2lvbiAtIFRoZSBjdXJyZW50bHkgdXNlZCBIaWdoY2hhcnRzIHZlcnNpb24uXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBbZmV0Y2hlZE1vZHVsZXM9e31dIC0gQW4gb2JqZWN0IHdoaWNoIHRyYWNrcyB3aGljaCBtb2R1bGVzXHJcbiAqIGhhdmUgYmVlbiBmZXRjaGVkLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBhbiBlbXB0eSBvYmplY3QuXHJcbiAqXHJcbiAqIEB0aHJvd3Mge0V4cG9ydEVycm9yfSBUaHJvd3MgYW4gYEV4cG9ydEVycm9yYCBpZiBhbiBlcnJvciBvY2N1cnMgd2hpbGVcclxuICogd3JpdGluZyB0aGUgY2FjaGUgbWFuaWZlc3QuXHJcbiAqL1xyXG5hc3luYyBmdW5jdGlvbiBfc2F2ZUNvbmZpZ1RvTWFuaWZlc3QodmVyc2lvbiwgZmV0Y2hlZE1vZHVsZXMgPSB7fSkge1xyXG4gIC8vIFVwZGF0ZSBjYWNoZSBvYmplY3Qgd2l0aCB0aGUgY3VycmVudCBtb2R1bGVzXHJcbiAgY2FjaGUuYWN0aXZlTWFuaWZlc3QgPSB7XHJcbiAgICB2ZXJzaW9uLFxyXG4gICAgbW9kdWxlczogZmV0Y2hlZE1vZHVsZXNcclxuICB9O1xyXG5cclxuICBsb2coMywgJ1tjYWNoZV0gV3JpdGluZyBhIG5ldyBtYW5pZmVzdC4nKTtcclxuICB0cnkge1xyXG4gICAgd3JpdGVGaWxlU3luYyhcclxuICAgICAgam9pbihnZXRDYWNoZVBhdGgoKSwgJ21hbmlmZXN0Lmpzb24nKSxcclxuICAgICAgSlNPTi5zdHJpbmdpZnkoY2FjaGUuYWN0aXZlTWFuaWZlc3QpLFxyXG4gICAgICAndXRmOCdcclxuICAgICk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHRocm93IG5ldyBFeHBvcnRFcnJvcihcclxuICAgICAgJ1tjYWNoZV0gRXJyb3Igd3JpdGluZyB0aGUgY2FjaGUgbWFuaWZlc3QuJyxcclxuICAgICAgNTAwXHJcbiAgICApLnNldEVycm9yKGVycm9yKTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBVcGRhdGVzIHRoZSBsb2NhbCBjYWNoZSB3aXRoIEhpZ2hjaGFydHMgc2NyaXB0cyBjb250ZW50IGFuZCBpbmZvcm1hdGlvbixcclxuICogYW5kIHVzZWQgSGlnaGNoYXJ0cyB2ZXJzaW9uLlxyXG4gKlxyXG4gKiBAYXN5bmNcclxuICogQGZ1bmN0aW9uIF91cGRhdGVDYWNoZVxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gaGlnaGNoYXJ0c09wdGlvbnMgLSBUaGUgY29uZmlndXJhdGlvbiBvYmplY3QgY29udGFpbmluZ1xyXG4gKiBgaGlnaGNoYXJ0c2Agb3B0aW9ucy5cclxuICogQHBhcmFtIHtPYmplY3R9IHNlcnZlclByb3h5T3B0aW9ucyAtIFRoZSBjb25maWd1cmF0aW9uIG9iamVjdCBjb250YWluaW5nXHJcbiAqIGBzZXJ2ZXIucHJveHlgIG9wdGlvbnMuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBzb3VyY2VQYXRoIC0gVGhlIHBhdGggdG8gdGhlIHNvdXJjZSBmaWxlIGluIHRoZSBjYWNoZS5cclxuICpcclxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0Pn0gQSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYW4gb2JqZWN0IHJlcHJlc2VudGluZ1xyXG4gKiB0aGUgZmV0Y2hlZCBtb2R1bGVzLlxyXG4gKlxyXG4gKiBAdGhyb3dzIHtFeHBvcnRFcnJvcn0gVGhyb3dzIGFuIGBFeHBvcnRFcnJvcmAgaWYgdGhlcmUgaXMgYW4gaXNzdWUgdXBkYXRpbmdcclxuICogdGhlIGxvY2FsIEhpZ2hjaGFydHMgY2FjaGUuXHJcbiAqL1xyXG5hc3luYyBmdW5jdGlvbiBfdXBkYXRlQ2FjaGUoaGlnaGNoYXJ0c09wdGlvbnMsIHNlcnZlclByb3h5T3B0aW9ucywgc291cmNlUGF0aCkge1xyXG4gIHRyeSB7XHJcbiAgICAvLyBHZXQgSGlnaGNoYXJ0cyB2ZXJzaW9uIGZvciBzY3JpcHRzXHJcbiAgICBjb25zdCBoY1ZlcnNpb24gPVxyXG4gICAgICBoaWdoY2hhcnRzT3B0aW9ucy52ZXJzaW9uID09PSAnbGF0ZXN0J1xyXG4gICAgICAgID8gbnVsbFxyXG4gICAgICAgIDogYCR7aGlnaGNoYXJ0c09wdGlvbnMudmVyc2lvbn1gO1xyXG5cclxuICAgIGxvZyhcclxuICAgICAgMyxcclxuICAgICAgYFtjYWNoZV0gVXBkYXRpbmcgY2FjaGUgdmVyc2lvbiB0byBIaWdoY2hhcnRzOiAke2hjVmVyc2lvbiB8fCAnbGF0ZXN0J30uYFxyXG4gICAgKTtcclxuXHJcbiAgICAvLyBHZXQgdGhlIENETiB1cmwgZm9yIHNjcmlwdHNcclxuICAgIGNvbnN0IGNkblVybCA9IGhpZ2hjaGFydHNPcHRpb25zLmNkblVybCB8fCBjYWNoZS5jZG5Vcmw7XHJcblxyXG4gICAgLy8gUHJlcGFyZSBvcHRpb25zIGZvciBhIHJlcXVlc3RcclxuICAgIGNvbnN0IHJlcXVlc3RPcHRpb25zID0gX2NvbmZpZ3VyZVJlcXVlc3Qoc2VydmVyUHJveHlPcHRpb25zKTtcclxuXHJcbiAgICAvLyBBbiBvYmplY3QgdG8gcmVjb3JkIHdoaWNoIHNjcmlwdHMgYXJlIGZldGNoZWRcclxuICAgIGNvbnN0IGZldGNoZWRNb2R1bGVzID0ge307XHJcblxyXG4gICAgLy8gSm9pbiBhbGwgZmV0Y2hlZCBzY3JpcHRzIGFuZCBzYXZlIGluIHRoZSBtYW5pZmVzdCdzIHNvdXJjZXNcclxuICAgIGNhY2hlLnNvdXJjZXMgPSAoXHJcbiAgICAgIGF3YWl0IFByb21pc2UuYWxsKFtcclxuICAgICAgICAvLyBIaWdoY2hhcnRzIGNvcmUgc2NyaXB0cyBmZXRjaFxyXG4gICAgICAgIC4uLmhpZ2hjaGFydHNPcHRpb25zLmNvcmVTY3JpcHRzLm1hcCgoY3MpID0+XHJcbiAgICAgICAgICBfZmV0Y2hTY3JpcHQoXHJcbiAgICAgICAgICAgIGhjVmVyc2lvbiA/IGAke2NkblVybH0vJHtoY1ZlcnNpb259LyR7Y3N9YCA6IGAke2NkblVybH0vJHtjc31gLFxyXG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyxcclxuICAgICAgICAgICAgZmV0Y2hlZE1vZHVsZXMsXHJcbiAgICAgICAgICAgIHRydWVcclxuICAgICAgICAgIClcclxuICAgICAgICApLFxyXG4gICAgICAgIC8vIEhpZ2hjaGFydHMgbW9kdWxlIHNjcmlwdHMgZmV0Y2hcclxuICAgICAgICAuLi5oaWdoY2hhcnRzT3B0aW9ucy5tb2R1bGVTY3JpcHRzLm1hcCgobXMpID0+XHJcbiAgICAgICAgICBfZmV0Y2hTY3JpcHQoXHJcbiAgICAgICAgICAgIG1zID09PSAnbWFwJ1xyXG4gICAgICAgICAgICAgID8gaGNWZXJzaW9uXHJcbiAgICAgICAgICAgICAgICA/IGAke2NkblVybH0vbWFwcy8ke2hjVmVyc2lvbn0vbW9kdWxlcy8ke21zfWBcclxuICAgICAgICAgICAgICAgIDogYCR7Y2RuVXJsfS9tYXBzL21vZHVsZXMvJHttc31gXHJcbiAgICAgICAgICAgICAgOiBoY1ZlcnNpb25cclxuICAgICAgICAgICAgICAgID8gYCR7Y2RuVXJsfS8ke2hjVmVyc2lvbn0vbW9kdWxlcy8ke21zfWBcclxuICAgICAgICAgICAgICAgIDogYCR7Y2RuVXJsfS9tb2R1bGVzLyR7bXN9YCxcclxuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMsXHJcbiAgICAgICAgICAgIGZldGNoZWRNb2R1bGVzXHJcbiAgICAgICAgICApXHJcbiAgICAgICAgKSxcclxuICAgICAgICAvLyBIaWdoY2hhcnRzIGluZGljYXRvciBzY3JpcHRzIGZldGNoXHJcbiAgICAgICAgLi4uaGlnaGNoYXJ0c09wdGlvbnMuaW5kaWNhdG9yU2NyaXB0cy5tYXAoKGlzKSA9PlxyXG4gICAgICAgICAgX2ZldGNoU2NyaXB0KFxyXG4gICAgICAgICAgICBoY1ZlcnNpb25cclxuICAgICAgICAgICAgICA/IGAke2NkblVybH0vc3RvY2svJHtoY1ZlcnNpb259L2luZGljYXRvcnMvJHtpc31gXHJcbiAgICAgICAgICAgICAgOiBgJHtjZG5Vcmx9L3N0b2NrL2luZGljYXRvcnMvJHtpc31gLFxyXG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyxcclxuICAgICAgICAgICAgZmV0Y2hlZE1vZHVsZXNcclxuICAgICAgICAgIClcclxuICAgICAgICApLFxyXG4gICAgICAgIC8vIEN1c3RvbSBzY3JpcHRzIGZldGNoXHJcbiAgICAgICAgLi4uaGlnaGNoYXJ0c09wdGlvbnMuY3VzdG9tU2NyaXB0cy5tYXAoKGNzKSA9PlxyXG4gICAgICAgICAgX2ZldGNoU2NyaXB0KGAke2NzfWAsIHJlcXVlc3RPcHRpb25zKVxyXG4gICAgICAgIClcclxuICAgICAgXSlcclxuICAgICkuam9pbignO1xcbicpO1xyXG5cclxuICAgIC8vIEV4dHJhY3QgYW5kIHNhdmUgdmVyc2lvbiBvZiBjdXJyZW50bHkgdXNlZCBIaWdoY2hhcnRzXHJcbiAgICBjYWNoZS5oY1ZlcnNpb24gPSBfZXh0cmFjdEhjVmVyc2lvbihjYWNoZS5zb3VyY2VzKTtcclxuXHJcbiAgICAvLyBTYXZlIHRoZSBmZXRjaGVkIG1vZHVsZXMgaW50byBjYWNoZXMnIHNvdXJjZSBKU09OXHJcbiAgICB3cml0ZUZpbGVTeW5jKHNvdXJjZVBhdGgsIGNhY2hlLnNvdXJjZXMpO1xyXG5cclxuICAgIC8vIFJldHVybiB0aGUgZmV0Y2hlZCBtb2R1bGVzXHJcbiAgICByZXR1cm4gZmV0Y2hlZE1vZHVsZXM7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHRocm93IG5ldyBFeHBvcnRFcnJvcihcclxuICAgICAgJ1tjYWNoZV0gVW5hYmxlIHRvIHVwZGF0ZSB0aGUgbG9jYWwgSGlnaGNoYXJ0cyBjYWNoZS4nLFxyXG4gICAgICA1MDBcclxuICAgICkuc2V0RXJyb3IoZXJyb3IpO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEZldGNoZXMgYSBzaW5nbGUgc2NyaXB0IGFuZCB1cGRhdGVzIHRoZSBgZmV0Y2hlZE1vZHVsZXNgIGFjY29yZGluZ2x5LlxyXG4gKlxyXG4gKiBAYXN5bmNcclxuICogQGZ1bmN0aW9uIF9mZXRjaFNjcmlwdFxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gc2NyaXB0IC0gQSBwYXRoIHRvIHNjcmlwdCB0byBnZXQuXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSByZXF1ZXN0T3B0aW9ucyAtIEFkZGl0aW9uYWwgcmVxdWVzdHMgb3B0aW9ucy5cclxuICogQHBhcmFtIHtPYmplY3R9IGZldGNoZWRNb2R1bGVzIC0gQW4gb2JqZWN0IHdoaWNoIHRyYWNrcyB3aGljaCBIaWdoY2hhcnRzXHJcbiAqIG1vZHVsZXMgaGF2ZSBiZWVuIGZldGNoZWQuXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Nob3VsZFRocm93RXJyb3I9ZmFsc2VdIC0gQSBmbGFnIHRvIGluZGljYXRlIGlmIHRoZSBlcnJvclxyXG4gKiBzaG91bGQgYmUgdGhyb3duLiBUaGlzIHNob3VsZCBiZSB1c2VkIG9ubHkgZm9yIHRoZSBjb3JlIHNjcmlwdHMuIFRoZSBkZWZhdWx0XHJcbiAqIHZhbHVlIGlzIGBmYWxzZWAuXHJcbiAqXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59IEEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIHRoZSB0ZXh0IHJlcHJlc2VudGF0aW9uXHJcbiAqIG9mIHRoZSBmZXRjaGVkIHNjcmlwdC5cclxuICpcclxuICogQHRocm93cyB7RXhwb3J0RXJyb3J9IFRocm93cyBhbiBgRXhwb3J0RXJyb3JgIGlmIHRoZXJlIGlzIGEgcHJvYmxlbVxyXG4gKiB3aXRoIGZldGNoaW5nIHRoZSBzY3JpcHQuXHJcbiAqL1xyXG5hc3luYyBmdW5jdGlvbiBfZmV0Y2hTY3JpcHQoXHJcbiAgc2NyaXB0LFxyXG4gIHJlcXVlc3RPcHRpb25zLFxyXG4gIGZldGNoZWRNb2R1bGVzLFxyXG4gIHNob3VsZFRocm93RXJyb3IgPSBmYWxzZVxyXG4pIHtcclxuICAvLyBHZXQgcmlkIG9mIHRoZSAuanMgZnJvbSB0aGUgY3VzdG9tIHN0cmluZ3NcclxuICBpZiAoc2NyaXB0LmVuZHNXaXRoKCcuanMnKSkge1xyXG4gICAgc2NyaXB0ID0gc2NyaXB0LnN1YnN0cmluZygwLCBzY3JpcHQubGVuZ3RoIC0gMyk7XHJcbiAgfVxyXG4gIGxvZyg0LCBgW2NhY2hlXSBGZXRjaGluZyBzY3JpcHQgLSAke3NjcmlwdH0uanNgKTtcclxuXHJcbiAgLy8gRmV0Y2ggdGhlIHNjcmlwdFxyXG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZ2V0KGAke3NjcmlwdH0uanNgLCByZXF1ZXN0T3B0aW9ucyk7XHJcblxyXG4gIC8vIElmIE9LLCByZXR1cm4gaXRzIHRleHQgcmVwcmVzZW50YXRpb25cclxuICBpZiAocmVzcG9uc2Uuc3RhdHVzQ29kZSA9PT0gMjAwICYmIHR5cGVvZiByZXNwb25zZS50ZXh0ID09ICdzdHJpbmcnKSB7XHJcbiAgICBpZiAoZmV0Y2hlZE1vZHVsZXMpIHtcclxuICAgICAgY29uc3QgbW9kdWxlTmFtZSA9IF9leHRyYWN0TW9kdWxlTmFtZShzY3JpcHQpO1xyXG4gICAgICBmZXRjaGVkTW9kdWxlc1ttb2R1bGVOYW1lXSA9IDE7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzcG9uc2UudGV4dDtcclxuICB9XHJcblxyXG4gIC8vIEJhc2VkIG9uIHRoZSBgc2hvdWxkVGhyb3dFcnJvcmAgZmxhZywgZGVjaWRlIGhvdyB0byBzZXJ2ZSBlcnJvciBtZXNzYWdlXHJcbiAgaWYgKHNob3VsZFRocm93RXJyb3IpIHtcclxuICAgIHRocm93IG5ldyBFeHBvcnRFcnJvcihcclxuICAgICAgYFtjYWNoZV0gQ291bGQgbm90IGZldGNoIHRoZSAke3NjcmlwdH0uanMuIFRoZSBzY3JpcHQgbWlnaHQgbm90IGV4aXN0IGluIHRoZSByZXF1ZXN0ZWQgdmVyc2lvbiAoc3RhdHVzIGNvZGU6ICR7cmVzcG9uc2Uuc3RhdHVzQ29kZX0pLmAsXHJcbiAgICAgIDQwNFxyXG4gICAgKS5zZXRFcnJvcihyZXNwb25zZSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGxvZyhcclxuICAgICAgMixcclxuICAgICAgYFtjYWNoZV0gQ291bGQgbm90IGZldGNoIHRoZSAke3NjcmlwdH0uanMuIFRoZSBzY3JpcHQgbWlnaHQgbm90IGV4aXN0IGluIHRoZSByZXF1ZXN0ZWQgdmVyc2lvbi5gXHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIENvbmZpZ3VyZXMgYSBwcm94eSBhZ2VudCBmb3Igb3V0Z29pbmcgSFRUUCByZXF1ZXN0cyBiYXNlZCBvbiB0aGUgcHJvdmlkZWRcclxuICogYHNlcnZlci5wcm94eWAgb3B0aW9ucy4gSWYgYSB2YWxpZCBgaG9zdGAgYW5kIGBwb3J0YCBhcmUgc3BlY2lmaWVkLCBpdCB0cmllc1xyXG4gKiB0byBjcmVhdGUgYW4gYEh0dHBzUHJveHlBZ2VudGAuIElmIHRoZSBjcmVhdGlvbiBmYWlscywgYW4gYEV4cG9ydEVycm9yYFxyXG4gKiBpcyB0aHJvd24uIElmIG5vIHByb3h5IGlzIGNvbmZpZ3VyZWQsIGFuIGVtcHR5IG9iamVjdCBpcyByZXR1cm5lZC5cclxuICpcclxuICogQGZ1bmN0aW9uIF9jb25maWd1cmVSZXF1ZXN0XHJcbiAqXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBzZXJ2ZXJQcm94eU9wdGlvbnMtIFRoZSBjb25maWd1cmF0aW9uIG9iamVjdCBjb250YWluaW5nXHJcbiAqIGBzZXJ2ZXIucHJveHlgIG9wdGlvbnMuXHJcbiAqXHJcbiAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSByZXF1ZXN0IG9wdGlvbnMsIGluY2x1ZGluZyB0aGUgcHJveHkgYWdlbnQgaWYgY3JlYXRlZCxcclxuICogb3IgYW4gZW1wdHkgb2JqZWN0IGlmIG5vIHByb3h5IGNvbmZpZ3VyYXRpb24gaXMgcHJvdmlkZWQuXHJcbiAqXHJcbiAqIEB0aHJvd3Mge0V4cG9ydEVycm9yfSBUaHJvd3MgYW4gYEV4cG9ydEVycm9yYCBpZiB0aGUgcHJveHkgYWdlbnQgY3JlYXRpb25cclxuICogZmFpbHMuXHJcbiAqL1xyXG5mdW5jdGlvbiBfY29uZmlndXJlUmVxdWVzdChzZXJ2ZXJQcm94eU9wdGlvbnMpIHtcclxuICAvLyBHZXQgdGhlIGBob3N0YCBhbmQgYHBvcnRgIG9mIHRoZSBwcm94eVxyXG4gIGNvbnN0IHByb3h5SG9zdCA9IHNlcnZlclByb3h5T3B0aW9ucy5ob3N0O1xyXG4gIGNvbnN0IHByb3h5UG9ydCA9IHNlcnZlclByb3h5T3B0aW9ucy5wb3J0O1xyXG5cclxuICAvLyBUcnkgdG8gY3JlYXRlIGEgcHJveHkgYWdlbnRcclxuICBpZiAocHJveHlIb3N0ICYmIHByb3h5UG9ydCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gQ3JlYXRlIHRoZSBhZ2VudFxyXG4gICAgICBjb25zdCBwcm94eUFnZW50ID0gbmV3IEh0dHBzUHJveHlBZ2VudCh7XHJcbiAgICAgICAgaG9zdDogcHJveHlIb3N0LFxyXG4gICAgICAgIHBvcnQ6IHByb3h5UG9ydFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIEFkZCB0aGUgYWdlbnQgdG8gdGhlIHJlcXVlc3QncyBvcHRpb25zXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgYWdlbnQ6IHByb3h5QWdlbnQsXHJcbiAgICAgICAgdGltZW91dDogc2VydmVyUHJveHlPcHRpb25zLnRpbWVvdXRcclxuICAgICAgfTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIHRocm93IG5ldyBFeHBvcnRFcnJvcihcclxuICAgICAgICAnW2NhY2hlXSBDb3VsZCBub3QgY3JlYXRlIGEgUHJveHkgQWdlbnQuJyxcclxuICAgICAgICA1MDBcclxuICAgICAgKS5zZXRFcnJvcihlcnJvcik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBSZXR1cm4gYW4gZW1wdHkgb2JqZWN0IHdoZW4gbm8gcHJveHkgYWdlbnQgaXMgY3JlYXRlZFxyXG4gIHJldHVybiB7fTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEV4dHJhY3RzIEhpZ2hjaGFydHMgdmVyc2lvbiBmcm9tIHRoZSBjYWNoZSdzIHNvdXJjZXMgc3RyaW5nLlxyXG4gKlxyXG4gKiBAZnVuY3Rpb24gX2V4dHJhY3RIY1ZlcnNpb25cclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IGNhY2hlU291cmNlcyAtIFRoZSBjYWNoZSBzb3VyY2VzIG9iamVjdC5cclxuICpcclxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGV4dHJhY3RlZCBIaWdoY2hhcnRzIHZlcnNpb24uXHJcbiAqL1xyXG5mdW5jdGlvbiBfZXh0cmFjdEhjVmVyc2lvbihjYWNoZVNvdXJjZXMpIHtcclxuICByZXR1cm4gY2FjaGVTb3VyY2VzXHJcbiAgICAuc3Vic3RyaW5nKDAsIGNhY2hlU291cmNlcy5pbmRleE9mKCcqLycpKVxyXG4gICAgLnJlcGxhY2UoJy8qJywgJycpXHJcbiAgICAucmVwbGFjZSgnKi8nLCAnJylcclxuICAgIC5yZXBsYWNlKC9cXG4vZywgJycpXHJcbiAgICAudHJpbSgpO1xyXG59XHJcblxyXG4vKipcclxuICogRXh0cmFjdHMgdGhlIEhpZ2hjaGFydHMgbW9kdWxlIG5hbWUgYmFzZWQgb24gdGhlIGBzY3JpcHRQYXRoYCBwcm9wZXJ0eS5cclxuICpcclxuICogQGZ1bmN0aW9uIF9leHRyYWN0TW9kdWxlTmFtZVxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gc2NyaXB0UGF0aCAtIFRoZSBwYXRoIG9mIHRoZSBzY3JpcHQgZnJvbSB3aGljaCB0aGUgbW9kdWxlXHJcbiAqIG5hbWUgd2lsbCBiZSBleHRyYWN0ZWQuXHJcbiAqXHJcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBleHRyYWN0ZWQgbW9kdWxlIG5hbWUuXHJcbiAqL1xyXG5mdW5jdGlvbiBfZXh0cmFjdE1vZHVsZU5hbWUoc2NyaXB0UGF0aCkge1xyXG4gIHJldHVybiBzY3JpcHRQYXRoLnJlcGxhY2UoXHJcbiAgICAvKC4qKVxcL3woLiopbW9kdWxlc1xcL3xzdG9ja1xcLyguKilpbmRpY2F0b3JzXFwvfG1hcHNcXC8oLiopbW9kdWxlc1xcLy9naSxcclxuICAgICcnXHJcbiAgKTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gIGNoZWNrQ2FjaGUsXHJcbiAgZ2V0SGNWZXJzaW9uLFxyXG4gIHVwZGF0ZUhjVmVyc2lvbixcclxuICBnZXRDYWNoZSxcclxuICBnZXRDYWNoZVBhdGhcclxufTtcclxuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHJcbkhpZ2hjaGFydHMgRXhwb3J0IFNlcnZlclxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE2LTIwMjUsIEhpZ2hzb2Z0XHJcblxyXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXHJcblxyXG5BZGRpdGlvbmFsbHkgYSB2YWxpZCBIaWdoY2hhcnRzIGxpY2Vuc2UgaXMgcmVxdWlyZWQgZm9yIHVzZS5cclxuXHJcblNlZSBMSUNFTlNFIGZpbGUgaW4gcm9vdCBmb3IgZGV0YWlscy5cclxuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4vKipcclxuICogQG92ZXJ2aWV3IFByb3ZpZGVzIG1ldGhvZHMgZm9yIGluaXRpYWxpemluZyBIaWdoY2hhcnRzIHdpdGggY3VzdG9taXplZFxyXG4gKiBhbmltYXRpb24gc2V0dGluZ3MgYW5kIHRyaWdnZXJpbmcgdGhlIGNyZWF0aW9uIG9mIEhpZ2hjaGFydHMgY2hhcnRzIHdpdGhcclxuICogZXhwb3J0LXNwZWNpZmljIGNvbmZpZ3VyYXRpb25zIGluIHRoZSBwYWdlIGNvbnRleHQuIFN1cHBvcnRzIGR5bmFtaWMgb3B0aW9uXHJcbiAqIG1lcmdpbmcsIGN1c3RvbSBsb2dpYyBpbmplY3Rpb24sIGFuZCBjb250cm9sIG92ZXIgcmVuZGVyaW5nIGJlaGF2aW9ycy4gVXNlZFxyXG4gKiBieSB0aGUgUHVwcGV0ZWVyIHBhZ2UuXHJcbiAqL1xyXG5cclxuLyogZXNsaW50LWRpc2FibGUgbm8tdW5kZWYgKi9cclxuXHJcbi8qKlxyXG4gKiBTZXR0aW5nIHRoZSBgSGlnaGNoYXJ0cy5hbmltT2JqZWN0YCBmdW5jdGlvbi4gQ2FsbGVkIHdoZW4gaW5pdGluZyB0aGUgcGFnZS5cclxuICpcclxuICogQGZ1bmN0aW9uIHNldHVwSGlnaGNoYXJ0c1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNldHVwSGlnaGNoYXJ0cygpIHtcclxuICBIaWdoY2hhcnRzLmFuaW1PYmplY3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4geyBkdXJhdGlvbjogMCB9O1xyXG4gIH07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDcmVhdGVzIHRoZSBhY3R1YWwgSGlnaGNoYXJ0cyBjaGFydCBvbiBhIHBhZ2UuXHJcbiAqXHJcbiAqIEBhc3luY1xyXG4gKiBAZnVuY3Rpb24gY3JlYXRlQ2hhcnRcclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IGV4cG9ydE9wdGlvbnMgLSBUaGUgY29uZmlndXJhdGlvbiBvYmplY3QgY29udGFpbmluZyBgZXhwb3J0YFxyXG4gKiBvcHRpb25zLlxyXG4gKiBAcGFyYW0ge09iamVjdH0gY3VzdG9tTG9naWNPcHRpb25zIC0gVGhlIGNvbmZpZ3VyYXRpb24gb2JqZWN0IGNvbnRhaW5pbmdcclxuICogYGN1c3RvbUxvZ2ljYCBvcHRpb25zLlxyXG4gKlxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUNoYXJ0KGV4cG9ydE9wdGlvbnMsIGN1c3RvbUxvZ2ljT3B0aW9ucykge1xyXG4gIC8vIEdldCByZXF1aXJlZCBmdW5jdGlvbnNcclxuICBjb25zdCB7IGdldE9wdGlvbnMsIHNldE9wdGlvbnMsIG1lcmdlLCB3cmFwIH0gPSBIaWdoY2hhcnRzO1xyXG5cclxuICAvLyBDcmVhdGUgYSBzZXBhcmF0ZSBvYmplY3QgZm9yIGEgcG90ZW50aWFsIGBzZXRPcHRpb25zYCB1c2FnZXMgaW4gb3JkZXJcclxuICAvLyB0byBwcmV2ZW50IGZyb20gcG9sbHV0aW5nIG90aGVyIGV4cG9ydHMgdGhhdCBjYW4gaGFwcGVuIG9uIHRoZSBzYW1lIHBhZ2VcclxuICBIaWdoY2hhcnRzLnNldE9wdGlvbnNPYmogPSBtZXJnZShmYWxzZSwge30sIGdldE9wdGlvbnMoKSk7XHJcblxyXG4gIC8vIE5PVEU6IElzIHRoaXMgdXNlZCBmb3IgYW55dGhpbmcgdXNlZnVsP1xyXG4gIHdpbmRvdy5pc1JlbmRlckNvbXBsZXRlID0gZmFsc2U7XHJcbiAgd3JhcChIaWdoY2hhcnRzLkNoYXJ0LnByb3RvdHlwZSwgJ2luaXQnLCBmdW5jdGlvbiAocHJvY2VlZCwgdXNlck9wdGlvbnMsIGNiKSB7XHJcbiAgICAvLyBPdmVycmlkZSB0aGUgYHVzZXJPcHRpb25zYCB3aXRoIGltYWdlIGZyaWVuZGx5IG9wdGlvbnNcclxuICAgIHVzZXJPcHRpb25zID0gbWVyZ2UodXNlck9wdGlvbnMsIHtcclxuICAgICAgZXhwb3J0aW5nOiB7XHJcbiAgICAgICAgZW5hYmxlZDogZmFsc2VcclxuICAgICAgfSxcclxuICAgICAgcGxvdE9wdGlvbnM6IHtcclxuICAgICAgICBzZXJpZXM6IHtcclxuICAgICAgICAgIGxhYmVsOiB7XHJcbiAgICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICAvKiBFeHBlY3RzIHRvb2x0aXAgaW4gdGhlIGB1c2VyT3B0aW9uc2Agd2hlbiBgZm9yRXhwb3J0YCBpcyB0cnVlLlxyXG4gICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9oaWdoY2hhcnRzL2hpZ2hjaGFydHMvYmxvYi8zYWQ0MzBhMzUzYjgwNTZiOWU3NjRhYTRlNWNkNjgyOGFhNDc5ZGIyL2pzL3BhcnRzL0NoYXJ0LmpzI0wyNDFcclxuICAgICAgICAqL1xyXG4gICAgICB0b29sdGlwOiB7fVxyXG4gICAgfSk7XHJcblxyXG4gICAgKHVzZXJPcHRpb25zLnNlcmllcyB8fCBbXSkuZm9yRWFjaChmdW5jdGlvbiAoc2VyaWVzKSB7XHJcbiAgICAgIHNlcmllcy5hbmltYXRpb24gPSBmYWxzZTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIEFkZCBmbGFnIHRvIGtub3cgaWYgY2hhcnQgcmVuZGVyIGhhcyBiZWVuIGNhbGxlZC5cclxuICAgIGlmICghd2luZG93Lm9uSGlnaGNoYXJ0c1JlbmRlcikge1xyXG4gICAgICB3aW5kb3cub25IaWdoY2hhcnRzUmVuZGVyID0gSGlnaGNoYXJ0cy5hZGRFdmVudCh0aGlzLCAncmVuZGVyJywgKCkgPT4ge1xyXG4gICAgICAgIHdpbmRvdy5pc1JlbmRlckNvbXBsZXRlID0gdHJ1ZTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvY2VlZC5hcHBseSh0aGlzLCBbdXNlck9wdGlvbnMsIGNiXSk7XHJcbiAgfSk7XHJcblxyXG4gIHdyYXAoSGlnaGNoYXJ0cy5TZXJpZXMucHJvdG90eXBlLCAnaW5pdCcsIGZ1bmN0aW9uIChwcm9jZWVkLCBjaGFydCwgb3B0aW9ucykge1xyXG4gICAgcHJvY2VlZC5hcHBseSh0aGlzLCBbY2hhcnQsIG9wdGlvbnNdKTtcclxuICB9KTtcclxuXHJcbiAgLy8gU29tZSBtYW5kYXRvcnkgYWRkaXRpb25hbCBgY2hhcnRgIGFuZCBgZXhwb3J0aW5nYCBvcHRpb25zXHJcbiAgY29uc3QgYWRkaXRpb25hbE9wdGlvbnMgPSB7XHJcbiAgICBjaGFydDoge1xyXG4gICAgICAvLyBCeSBkZWZhdWx0IGFuaW1hdGlvbiBpcyBkaXNhYmxlZFxyXG4gICAgICBhbmltYXRpb246IGZhbHNlLFxyXG4gICAgICAvLyBHZXQgdGhlIHJpZ2h0IHNpemUgdmFsdWVzXHJcbiAgICAgIGhlaWdodDogZXhwb3J0T3B0aW9ucy5oZWlnaHQsXHJcbiAgICAgIHdpZHRoOiBleHBvcnRPcHRpb25zLndpZHRoXHJcbiAgICB9LFxyXG4gICAgZXhwb3J0aW5nOiB7XHJcbiAgICAgIC8vIE5vIG5lZWQgZm9yIHRoZSBleHBvcnRpbmcgYnV0dG9uXHJcbiAgICAgIGVuYWJsZWQ6IGZhbHNlXHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8gR2V0IHRoZSBpbnB1dCB0byBleHBvcnQgZnJvbSB0aGUgYGluc3RyYCBvcHRpb25cclxuICBjb25zdCB1c2VyT3B0aW9ucyA9IG5ldyBGdW5jdGlvbihgcmV0dXJuICR7ZXhwb3J0T3B0aW9ucy5pbnN0cn1gKSgpO1xyXG5cclxuICAvLyBHZXQgdGhlIGB0aGVtZU9wdGlvbnNgIG9wdGlvblxyXG4gIGNvbnN0IHRoZW1lT3B0aW9ucyA9IG5ldyBGdW5jdGlvbihgcmV0dXJuICR7ZXhwb3J0T3B0aW9ucy50aGVtZU9wdGlvbnN9YCkoKTtcclxuXHJcbiAgLy8gTWVyZ2UgdGhlIGZvbGxvd2luZyBvcHRpb25zIG9iamVjdHMgdG8gY3JlYXRlIGZpbmFsIG9wdGlvbnNcclxuICBjb25zdCBmaW5hbE9wdGlvbnMgPSBtZXJnZShcclxuICAgIGZhbHNlLFxyXG4gICAgdGhlbWVPcHRpb25zLFxyXG4gICAgdXNlck9wdGlvbnMsXHJcbiAgICAvLyBQbGFjZWQgaXQgaGVyZSBpbnN0ZWFkIGluIHRoZSBpbml0IGJlY2F1c2Ugb2YgdGhlIHNpemUgaXNzdWVzXHJcbiAgICBhZGRpdGlvbmFsT3B0aW9uc1xyXG4gICk7XHJcblxyXG4gIC8vIFByZXBhcmUgdGhlIGBjYWxsYmFja2Agb3B0aW9uXHJcbiAgY29uc3QgZmluYWxDYWxsYmFjayA9IGN1c3RvbUxvZ2ljT3B0aW9ucy5jYWxsYmFja1xyXG4gICAgPyBuZXcgRnVuY3Rpb24oYHJldHVybiAke2N1c3RvbUxvZ2ljT3B0aW9ucy5jYWxsYmFja31gKSgpXHJcbiAgICA6IG51bGw7XHJcblxyXG4gIC8vIFRyaWdnZXIgdGhlIGBjdXN0b21Db2RlYCBvcHRpb25cclxuICBpZiAoY3VzdG9tTG9naWNPcHRpb25zLmN1c3RvbUNvZGUpIHtcclxuICAgIG5ldyBGdW5jdGlvbignb3B0aW9ucycsIGN1c3RvbUxvZ2ljT3B0aW9ucy5jdXN0b21Db2RlKSh1c2VyT3B0aW9ucyk7XHJcbiAgfVxyXG5cclxuICAvLyBHZXQgdGhlIGBnbG9iYWxPcHRpb25zYCBvcHRpb25cclxuICBjb25zdCBnbG9iYWxPcHRpb25zID0gbmV3IEZ1bmN0aW9uKGByZXR1cm4gJHtleHBvcnRPcHRpb25zLmdsb2JhbE9wdGlvbnN9YCkoKTtcclxuXHJcbiAgLy8gU2V0IHRoZSBnbG9iYWwgb3B0aW9ucyBpZiBleGlzdFxyXG4gIGlmIChnbG9iYWxPcHRpb25zKSB7XHJcbiAgICBzZXRPcHRpb25zKGdsb2JhbE9wdGlvbnMpO1xyXG4gIH1cclxuXHJcbiAgLy8gQ2FsbCB0aGUgY2hhcnQgY3JlYXRpb25cclxuICBIaWdoY2hhcnRzW2V4cG9ydE9wdGlvbnMuY29uc3RyXSgnY29udGFpbmVyJywgZmluYWxPcHRpb25zLCBmaW5hbENhbGxiYWNrKTtcclxuXHJcbiAgLy8gR2V0IGFsbCBpbWFnZXMgZnJvbSB3aXRoaW4gdGhlIGNoYXJ0XHJcbiAgY29uc3QgaW1hZ2VzID0gQXJyYXkuZnJvbShcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5oaWdoY2hhcnRzLWNvbnRhaW5lciBpbWFnZScpXHJcbiAgKTtcclxuXHJcbiAgLy8gV2FpdCBmb3IgYWxsIGltYWdlcyBmb3IgMiBzZWNvbmRzXHJcbiAgYXdhaXQgUHJvbWlzZS5yYWNlKFtcclxuICAgIFByb21pc2UuYWxsKFxyXG4gICAgICBpbWFnZXMubWFwKChpbWFnZSkgPT5cclxuICAgICAgICBpbWFnZS5jb21wbGV0ZSAmJiBpbWFnZS5uYXR1cmFsSGVpZ2h0ICE9PSAwXHJcbiAgICAgICAgICA/IFByb21pc2UucmVzb2x2ZSgpXHJcbiAgICAgICAgICA6IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PlxyXG4gICAgICAgICAgICAgIGltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCByZXNvbHZlLCB7IG9uY2U6IHRydWUgfSlcclxuICAgICAgICAgICAgKVxyXG4gICAgICApXHJcbiAgICApLFxyXG4gICAgLy8gUHJvY2VlZCBmdXJ0aGVyIGV2ZW4gaWYgaW1hZ2VzIGRpZCBub3QgbG9hZFxyXG4gICAgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMjAwMCkpXHJcbiAgXSk7XHJcblxyXG4gIC8vIEdldCB0aGUgY3VycmVudCBnbG9iYWwgb3B0aW9uc1xyXG4gIGNvbnN0IGRlZmF1bHRPcHRpb25zID0gZ2V0T3B0aW9ucygpO1xyXG5cclxuICAvLyBDbGVhciBpdCBqdXN0IGluIGNhc2UgKGUuZy4gdGhlIGBzZXRPcHRpb25zYCB3YXMgdXNlZCBpbiB0aGUgYGN1c3RvbUNvZGVgKVxyXG4gIGZvciAoY29uc3QgcHJvcCBpbiBkZWZhdWx0T3B0aW9ucykge1xyXG4gICAgaWYgKHR5cGVvZiBkZWZhdWx0T3B0aW9uc1twcm9wXSAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICBkZWxldGUgZGVmYXVsdE9wdGlvbnNbcHJvcF07XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBTZXQgdGhlIGRlZmF1bHQgb3B0aW9ucyBiYWNrXHJcbiAgc2V0T3B0aW9ucyhIaWdoY2hhcnRzLnNldE9wdGlvbnNPYmopO1xyXG5cclxuICAvLyBFbXB0eSB0aGUgY3VzdG9tIGdsb2JhbCBvcHRpb25zIG9iamVjdFxyXG4gIEhpZ2hjaGFydHMuc2V0T3B0aW9uc09iaiA9IHt9O1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgc2V0dXBIaWdoY2hhcnRzLFxyXG4gIGNyZWF0ZUNoYXJ0XHJcbn07XHJcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcblxyXG5IaWdoY2hhcnRzIEV4cG9ydCBTZXJ2ZXJcclxuXHJcbkNvcHlyaWdodCAoYykgMjAxNi0yMDI1LCBIaWdoc29mdFxyXG5cclxuTGljZW5jZWQgdW5kZXIgdGhlIE1JVCBsaWNlbmNlLlxyXG5cclxuQWRkaXRpb25hbGx5IGEgdmFsaWQgSGlnaGNoYXJ0cyBsaWNlbnNlIGlzIHJlcXVpcmVkIGZvciB1c2UuXHJcblxyXG5TZWUgTElDRU5TRSBmaWxlIGluIHJvb3QgZm9yIGRldGFpbHMuXHJcblxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuLyoqXHJcbiAqIEBvdmVydmlldyBUaGlzIG1vZHVsZSBwcm92aWRlcyBmdW5jdGlvbnMgZm9yIG1hbmFnaW5nIFB1cHBldGVlciBicm93c2VyXHJcbiAqIGluc3RhbmNlLCBjcmVhdGluZyBhbmQgY2xlYXJpbmcgcGFnZXMsIGluamVjdGluZyBjdXN0b20gSlMgYW5kIENTUyByZXNvdXJjZXMsXHJcbiAqIGFuZCBzZXR0aW5nIHVwIEhpZ2hjaGFydHMgZm9yIHNlcnZlci1zaWRlIHJlbmRlcmluZy4gVGhlIG1vZHVsZSBlbnN1cmVzXHJcbiAqIHRoYXQgdGhlIGJyb3dzZXIgYW5kIHBhZ2VzIGFyZSBjb3JyZWN0bHkgbWFuYWdlZCBhbmQgY2FuIGhhbmRsZSBmYWlsdXJlc1xyXG4gKiBkdXJpbmcgb3BlcmF0aW9ucyBsaWtlIGxhdW5jaGluZyB0aGUgYnJvd3NlciBvciBjcmVhdGluZyBuZXcgcGFnZXMuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgcmVhZEZpbGVTeW5jIH0gZnJvbSAnZnMnO1xyXG5pbXBvcnQgeyBqb2luIH0gZnJvbSAncGF0aCc7XHJcblxyXG5pbXBvcnQgcHVwcGV0ZWVyIGZyb20gJ3B1cHBldGVlcic7XHJcblxyXG5pbXBvcnQgeyBnZXRDYWNoZVBhdGggfSBmcm9tICcuL2NhY2hlLmpzJztcclxuaW1wb3J0IHsgZ2V0T3B0aW9ucyB9IGZyb20gJy4vY29uZmlnLmpzJztcclxuaW1wb3J0IHsgc2V0dXBIaWdoY2hhcnRzIH0gZnJvbSAnLi9oaWdoY2hhcnRzLmpzJztcclxuaW1wb3J0IHsgbG9nLCBsb2dXaXRoU3RhY2sgfSBmcm9tICcuL2xvZ2dlci5qcyc7XHJcbmltcG9ydCB7IF9fZGlybmFtZSwgZ2V0QWJzb2x1dGVQYXRoIH0gZnJvbSAnLi91dGlscy5qcyc7XHJcblxyXG5pbXBvcnQgRXhwb3J0RXJyb3IgZnJvbSAnLi9lcnJvcnMvRXhwb3J0RXJyb3IuanMnO1xyXG5cclxuLy8gR2V0IHRoZSB0ZW1wbGF0ZSBmb3IgcGFnZXNcclxuY29uc3QgcGFnZVRlbXBsYXRlID0gcmVhZEZpbGVTeW5jKFxyXG4gIGpvaW4oX19kaXJuYW1lLCAndGVtcGxhdGVzJywgJ3RlbXBsYXRlLmh0bWwnKSxcclxuICAndXRmOCdcclxuKTtcclxuXHJcbi8vIFRvIHNhdmUgdGhlIGJyb3dzZXJcclxubGV0IGJyb3dzZXIgPSBudWxsO1xyXG5cclxuLyoqXHJcbiAqIFJldHJpZXZlcyB0aGUgZXhpc3RpbmcgUHVwcGV0ZWVyIGJyb3dzZXIgaW5zdGFuY2UuXHJcbiAqXHJcbiAqIEBmdW5jdGlvbiBnZXRCcm93c2VyXHJcbiAqXHJcbiAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBQdXBwZXRlZXIgYnJvd3NlciBpbnN0YW5jZS5cclxuICpcclxuICogQHRocm93cyB7RXhwb3J0RXJyb3J9IFRocm93cyBhbiBgRXhwb3J0RXJyb3JgIGlmIG5vIHZhbGlkIGJyb3dzZXJcclxuICogaGFzIGJlZW4gY3JlYXRlZC5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRCcm93c2VyKCkge1xyXG4gIGlmICghYnJvd3Nlcikge1xyXG4gICAgdGhyb3cgbmV3IEV4cG9ydEVycm9yKCdbYnJvd3Nlcl0gTm8gdmFsaWQgYnJvd3NlciBoYXMgYmVlbiBjcmVhdGVkLicsIDUwMCk7XHJcbiAgfVxyXG4gIHJldHVybiBicm93c2VyO1xyXG59XHJcblxyXG4vKipcclxuICogQ3JlYXRlcyBhIFB1cHBldGVlciBicm93c2VyIGluc3RhbmNlIHdpdGggdGhlIHNwZWNpZmllZCBhcmd1bWVudHMuXHJcbiAqXHJcbiAqIEBhc3luY1xyXG4gKiBAZnVuY3Rpb24gY3JlYXRlQnJvd3NlclxyXG4gKlxyXG4gKiBAcGFyYW0ge0FycmF5PHN0cmluZz59IHB1cHBldGVlckFyZ3MgLSBBZGRpdGlvbmFsIGFyZ3VtZW50cyBmb3IgUHVwcGV0ZWVyXHJcbiAqIGJyb3dzZXIncyBsYXVuY2guXHJcbiAqXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD59IEEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIHRoZSBjcmVhdGVkIFB1cHBldGVlclxyXG4gKiBicm93c2VyIGluc3RhbmNlLlxyXG4gKlxyXG4gKiBAdGhyb3dzIHtFeHBvcnRFcnJvcn0gVGhyb3dzIGFuIGBFeHBvcnRFcnJvcmAgaWYgbWF4IHJldHJpZXMgdG8gb3BlblxyXG4gKiBhIGJyb3dzZXIgaW5zdGFuY2UgYXJlIHJlYWNoZWQsIG9yIGlmIG5vIGJyb3dzZXIgaW5zdGFuY2UgaXMgZm91bmQgYWZ0ZXJcclxuICogcmV0cmllcy5cclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVCcm93c2VyKHB1cHBldGVlckFyZ3MpIHtcclxuICAvLyBHZXQgYGRlYnVnYCBhbmQgYG90aGVyYCBvcHRpb25zXHJcbiAgY29uc3QgeyBkZWJ1Zywgb3RoZXIgfSA9IGdldE9wdGlvbnMoKTtcclxuXHJcbiAgLy8gR2V0IHRoZSBgZGVidWdgIG9wdGlvbnNcclxuICBjb25zdCB7IGVuYWJsZTogZW5hYmxlZERlYnVnLCAuLi5kZWJ1Z09wdGlvbnMgfSA9IGRlYnVnO1xyXG5cclxuICAvLyBMYXVuY2ggb3B0aW9ucyBmb3IgdGhlIGJyb3dzZXIgaW5zdGFuY2VcclxuICBjb25zdCBsYXVuY2hPcHRpb25zID0ge1xyXG4gICAgaGVhZGxlc3M6IG90aGVyLmJyb3dzZXJTaGVsbE1vZGUgPyAnc2hlbGwnIDogdHJ1ZSxcclxuICAgIHVzZXJEYXRhRGlyOiAndG1wJyxcclxuICAgIGFyZ3M6IHB1cHBldGVlckFyZ3MgfHwgW10sXHJcbiAgICBoYW5kbGVTSUdJTlQ6IGZhbHNlLFxyXG4gICAgaGFuZGxlU0lHVEVSTTogZmFsc2UsXHJcbiAgICBoYW5kbGVTSUdIVVA6IGZhbHNlLFxyXG4gICAgd2FpdEZvckluaXRpYWxQYWdlOiBmYWxzZSxcclxuICAgIGRlZmF1bHRWaWV3cG9ydDogbnVsbCxcclxuICAgIC4uLihlbmFibGVkRGVidWcgJiYgZGVidWdPcHRpb25zKVxyXG4gIH07XHJcblxyXG4gIC8vIENyZWF0ZSBhIGJyb3dzZXJcclxuICBpZiAoIWJyb3dzZXIpIHtcclxuICAgIC8vIEEgY291bnRlciBmb3IgdGhlIGJyb3dzZXIncyBsYXVuY2ggcmV0cmllc1xyXG4gICAgbGV0IHRyeUNvdW50ID0gMDtcclxuICAgIGNvbnN0IG9wZW5Ccm93c2VyID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGxvZyhcclxuICAgICAgICAgIDMsXHJcbiAgICAgICAgICBgW2Jyb3dzZXJdIEF0dGVtcHRpbmcgdG8gbGF1bmNoIGFuZCBnZXQgYSBicm93c2VyIGluc3RhbmNlICh0cnkgJHsrK3RyeUNvdW50fSkuYFxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIC8vIExhdW5jaCB0aGUgYnJvd3NlclxyXG4gICAgICAgIGJyb3dzZXIgPSBhd2FpdCBwdXBwZXRlZXIubGF1bmNoKGxhdW5jaE9wdGlvbnMpO1xyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGxvZ1dpdGhTdGFjayhcclxuICAgICAgICAgIDEsXHJcbiAgICAgICAgICBlcnJvcixcclxuICAgICAgICAgICdbYnJvd3Nlcl0gRmFpbGVkIHRvIGxhdW5jaCBhIGJyb3dzZXIgaW5zdGFuY2UuJ1xyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIC8vIFJldHJ5IHRvIGxhdW5jaCBicm93c2VyIHVudGlsIHJlYWNoaW5nIG1heCBhdHRlbXB0c1xyXG4gICAgICAgIGlmICh0cnlDb3VudCA8IDI1KSB7XHJcbiAgICAgICAgICBsb2coMywgYFticm93c2VyXSBSZXRyeSB0byBvcGVuIGEgYnJvd3NlciAoJHt0cnlDb3VudH0gb3V0IG9mIDI1KS5gKTtcclxuXHJcbiAgICAgICAgICAvLyBXYWl0IGZvciBhIDQgc2Vjb25kcyBiZWZvcmUgdHJ5aW5nIGFnYWluXHJcbiAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzcG9uc2UpID0+IHNldFRpbWVvdXQocmVzcG9uc2UsIDQwMDApKTtcclxuICAgICAgICAgIGF3YWl0IG9wZW5Ccm93c2VyKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRocm93IGVycm9yO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBUcnkgdG8gb3BlbiBhIGJyb3dzZXJcclxuICAgICAgYXdhaXQgb3BlbkJyb3dzZXIoKTtcclxuXHJcbiAgICAgIC8vIFNoZWxsIG1vZGUgaW5mb3JtXHJcbiAgICAgIGlmIChsYXVuY2hPcHRpb25zLmhlYWRsZXNzID09PSAnc2hlbGwnKSB7XHJcbiAgICAgICAgbG9nKDMsIGBbYnJvd3Nlcl0gTGF1bmNoZWQgYnJvd3NlciBpbiBzaGVsbCBtb2RlLmApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBEZWJ1ZyBtb2RlIGluZm9ybVxyXG4gICAgICBpZiAoZW5hYmxlZERlYnVnKSB7XHJcbiAgICAgICAgbG9nKDMsIGBbYnJvd3Nlcl0gTGF1bmNoZWQgYnJvd3NlciBpbiBkZWJ1ZyBtb2RlLmApO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICB0aHJvdyBuZXcgRXhwb3J0RXJyb3IoXHJcbiAgICAgICAgJ1ticm93c2VyXSBNYXhpbXVtIHJldHJpZXMgdG8gb3BlbiBhIGJyb3dzZXIgaW5zdGFuY2UgcmVhY2hlZC4nLFxyXG4gICAgICAgIDUwMFxyXG4gICAgICApLnNldEVycm9yKGVycm9yKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBObyBjb3JyZWN0IGJyb3dzZXJcclxuICAgIGlmICghYnJvd3Nlcikge1xyXG4gICAgICB0aHJvdyBuZXcgRXhwb3J0RXJyb3IoJ1ticm93c2VyXSBDYW5ub3QgZmluZCBhIGJyb3dzZXIgdG8gb3Blbi4nLCA1MDApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gUmV0dXJuIGEgYnJvd3NlciBpbnN0YW5jZVxyXG4gIHJldHVybiBicm93c2VyO1xyXG59XHJcblxyXG4vKipcclxuICogQ2xvc2VzIHRoZSBQdXBwZXRlZXIgYnJvd3NlciBpbnN0YW5jZSBpZiBpdCBpcyBjb25uZWN0ZWQuXHJcbiAqXHJcbiAqIEBhc3luY1xyXG4gKiBAZnVuY3Rpb24gY2xvc2VCcm93c2VyXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2xvc2VCcm93c2VyKCkge1xyXG4gIC8vIENsb3NlIHRoZSBicm93c2VyIHdoZW4gY29ubmVjdGVkXHJcbiAgaWYgKGJyb3dzZXIgJiYgYnJvd3Nlci5jb25uZWN0ZWQpIHtcclxuICAgIGF3YWl0IGJyb3dzZXIuY2xvc2UoKTtcclxuICB9XHJcbiAgYnJvd3NlciA9IG51bGw7XHJcbiAgbG9nKDQsICdbYnJvd3Nlcl0gQ2xvc2VkIHRoZSBicm93c2VyLicpO1xyXG59XHJcblxyXG4vKipcclxuICogQ3JlYXRlcyBhIG5ldyBQdXBwZXRlZXIgcGFnZSB3aXRoaW4gYW4gZXhpc3RpbmcgYnJvd3NlciBpbnN0YW5jZS5cclxuICogVGhlIGZ1bmN0aW9uIGNyZWF0ZXMgYSBuZXcgcGFnZSwgZGlzYWJsZXMgY2FjaGluZywgc2V0cyBjb250ZW50IHVzaW5nXHJcbiAqIHRoZSBgX3NldFBhZ2VDb250ZW50KClgLCBhbmQgcmV0dXJucyB0aGUgY3JlYXRlZCBQdXBwZXRlZXIgcGFnZS5cclxuICpcclxuICogQGFzeW5jXHJcbiAqIEBmdW5jdGlvbiBuZXdQYWdlXHJcbiAqXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBwb29sUmVzb3VyY2UgLSBUaGUgcG9vbCByZXNvdXJjZSB0aGF0IGNvbnRhaW5zIGBpZGAsXHJcbiAqIGB3b3JrQ291bnRgLCBhbmQgYHBhZ2VgLlxyXG4gKlxyXG4gKiBAdGhyb3dzIHtFeHBvcnRFcnJvcn0gVGhyb3dzIGFuIGBFeHBvcnRFcnJvcmAgaWYgbm8gdmFsaWQgYnJvd3NlclxyXG4gKiBoYXMgYmVlbiBjb25uZWN0ZWQgb3IgaWYgYSBwYWdlIGlzIGludmFsaWQgb3IgY2xvc2VkLlxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG5ld1BhZ2UocG9vbFJlc291cmNlKSB7XHJcbiAgLy8gRXJyb3IgaW4gY2FzZSBvZiBubyBjb25uZWN0ZWQgYnJvd3NlclxyXG4gIGlmICghYnJvd3NlciB8fCAhYnJvd3Nlci5jb25uZWN0ZWQpIHtcclxuICAgIHRocm93IG5ldyBFeHBvcnRFcnJvcihgW2Jyb3dzZXJdIEJyb3dzZXIgaXMgbm90IHlldCBjb25uZWN0ZWQuYCwgNTAwKTtcclxuICB9XHJcblxyXG4gIC8vIENyZWF0ZSBhIHBhZ2VcclxuICBwb29sUmVzb3VyY2UucGFnZSA9IGF3YWl0IGJyb3dzZXIubmV3UGFnZSgpO1xyXG5cclxuICAvLyBEaXNhYmxlIGNhY2hlXHJcbiAgYXdhaXQgcG9vbFJlc291cmNlLnBhZ2Uuc2V0Q2FjaGVFbmFibGVkKGZhbHNlKTtcclxuXHJcbiAgLy8gU2V0IHRoZSBjb250ZW50XHJcbiAgYXdhaXQgX3NldFBhZ2VDb250ZW50KHBvb2xSZXNvdXJjZS5wYWdlKTtcclxuXHJcbiAgLy8gU2V0IHBhZ2UgZXZlbnRzXHJcbiAgX3NldFBhZ2VFdmVudHMocG9vbFJlc291cmNlLnBhZ2UpO1xyXG5cclxuICAvLyBDaGVjayBpZiB0aGUgcGFnZSBpcyBjb3JyZWN0bHkgY3JlYXRlZFxyXG4gIGlmICghcG9vbFJlc291cmNlLnBhZ2UgfHwgcG9vbFJlc291cmNlLnBhZ2UuaXNDbG9zZWQoKSkge1xyXG4gICAgdGhyb3cgbmV3IEV4cG9ydEVycm9yKCdbYnJvd3Nlcl0gVGhlIHBhZ2UgaXMgaW52YWxpZCBvciBjbG9zZWQuJywgNDAwKTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDbGVhcnMgdGhlIGNvbnRlbnQgb2YgYSBQdXBwZXRlZXIgcGFnZSBiYXNlZCBvbiB0aGUgc3BlY2lmaWVkIG1vZGUuIExvZ3NcclxuICogdGhyb3duIGVycm9yIGlmIGNsZWFyaW5nIG9mIGEgcGFnZSdzIGNvbnRlbnQgZmFpbHMuXHJcbiAqXHJcbiAqIEBhc3luY1xyXG4gKiBAZnVuY3Rpb24gY2xlYXJQYWdlXHJcbiAqXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBwb29sUmVzb3VyY2UgLSBUaGUgcG9vbCByZXNvdXJjZSB0aGF0IGNvbnRhaW5zIHBhZ2UgYW5kIGlkLlxyXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtoYXJkUmVzZXQ9ZmFsc2VdIC0gQSBmbGFnIGluZGljYXRpbmcgdGhlIHR5cGUgb2YgY2xlYXJpbmdcclxuICogdG8gYmUgcGVyZm9ybWVkLiBJZiBgdHJ1ZWAsIG5hdmlnYXRlcyB0byBgYWJvdXQ6YmxhbmtgIGFuZCByZXNldHMgY29udGVudFxyXG4gKiBhbmQgc2NyaXB0cy4gSWYgYGZhbHNlYCwgY2xlYXJzIHRoZSBib2R5IGNvbnRlbnQgYnkgc2V0dGluZyBhIHByZWRlZmluZWQgSFRNTFxyXG4gKiBzdHJ1Y3R1cmUuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGBmYWxzZWAuXHJcbiAqXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPGJvb2xlYW4+fSBBIFByb21pc2UgdGhhdCByZXNvbHZlcyB0byBgdHJ1ZWAgd2hlbiBwYWdlXHJcbiAqIGlzIGNvcnJlY3RseSBjbGVhcmVkIGFuZCBgZmFsc2VgIHdoZW4gaXQgaXMgbm90LlxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNsZWFyUGFnZShwb29sUmVzb3VyY2UsIGhhcmRSZXNldCA9IGZhbHNlKSB7XHJcbiAgdHJ5IHtcclxuICAgIGlmIChwb29sUmVzb3VyY2UucGFnZSAmJiAhcG9vbFJlc291cmNlLnBhZ2UuaXNDbG9zZWQoKSkge1xyXG4gICAgICBpZiAoaGFyZFJlc2V0KSB7XHJcbiAgICAgICAgLy8gTmF2aWdhdGUgdG8gYGFib3V0OmJsYW5rYFxyXG4gICAgICAgIGF3YWl0IHBvb2xSZXNvdXJjZS5wYWdlLmdvdG8oJ2Fib3V0OmJsYW5rJywge1xyXG4gICAgICAgICAgd2FpdFVudGlsOiAnZG9tY29udGVudGxvYWRlZCdcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gU2V0IHRoZSBjb250ZW50IGFuZCBhbmQgc2NyaXB0cyBhZ2FpblxyXG4gICAgICAgIGF3YWl0IF9zZXRQYWdlQ29udGVudChwb29sUmVzb3VyY2UucGFnZSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gQ2xlYXIgYm9keSBjb250ZW50XHJcbiAgICAgICAgYXdhaXQgcG9vbFJlc291cmNlLnBhZ2UuZXZhbHVhdGUoKCkgPT4ge1xyXG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5pbm5lckhUTUwgPVxyXG4gICAgICAgICAgICAnPGRpdiBpZD1cImNoYXJ0LWNvbnRhaW5lclwiPjxkaXYgaWQ9XCJjb250YWluZXJcIj48L2Rpdj48L2Rpdj4nO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBsb2dXaXRoU3RhY2soXHJcbiAgICAgIDIsXHJcbiAgICAgIGVycm9yLFxyXG4gICAgICBgW3Bvb2xdIFBvb2wgcmVzb3VyY2UgWyR7cG9vbFJlc291cmNlLmlkfV0gLSBDb250ZW50IG9mIHRoZSBwYWdlIGNvdWxkIG5vdCBiZSBjbGVhcmVkLmBcclxuICAgICk7XHJcblxyXG4gICAgLy8gU2V0IHRoZSBgd29ya0xpbWl0YCB0byBleGNlZWRlZCBpbiBvcmRlciB0byByZWNyZWF0ZSB0aGUgcmVzb3VyY2VcclxuICAgIHBvb2xSZXNvdXJjZS53b3JrQ291bnQgPSBnZXRPcHRpb25zKCkucG9vbC53b3JrTGltaXQgKyAxO1xyXG4gIH1cclxuICByZXR1cm4gZmFsc2U7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBZGRzIGN1c3RvbSBKUyBhbmQgQ1NTIHJlc291cmNlcyB0byBhIFB1cHBldGVlciBwYWdlIGJhc2VkIG9uIHRoZSBzcGVjaWZpZWRcclxuICogb3B0aW9ucy5cclxuICpcclxuICogQGFzeW5jXHJcbiAqIEBmdW5jdGlvbiBhZGRQYWdlUmVzb3VyY2VzXHJcbiAqXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBwYWdlIC0gVGhlIFB1cHBldGVlciBwYWdlIG9iamVjdCB0byB3aGljaCByZXNvdXJjZXMgd2lsbFxyXG4gKiBiZSBhZGRlZC5cclxuICogQHBhcmFtIHtPYmplY3R9IGN1c3RvbUxvZ2ljT3B0aW9ucyAtIFRoZSBjb25maWd1cmF0aW9uIG9iamVjdCBjb250YWluaW5nXHJcbiAqIGBjdXN0b21Mb2dpY2Agb3B0aW9ucy5cclxuICpcclxuICogQHJldHVybnMge1Byb21pc2U8QXJyYXk8T2JqZWN0Pj59IEEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGFuIGFycmF5XHJcbiAqIG9mIGluamVjdGVkIHJlc291cmNlcy5cclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhZGRQYWdlUmVzb3VyY2VzKHBhZ2UsIGN1c3RvbUxvZ2ljT3B0aW9ucykge1xyXG4gIC8vIEluamVjdGVkIHJlc291cmNlcyBhcnJheVxyXG4gIGNvbnN0IGluamVjdGVkUmVzb3VyY2VzID0gW107XHJcblxyXG4gIC8vIFVzZSB0aGUgY29udGVudCBvZiB0aGUgYHJlc291cmNlc2BcclxuICBjb25zdCByZXNvdXJjZXMgPSBjdXN0b21Mb2dpY09wdGlvbnMucmVzb3VyY2VzO1xyXG4gIGlmIChyZXNvdXJjZXMpIHtcclxuICAgIGNvbnN0IGluamVjdGVkSnMgPSBbXTtcclxuXHJcbiAgICAvLyBMb2FkIGN1c3RvbSBKUyBjb2RlXHJcbiAgICBpZiAocmVzb3VyY2VzLmpzKSB7XHJcbiAgICAgIGluamVjdGVkSnMucHVzaCh7XHJcbiAgICAgICAgY29udGVudDogcmVzb3VyY2VzLmpzXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIExvYWQgc2NyaXB0cyBmcm9tIGFsbCBjdXN0b20gZmlsZXNcclxuICAgIGlmIChyZXNvdXJjZXMuZmlsZXMpIHtcclxuICAgICAgZm9yIChjb25zdCBmaWxlIG9mIHJlc291cmNlcy5maWxlcykge1xyXG4gICAgICAgIGNvbnN0IGlzTG9jYWwgPSBmaWxlLnN0YXJ0c1dpdGgoJ2h0dHAnKSA/IGZhbHNlIDogdHJ1ZTtcclxuXHJcbiAgICAgICAgLy8gQWRkIGVhY2ggY3VzdG9tIHNjcmlwdCBmcm9tIHJlc291cmNlcycgZmlsZXNcclxuICAgICAgICBpbmplY3RlZEpzLnB1c2goXHJcbiAgICAgICAgICBpc0xvY2FsXHJcbiAgICAgICAgICAgID8ge1xyXG4gICAgICAgICAgICAgICAgY29udGVudDogcmVhZEZpbGVTeW5jKGdldEFic29sdXRlUGF0aChmaWxlKSwgJ3V0ZjgnKVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgOiB7XHJcbiAgICAgICAgICAgICAgICB1cmw6IGZpbGVcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFRoZSBhY3R1YWwgaW5qZWN0aW9uIG9mIGNvbGxlY3RlZCBzY3JpcHRzXHJcbiAgICBmb3IgKGNvbnN0IGpzUmVzb3VyY2Ugb2YgaW5qZWN0ZWRKcykge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGluamVjdGVkUmVzb3VyY2VzLnB1c2goYXdhaXQgcGFnZS5hZGRTY3JpcHRUYWcoanNSZXNvdXJjZSkpO1xyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGxvZ1dpdGhTdGFjaygyLCBlcnJvciwgYFticm93c2VyXSBUaGUgSlMgcmVzb3VyY2UgY2Fubm90IGJlIGxvYWRlZC5gKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgaW5qZWN0ZWRKcy5sZW5ndGggPSAwO1xyXG5cclxuICAgIC8vIExvYWQgQ1NTXHJcbiAgICBjb25zdCBpbmplY3RlZENzcyA9IFtdO1xyXG4gICAgaWYgKHJlc291cmNlcy5jc3MpIHtcclxuICAgICAgY29uc3QgY3NzSW1wb3J0cyA9IHJlc291cmNlcy5jc3MubWF0Y2goL0BpbXBvcnRcXHMqKFteO10qKTsvZyk7XHJcbiAgICAgIGlmIChjc3NJbXBvcnRzKSB7XHJcbiAgICAgICAgLy8gSGFuZGxlIGNzcyBzZWN0aW9uXHJcbiAgICAgICAgZm9yIChsZXQgY3NzSW1wb3J0UGF0aCBvZiBjc3NJbXBvcnRzKSB7XHJcbiAgICAgICAgICBpZiAoY3NzSW1wb3J0UGF0aCkge1xyXG4gICAgICAgICAgICBjc3NJbXBvcnRQYXRoID0gY3NzSW1wb3J0UGF0aFxyXG4gICAgICAgICAgICAgIC5yZXBsYWNlKCd1cmwoJywgJycpXHJcbiAgICAgICAgICAgICAgLnJlcGxhY2UoJ0BpbXBvcnQnLCAnJylcclxuICAgICAgICAgICAgICAucmVwbGFjZSgvXCIvZywgJycpXHJcbiAgICAgICAgICAgICAgLnJlcGxhY2UoLycvZywgJycpXHJcbiAgICAgICAgICAgICAgLnJlcGxhY2UoLzsvLCAnJylcclxuICAgICAgICAgICAgICAucmVwbGFjZSgvXFwpL2csICcnKVxyXG4gICAgICAgICAgICAgIC50cmltKCk7XHJcblxyXG4gICAgICAgICAgICAvLyBBZGQgZWFjaCBjdXN0b20gY3NzIGZyb20gcmVzb3VyY2VzXHJcbiAgICAgICAgICAgIGlmIChjc3NJbXBvcnRQYXRoLnN0YXJ0c1dpdGgoJ2h0dHAnKSkge1xyXG4gICAgICAgICAgICAgIGluamVjdGVkQ3NzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgdXJsOiBjc3NJbXBvcnRQYXRoXHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY3VzdG9tTG9naWNPcHRpb25zLmFsbG93RmlsZVJlc291cmNlcykge1xyXG4gICAgICAgICAgICAgIGluamVjdGVkQ3NzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgcGF0aDogZ2V0QWJzb2x1dGVQYXRoKGNzc0ltcG9ydFBhdGgpXHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFRoZSByZXN0IG9mIHRoZSBDU1Mgc2VjdGlvbiB3aWxsIGJlIGNvbnRlbnQgYnkgbm93XHJcbiAgICAgIGluamVjdGVkQ3NzLnB1c2goe1xyXG4gICAgICAgIGNvbnRlbnQ6IHJlc291cmNlcy5jc3MucmVwbGFjZSgvQGltcG9ydFxccyooW147XSopOy9nLCAnJykgfHwgJyAnXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy8gVGhlIGFjdHVhbCBpbmplY3Rpb24gb2YgY29sbGVjdGVkIENTU1xyXG4gICAgICBmb3IgKGNvbnN0IGNzc1Jlc291cmNlIG9mIGluamVjdGVkQ3NzKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGluamVjdGVkUmVzb3VyY2VzLnB1c2goYXdhaXQgcGFnZS5hZGRTdHlsZVRhZyhjc3NSZXNvdXJjZSkpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICBsb2dXaXRoU3RhY2soXHJcbiAgICAgICAgICAgIDIsXHJcbiAgICAgICAgICAgIGVycm9yLFxyXG4gICAgICAgICAgICBgW2Jyb3dzZXJdIFRoZSBDU1MgcmVzb3VyY2UgY2Fubm90IGJlIGxvYWRlZC5gXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBpbmplY3RlZENzcy5sZW5ndGggPSAwO1xyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm4gaW5qZWN0ZWRSZXNvdXJjZXM7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDbGVhcnMgb3V0IGFsbCBzdGF0ZSBzZXQgb24gdGhlIHBhZ2Ugd2l0aCBgYWRkU2NyaXB0VGFnYCBhbmQgYGFkZFN0eWxlVGFnYC5cclxuICogUmVtb3ZlcyBpbmplY3RlZCByZXNvdXJjZXMgYW5kIHJlc2V0cyBDU1MgYW5kIHNjcmlwdCB0YWdzIG9uIHRoZSBwYWdlLlxyXG4gKiBBZGRpdGlvbmFsbHksIGl0IGRlc3Ryb3lzIHByZXZpb3VzbHkgZXhpc3RpbmcgY2hhcnRzLlxyXG4gKlxyXG4gKiBAYXN5bmNcclxuICogQGZ1bmN0aW9uIGNsZWFyUGFnZVJlc291cmNlc1xyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gcGFnZSAtIFRoZSBQdXBwZXRlZXIgcGFnZSBvYmplY3QgZnJvbSB3aGljaCByZXNvdXJjZXMgd2lsbFxyXG4gKiBiZSBjbGVhcmVkLlxyXG4gKiBAcGFyYW0ge0FycmF5PE9iamVjdD59IGluamVjdGVkUmVzb3VyY2VzIC0gQXJyYXkgb2YgaW5qZWN0ZWQgcmVzb3VyY2VzXHJcbiAqIHRvIGJlIGNsZWFyZWQuXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2xlYXJQYWdlUmVzb3VyY2VzKHBhZ2UsIGluamVjdGVkUmVzb3VyY2VzKSB7XHJcbiAgdHJ5IHtcclxuICAgIGZvciAoY29uc3QgcmVzb3VyY2Ugb2YgaW5qZWN0ZWRSZXNvdXJjZXMpIHtcclxuICAgICAgYXdhaXQgcmVzb3VyY2UuZGlzcG9zZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIERlc3Ryb3kgb2xkIGNoYXJ0cyBhZnRlciBleHBvcnQgaXMgZG9uZSBhbmQgcmVzZXQgYWxsIENTUyBhbmQgc2NyaXB0IHRhZ3NcclxuICAgIGF3YWl0IHBhZ2UuZXZhbHVhdGUoKCkgPT4ge1xyXG4gICAgICAvLyBXZSBhcmUgbm90IGd1YXJhbnRlZWQgdGhhdCBIaWdoY2hhcnRzIGlzIGxvYWRlZCwgd2hlbiBkb2luZyBTVkcgZXhwb3J0c1xyXG4gICAgICBpZiAodHlwZW9mIEhpZ2hjaGFydHMgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXHJcbiAgICAgICAgY29uc3Qgb2xkQ2hhcnRzID0gSGlnaGNoYXJ0cy5jaGFydHM7XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGluIGFueSBhbHJlYWR5IGV4aXN0aW5nIGNoYXJ0c1xyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9sZENoYXJ0cykgJiYgb2xkQ2hhcnRzLmxlbmd0aCkge1xyXG4gICAgICAgICAgLy8gRGVzdHJveSBvbGQgY2hhcnRzXHJcbiAgICAgICAgICBmb3IgKGNvbnN0IG9sZENoYXJ0IG9mIG9sZENoYXJ0cykge1xyXG4gICAgICAgICAgICBvbGRDaGFydCAmJiBvbGRDaGFydC5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxyXG4gICAgICAgICAgICBIaWdoY2hhcnRzLmNoYXJ0cy5zaGlmdCgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXHJcbiAgICAgIGNvbnN0IFsuLi5zY3JpcHRzVG9SZW1vdmVdID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NjcmlwdCcpO1xyXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcclxuICAgICAgY29uc3QgWywgLi4uc3R5bGVzVG9SZW1vdmVdID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3N0eWxlJyk7XHJcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxyXG4gICAgICBjb25zdCBbLi4ubGlua3NUb1JlbW92ZV0gPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbGluaycpO1xyXG5cclxuICAgICAgLy8gUmVtb3ZlIHRhZ3NcclxuICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIFtcclxuICAgICAgICAuLi5zY3JpcHRzVG9SZW1vdmUsXHJcbiAgICAgICAgLi4uc3R5bGVzVG9SZW1vdmUsXHJcbiAgICAgICAgLi4ubGlua3NUb1JlbW92ZVxyXG4gICAgICBdKSB7XHJcbiAgICAgICAgZWxlbWVudC5yZW1vdmUoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGxvZ1dpdGhTdGFjaygyLCBlcnJvciwgYFticm93c2VyXSBDb3VsZCBub3QgY2xlYXIgcGFnZSdzIHJlc291cmNlcy5gKTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTZXRzIHRoZSBjb250ZW50IGZvciBhIFB1cHBldGVlciBwYWdlIHVzaW5nIGEgcHJlZGVmaW5lZCB0ZW1wbGF0ZVxyXG4gKiBhbmQgYWRkaXRpb25hbCBzY3JpcHRzLlxyXG4gKlxyXG4gKiBAYXN5bmNcclxuICogQGZ1bmN0aW9uIF9zZXRQYWdlQ29udGVudFxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gcGFnZSAtIFRoZSBQdXBwZXRlZXIgcGFnZSBvYmplY3QgdG8gd2hpY2ggdGhlIGNvbnRlbnRcclxuICogaXMgYmVpbmcgc2V0LlxyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gX3NldFBhZ2VDb250ZW50KHBhZ2UpIHtcclxuICAvLyBTZXQgdGhlIGluaXRpYWwgcGFnZSBjb250ZW50XHJcbiAgYXdhaXQgcGFnZS5zZXRDb250ZW50KHBhZ2VUZW1wbGF0ZSwgeyB3YWl0VW50aWw6ICdkb21jb250ZW50bG9hZGVkJyB9KTtcclxuXHJcbiAgLy8gQWRkIGFsbCByZWdpc3RlcmVkIEhpZ2NoYXJ0cyBzY3JpcHRzLCBxdWl0ZSBkZW1hbmRpbmdcclxuICBhd2FpdCBwYWdlLmFkZFNjcmlwdFRhZyh7IHBhdGg6IGpvaW4oZ2V0Q2FjaGVQYXRoKCksICdzb3VyY2VzLmpzJykgfSk7XHJcblxyXG4gIC8vIFNldCB0aGUgaW5pdGlhbCBgYW5pbU9iamVjdGAgZm9yIEhpZ2hjaGFydHNcclxuICBhd2FpdCBwYWdlLmV2YWx1YXRlKHNldHVwSGlnaGNoYXJ0cyk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTZXQgZXZlbnRzIChsaWtlIGBwYWdlZXJyb3JgIGFuZCBgY29uc29sZWApIGZvciBhIFB1cHBldGVlciBwYWdlIGluIG9yZGVyXHJcbiAqIHRvIGNhdGNoIGFuZCBkaXNwbGF5IGVycm9ycyBhbmQgY29uc29sZSBsb2dzIGZyb20gdGhlIHdpbmRvdyBjb250ZXh0LlxyXG4gKlxyXG4gKiBAZnVuY3Rpb24gX3NldFBhZ2VFdmVudHNcclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IHBhZ2UgLSBUaGUgUHVwcGV0ZWVyIHBhZ2Ugb2JqZWN0IHRvIHdoaWNoIHRoZSBsaXN0ZW5lcnNcclxuICogYXJlIGJlaW5nIHNldC5cclxuICovXHJcbmZ1bmN0aW9uIF9zZXRQYWdlRXZlbnRzKHBhZ2UpIHtcclxuICAvLyBHZXQgYGRlYnVnYCBvcHRpb25zXHJcbiAgY29uc3QgeyBkZWJ1ZyB9ID0gZ2V0T3B0aW9ucygpO1xyXG5cclxuICAvLyBTZXQgdGhlIGBwYWdlZXJyb3JgIGxpc3RlbmVyXHJcbiAgcGFnZS5vbigncGFnZWVycm9yJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgLy8gSXQgd291bGQgc2VlbSBsaWtlIHRoaXMgbWF5IGZpcmUgYXQgdGhlIHNhbWUgdGltZSBvciBzaG9ydGx5IGJlZm9yZVxyXG4gICAgLy8gYSBwYWdlIGlzIGNsb3NlZC5cclxuICAgIGlmIChwYWdlLmlzQ2xvc2VkKCkpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICAvLyBTZXQgdGhlIGBjb25zb2xlYCBsaXN0ZW5lciwgaWYgbmVlZGVkXHJcbiAgaWYgKGRlYnVnLmVuYWJsZSAmJiBkZWJ1Zy5saXN0ZW5Ub0NvbnNvbGUpIHtcclxuICAgIHBhZ2Uub24oJ2NvbnNvbGUnLCAobWVzc2FnZSkgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZyhgW2RlYnVnXSAke21lc3NhZ2UudGV4dCgpfWApO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgZ2V0QnJvd3NlcixcclxuICBjcmVhdGVCcm93c2VyLFxyXG4gIGNsb3NlQnJvd3NlcixcclxuICBuZXdQYWdlLFxyXG4gIGNsZWFyUGFnZSxcclxuICBhZGRQYWdlUmVzb3VyY2VzLFxyXG4gIGNsZWFyUGFnZVJlc291cmNlc1xyXG59O1xyXG4iLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5cclxuSGlnaGNoYXJ0cyBFeHBvcnQgU2VydmVyXHJcblxyXG5Db3B5cmlnaHQgKGMpIDIwMTYtMjAyNSwgSGlnaHNvZnRcclxuXHJcbkxpY2VuY2VkIHVuZGVyIHRoZSBNSVQgbGljZW5jZS5cclxuXHJcbkFkZGl0aW9uYWxseSBhIHZhbGlkIEhpZ2hjaGFydHMgbGljZW5zZSBpcyByZXF1aXJlZCBmb3IgdXNlLlxyXG5cclxuU2VlIExJQ0VOU0UgZmlsZSBpbiByb290IGZvciBkZXRhaWxzLlxyXG5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbi8qKlxyXG4gKiBUaGUgQ1NTIHRvIGJlIHVzZWQgb24gdGhlIGV4cG9ydGVkIHBhZ2UuXHJcbiAqXHJcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBDU1MgY29uZmlndXJhdGlvbi5cclxuICovXHJcbmV4cG9ydCBkZWZhdWx0ICgpID0+IGBcclxuXHJcbmh0bWwsIGJvZHkge1xyXG4gIG1hcmdpbjogMDtcclxuICBwYWRkaW5nOiAwO1xyXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbn1cclxuXHJcbiN0YWJsZS1kaXYsICNzbGlkZXJzLCAjZGF0YXRhYmxlLCAjY29udHJvbHMsIC5sZC1yb3cge1xyXG4gIGRpc3BsYXk6IG5vbmU7XHJcbiAgaGVpZ2h0OiAwO1xyXG59XHJcblxyXG4jY2hhcnQtY29udGFpbmVyIHtcclxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gIG1hcmdpbjogMDtcclxuICBvdmVyZmxvdzogYXV0bztcclxuICBmb250LXNpemU6IDA7XHJcbn1cclxuXHJcbiNjaGFydC1jb250YWluZXIgPiBmaWd1cmUsIGRpdiB7XHJcbiAgbWFyZ2luLXRvcDogMCAhaW1wb3J0YW50O1xyXG4gIG1hcmdpbi1ib3R0b206IDAgIWltcG9ydGFudDtcclxufVxyXG5cclxuYDtcclxuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHJcbkhpZ2hjaGFydHMgRXhwb3J0IFNlcnZlclxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE2LTIwMjUsIEhpZ2hzb2Z0XHJcblxyXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXHJcblxyXG5BZGRpdGlvbmFsbHkgYSB2YWxpZCBIaWdoY2hhcnRzIGxpY2Vuc2UgaXMgcmVxdWlyZWQgZm9yIHVzZS5cclxuXHJcblNlZSBMSUNFTlNFIGZpbGUgaW4gcm9vdCBmb3IgZGV0YWlscy5cclxuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG5pbXBvcnQgY3NzVGVtcGxhdGUgZnJvbSAnLi9jc3MuanMnO1xyXG5cclxuLyoqXHJcbiAqIFRoZSBTVkcgdGVtcGxhdGUgdG8gdXNlIHdoZW4gbG9hZGluZyBTVkcgY29udGVudCB0byBiZSBleHBvcnRlZC5cclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd9IHN2ZyAtIFRoZSBTVkcgaW5wdXQgY29udGVudCB0byBiZSBleHBvcnRlZC5cclxuICpcclxuICogQHJldHVybnMge3N0cmluZ30gVGhlIFNWRyB0ZW1wbGF0ZS5cclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IChzdmcpID0+IGBcclxuPCFET0NUWVBFIGh0bWw+XHJcbjxodG1sIGxhbmc9J2VuLVVTJz5cclxuICA8aGVhZD5cclxuICAgIDxtZXRhIGh0dHAtZXF1aXY9XCJDb250ZW50LVR5cGVcIiBjb250ZW50PVwidGV4dC9odG1sOyBjaGFyc2V0PXV0Zi04XCI+XHJcbiAgICA8dGl0bGU+SGlnaGNoYXJ0cyBFeHBvcnQ8L3RpdGxlPlxyXG4gIDwvaGVhZD5cclxuICA8c3R5bGU+XHJcbiAgICAke2Nzc1RlbXBsYXRlKCl9XHJcbiAgPC9zdHlsZT5cclxuICA8Ym9keT5cclxuICAgIDxkaXYgaWQ9XCJjaGFydC1jb250YWluZXJcIj5cclxuICAgICAgJHtzdmd9XHJcbiAgICA8L2Rpdj5cclxuICA8L2JvZHk+XHJcbjwvaHRtbD5cclxuXHJcbmA7XHJcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcblxyXG5IaWdoY2hhcnRzIEV4cG9ydCBTZXJ2ZXJcclxuXHJcbkNvcHlyaWdodCAoYykgMjAxNi0yMDI1LCBIaWdoc29mdFxyXG5cclxuTGljZW5jZWQgdW5kZXIgdGhlIE1JVCBsaWNlbmNlLlxyXG5cclxuQWRkaXRpb25hbGx5IGEgdmFsaWQgSGlnaGNoYXJ0cyBsaWNlbnNlIGlzIHJlcXVpcmVkIGZvciB1c2UuXHJcblxyXG5TZWUgTElDRU5TRSBmaWxlIGluIHJvb3QgZm9yIGRldGFpbHMuXHJcblxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuLyoqXHJcbiAqIEBvdmVydmlldyBUaGlzIG1vZHVsZSBoYW5kbGVzIGNoYXJ0IGV4cG9ydCBmdW5jdGlvbmFsaXR5IHVzaW5nIFB1cHBldGVlci5cclxuICogSXQgc3VwcG9ydHMgZXhwb3J0aW5nIGNoYXJ0cyBhcyBTVkcsIFBORywgSlBFRywgYW5kIFBERiBmb3JtYXRzLiBUaGUgbW9kdWxlXHJcbiAqIG1hbmFnZXMgcGFnZSByZXNvdXJjZXMsIHNldHMgdXAgdGhlIGV4cG9ydCBlbnZpcm9ubWVudCwgYW5kIHByb2Nlc3NlcyBjaGFydFxyXG4gKiBjb25maWd1cmF0aW9ucyBvciBTVkcgaW5wdXRzIGZvciByZW5kZXJpbmcuIEV4cG9ydHMgdG8gYSBjaGFydCBmcm9tIGEgcGFnZVxyXG4gKiB1c2luZyBQdXBwZXRlZXIuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgYWRkUGFnZVJlc291cmNlcywgY2xlYXJQYWdlUmVzb3VyY2VzIH0gZnJvbSAnLi9icm93c2VyLmpzJztcclxuaW1wb3J0IHsgY3JlYXRlQ2hhcnQgfSBmcm9tICcuL2hpZ2hjaGFydHMuanMnO1xyXG5pbXBvcnQgeyBsb2cgfSBmcm9tICcuL2xvZ2dlci5qcyc7XHJcblxyXG5pbXBvcnQgc3ZnVGVtcGxhdGUgZnJvbSAnLi4vdGVtcGxhdGVzL3N2Z0V4cG9ydC9zdmdFeHBvcnQuanMnO1xyXG5cclxuaW1wb3J0IEV4cG9ydEVycm9yIGZyb20gJy4vZXJyb3JzL0V4cG9ydEVycm9yLmpzJztcclxuXHJcbi8qKlxyXG4gKiBFeHBvcnRzIHRvIGEgY2hhcnQgZnJvbSBhIHBhZ2UgdXNpbmcgUHVwcGV0ZWVyLlxyXG4gKlxyXG4gKiBAYXN5bmNcclxuICogQGZ1bmN0aW9uIHB1cHBldGVlckV4cG9ydFxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gcGFnZSAtIFB1cHBldGVlciBwYWdlIG9iamVjdC5cclxuICogQHBhcmFtIHtPYmplY3R9IGV4cG9ydE9wdGlvbnMgLSBUaGUgY29uZmlndXJhdGlvbiBvYmplY3QgY29udGFpbmluZyBgZXhwb3J0YFxyXG4gKiBvcHRpb25zLlxyXG4gKiBAcGFyYW0ge09iamVjdH0gY3VzdG9tTG9naWNPcHRpb25zIC0gVGhlIGNvbmZpZ3VyYXRpb24gb2JqZWN0IGNvbnRhaW5pbmdcclxuICogYGN1c3RvbUxvZ2ljYCBvcHRpb25zLlxyXG4gKlxyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTwoc3RyaW5nfEJ1ZmZlcnxFeHBvcnRFcnJvcik+fSBBIFByb21pc2UgdGhhdCByZXNvbHZlc1xyXG4gKiB0byB0aGUgZXhwb3J0ZWQgZGF0YSBvciByZWplY3Rpbmcgd2l0aCBhbiBgRXhwb3J0RXJyb3JgLlxyXG4gKlxyXG4gKiBAdGhyb3dzIHtFeHBvcnRFcnJvcn0gVGhyb3dzIGFuIGBFeHBvcnRFcnJvcmAgaWYgZXhwb3J0IHRvIGFuIHVuc3VwcG9ydGVkXHJcbiAqIG91dHB1dCBmb3JtYXQgb2NjdXJzLlxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHB1cHBldGVlckV4cG9ydChwYWdlLCBleHBvcnRPcHRpb25zLCBjdXN0b21Mb2dpY09wdGlvbnMpIHtcclxuICAvLyBJbmplY3RlZCByZXNvdXJjZXMgYXJyYXkgKGFkZGl0aW9uYWwgSlMgYW5kIENTUylcclxuICBjb25zdCBpbmplY3RlZFJlc291cmNlcyA9IFtdO1xyXG5cclxuICB0cnkge1xyXG4gICAgbGV0IGlzU1ZHID0gZmFsc2U7XHJcblxyXG4gICAgLy8gRGVjaWRlIG9uIHRoZSBleHBvcnQgbWV0aG9kXHJcbiAgICBpZiAoZXhwb3J0T3B0aW9ucy5zdmcpIHtcclxuICAgICAgbG9nKDQsICdbZXhwb3J0XSBUcmVhdGluZyBhcyBTVkcgaW5wdXQuJyk7XHJcblxyXG4gICAgICAvLyBJZiB0aGUgYHR5cGVgIGlzIGFsc28gU1ZHLCByZXR1cm4gdGhlIGlucHV0XHJcbiAgICAgIGlmIChleHBvcnRPcHRpb25zLnR5cGUgPT09ICdzdmcnKSB7XHJcbiAgICAgICAgcmV0dXJuIGV4cG9ydE9wdGlvbnMuc3ZnO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBNYXJrIGFzIFNWRyBleHBvcnQgZm9yIHRoZSBsYXRlciBzaXplIGNvcnJlY3Rpb25zXHJcbiAgICAgIGlzU1ZHID0gdHJ1ZTtcclxuXHJcbiAgICAgIC8vIFNWRyBleHBvcnRcclxuICAgICAgYXdhaXQgcGFnZS5zZXRDb250ZW50KHN2Z1RlbXBsYXRlKGV4cG9ydE9wdGlvbnMuc3ZnKSwge1xyXG4gICAgICAgIHdhaXRVbnRpbDogJ2RvbWNvbnRlbnRsb2FkZWQnXHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbG9nKDQsICdbZXhwb3J0XSBUcmVhdGluZyBhcyBKU09OIGNvbmZpZy4nKTtcclxuXHJcbiAgICAgIC8vIE9wdGlvbnMgZXhwb3J0XHJcbiAgICAgIGF3YWl0IHBhZ2UuZXZhbHVhdGUoY3JlYXRlQ2hhcnQsIGV4cG9ydE9wdGlvbnMsIGN1c3RvbUxvZ2ljT3B0aW9ucyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gS2VlcHMgdHJhY2sgb2YgYWxsIHJlc291cmNlcyBhZGRlZCBvbiB0aGUgcGFnZSB3aXRoIGFkZFhYWFRhZy4gZXRjXHJcbiAgICAvLyBJdCdzIFZJVEFMIHRoYXQgYWxsIGFkZGVkIHJlc291cmNlcyBlbmRzIHVwIGhlcmUgc28gd2UgY2FuIGNsZWFyIHRoaW5nc1xyXG4gICAgLy8gb3V0IHdoZW4gZG9pbmcgYSBuZXcgZXhwb3J0IGluIHRoZSBzYW1lIHBhZ2UhXHJcbiAgICBpbmplY3RlZFJlc291cmNlcy5wdXNoKFxyXG4gICAgICAuLi4oYXdhaXQgYWRkUGFnZVJlc291cmNlcyhwYWdlLCBjdXN0b21Mb2dpY09wdGlvbnMpKVxyXG4gICAgKTtcclxuXHJcbiAgICAvLyBHZXQgdGhlIHJlYWwgY2hhcnQgc2l6ZSBhbmQgc2V0IHRoZSB6b29tIGFjY29yZGluZ2x5XHJcbiAgICBjb25zdCBzaXplID0gYXdhaXQgX2dldENoYXJ0U2l6ZShwYWdlLCBpc1NWRywgZXhwb3J0T3B0aW9ucy5zY2FsZSk7XHJcblxyXG4gICAgLy8gR2V0IHRoZSBjbGlwIHJlZ2lvbiBmb3IgdGhlIHBhZ2VcclxuICAgIGNvbnN0IHsgeCwgeSB9ID0gYXdhaXQgX2dldENsaXBSZWdpb24ocGFnZSk7XHJcblxyXG4gICAgLy8gU2V0IGZpbmFsIGBoZWlnaHRgIGZvciB2aWV3cG9ydFxyXG4gICAgY29uc3Qgdmlld3BvcnRIZWlnaHQgPSBNYXRoLmFicyhcclxuICAgICAgTWF0aC5jZWlsKHNpemUuY2hhcnRIZWlnaHQgfHwgZXhwb3J0T3B0aW9ucy5oZWlnaHQpXHJcbiAgICApO1xyXG5cclxuICAgIC8vIFNldCBmaW5hbCBgd2lkdGhgIGZvciB2aWV3cG9ydFxyXG4gICAgY29uc3Qgdmlld3BvcnRXaWR0aCA9IE1hdGguYWJzKFxyXG4gICAgICBNYXRoLmNlaWwoc2l6ZS5jaGFydFdpZHRoIHx8IGV4cG9ydE9wdGlvbnMud2lkdGgpXHJcbiAgICApO1xyXG5cclxuICAgIC8vIFNldCB0aGUgZmluYWwgdmlld3BvcnQgbm93IHRoYXQgd2UgaGF2ZSB0aGUgcmVhbCBoZWlnaHRcclxuICAgIGF3YWl0IHBhZ2Uuc2V0Vmlld3BvcnQoe1xyXG4gICAgICBoZWlnaHQ6IHZpZXdwb3J0SGVpZ2h0LFxyXG4gICAgICB3aWR0aDogdmlld3BvcnRXaWR0aCxcclxuICAgICAgZGV2aWNlU2NhbGVGYWN0b3I6IGlzU1ZHID8gMSA6IHBhcnNlRmxvYXQoZXhwb3J0T3B0aW9ucy5zY2FsZSlcclxuICAgIH0pO1xyXG5cclxuICAgIGxldCByZXN1bHQ7XHJcbiAgICAvLyBSYXN0ZXJpemF0aW9uIHByb2Nlc3NcclxuICAgIHN3aXRjaCAoZXhwb3J0T3B0aW9ucy50eXBlKSB7XHJcbiAgICAgIGNhc2UgJ3N2Zyc6XHJcbiAgICAgICAgcmVzdWx0ID0gYXdhaXQgX2NyZWF0ZVNWRyhwYWdlKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAncG5nJzpcclxuICAgICAgY2FzZSAnanBlZyc6XHJcbiAgICAgICAgcmVzdWx0ID0gYXdhaXQgX2NyZWF0ZUltYWdlKFxyXG4gICAgICAgICAgcGFnZSxcclxuICAgICAgICAgIGV4cG9ydE9wdGlvbnMudHlwZSxcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgd2lkdGg6IHZpZXdwb3J0V2lkdGgsXHJcbiAgICAgICAgICAgIGhlaWdodDogdmlld3BvcnRIZWlnaHQsXHJcbiAgICAgICAgICAgIHgsXHJcbiAgICAgICAgICAgIHlcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBleHBvcnRPcHRpb25zLnJhc3Rlcml6YXRpb25UaW1lb3V0XHJcbiAgICAgICAgKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAncGRmJzpcclxuICAgICAgICByZXN1bHQgPSBhd2FpdCBfY3JlYXRlUERGKFxyXG4gICAgICAgICAgcGFnZSxcclxuICAgICAgICAgIHZpZXdwb3J0SGVpZ2h0LFxyXG4gICAgICAgICAgdmlld3BvcnRXaWR0aCxcclxuICAgICAgICAgIGV4cG9ydE9wdGlvbnMucmFzdGVyaXphdGlvblRpbWVvdXRcclxuICAgICAgICApO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHRocm93IG5ldyBFeHBvcnRFcnJvcihcclxuICAgICAgICAgIGBbZXhwb3J0XSBVbnN1cHBvcnRlZCBvdXRwdXQgZm9ybWF0OiAke2V4cG9ydE9wdGlvbnMudHlwZX0uYCxcclxuICAgICAgICAgIDQwMFxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2xlYXIgcHJldmlvdXNseSBpbmplY3RlZCBKUyBhbmQgQ1NTIHJlc291cmNlc1xyXG4gICAgYXdhaXQgY2xlYXJQYWdlUmVzb3VyY2VzKHBhZ2UsIGluamVjdGVkUmVzb3VyY2VzKTtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGF3YWl0IGNsZWFyUGFnZVJlc291cmNlcyhwYWdlLCBpbmplY3RlZFJlc291cmNlcyk7XHJcbiAgICByZXR1cm4gZXJyb3I7XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogUmV0cmlldmVzIHRoZSBjbGlwcGluZyByZWdpb24gY29vcmRpbmF0ZXMgb2YgdGhlIHNwZWNpZmllZCBwYWdlIGVsZW1lbnRcclxuICogd2l0aCB0aGUgJ2NoYXJ0LWNvbnRhaW5lcicgaWQuXHJcbiAqXHJcbiAqIEBhc3luY1xyXG4gKiBAZnVuY3Rpb24gX2dldENsaXBSZWdpb25cclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IHBhZ2UgLSBQdXBwZXRlZXIgcGFnZSBvYmplY3QuXHJcbiAqXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD59IEEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGFuIG9iamVjdCBjb250YWluaW5nXHJcbiAqIGB4YCwgYHlgLCBgd2lkdGhgLCBhbmQgYGhlaWdodGAgcHJvcGVydGllcy5cclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIF9nZXRDbGlwUmVnaW9uKHBhZ2UpIHtcclxuICByZXR1cm4gcGFnZS4kZXZhbCgnI2NoYXJ0LWNvbnRhaW5lcicsIChlbGVtZW50KSA9PiB7XHJcbiAgICBjb25zdCB7IHgsIHksIHdpZHRoLCBoZWlnaHQgfSA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB4LFxyXG4gICAgICB5LFxyXG4gICAgICB3aWR0aCxcclxuICAgICAgaGVpZ2h0OiBNYXRoLnRydW5jKGhlaWdodCA+IDEgPyBoZWlnaHQgOiA1MDApXHJcbiAgICB9O1xyXG4gIH0pO1xyXG59XHJcblxyXG4vKipcclxuICogUmV0cmlldmVzIHRoZSByZWFsIGNoYXJ0IGRpbWVuc2lvbnMgZnJvbSBhIFB1cHBldGVlciBwYWdlLiBUaGUgZnVuY3Rpb25cclxuICogYmVoYXZlcyBkaWZmZXJlbnRseSBiYXNlZCBvbiB3aGV0aGVyIHRoZSBleHBvcnQgdHlwZSBpcyBTVkcgb3IgYW5vdGhlclxyXG4gKiBmb3JtYXQuXHJcbiAqXHJcbiAqIEBhc3luY1xyXG4gKiBAZnVuY3Rpb24gX2dldENoYXJ0U2l6ZVxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gcGFnZSAtIFB1cHBldGVlciBwYWdlIG9iamVjdC5cclxuICogQHBhcmFtIHtib29sZWFufSBpc1NWRyAtIERldGVybWluZXMgd2hldGhlciB0aGUgY2hhcnQgYmVpbmcgcHJvY2Vzc2VkXHJcbiAqIGlzIGFuIFNWRyBvciBhbm90aGVyIGZvcm1hdC5cclxuICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlIC0gVGhlIHNjYWxlIGZhY3RvciB0byBiZSBhcHBsaWVkIHRvIHRoZSBjaGFydFxyXG4gKiBkaW1lbnNpb25zLlxyXG4gKlxyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fSBBIFByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhbiBvYmplY3QgY29udGFpbmluZ1xyXG4gKiB0aGUgYWN0dWFsIGhlaWdodCBhbmQgd2lkdGggb2YgdGhlIGNoYXJ0IGFmdGVyIHNjYWxpbmcuXHJcbiAqL1xyXG5hc3luYyBmdW5jdGlvbiBfZ2V0Q2hhcnRTaXplKHBhZ2UsIGlzU1ZHLCBzY2FsZSkge1xyXG4gIC8vIFRyaWdnZXIgYXBwcm9wcmlhdGUgZnVuY3Rpb24gYmFzZWQgb24gdGhlIGBpc1N2Z2AgZmxhZyB0byBnZXQgY2hhcnQgc2l6ZVxyXG4gIHJldHVybiBpc1NWR1xyXG4gICAgPyBhd2FpdCBwYWdlLmV2YWx1YXRlKChzY2FsZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHN2Z0VsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAgICAgJyNjaGFydC1jb250YWluZXIgc3ZnOmZpcnN0LW9mLXR5cGUnXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgLy8gR2V0IHRoZSB2YWx1ZXMgY29ycmVjdGx5IHNjYWxlZFxyXG4gICAgICAgIGNvbnN0IGNoYXJ0SGVpZ2h0ID0gc3ZnRWxlbWVudC5oZWlnaHQuYmFzZVZhbC52YWx1ZSAqIHNjYWxlO1xyXG4gICAgICAgIGNvbnN0IGNoYXJ0V2lkdGggPSBzdmdFbGVtZW50LndpZHRoLmJhc2VWYWwudmFsdWUgKiBzY2FsZTtcclxuXHJcbiAgICAgICAgLy8gSW4gY2FzZSBvZiBTVkcgdGhlIHpvb20gbXVzdCBiZSBzZXQgZGlyZWN0bHkgZm9yIGJvZHkgYXMgc2NhbGVcclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnpvb20gPSBzY2FsZTtcclxuXHJcbiAgICAgICAgLy8gU2V0IHRoZSBtYXJnaW4gdG8gMHB4XHJcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5tYXJnaW4gPSAnMHB4JztcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIGNoYXJ0SGVpZ2h0LFxyXG4gICAgICAgICAgY2hhcnRXaWR0aFxyXG4gICAgICAgIH07XHJcbiAgICAgIH0sIHBhcnNlRmxvYXQoc2NhbGUpKVxyXG4gICAgOiBhd2FpdCBwYWdlLmV2YWx1YXRlKCgpID0+IHtcclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcclxuICAgICAgICBjb25zdCB7IGNoYXJ0SGVpZ2h0LCBjaGFydFdpZHRoIH0gPSB3aW5kb3cuSGlnaGNoYXJ0cy5jaGFydHNbMF07XHJcblxyXG4gICAgICAgIC8vIE5vIG5lZWQgZm9yIHN1Y2ggc2NhbGUgbWFuaXB1bGF0aW9uIGluIGNhc2Ugb2Ygb3RoZXIgdHlwZXNcclxuICAgICAgICAvLyBvZiBleHBvcnRzLiBSZXNldCB0aGUgem9vbSBmb3Igb3RoZXIgZXhwb3J0cyB0aGFuIHRvIFNWR3NcclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnpvb20gPSAxO1xyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgY2hhcnRIZWlnaHQsXHJcbiAgICAgICAgICBjaGFydFdpZHRoXHJcbiAgICAgICAgfTtcclxuICAgICAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDcmVhdGVzIGFuIFNWRyBieSBldmFsdWF0aW5nIHRoZSBgb3V0ZXJIVE1MYCBvZiB0aGUgZmlyc3QgJ3N2ZycgZWxlbWVudFxyXG4gKiBpbnNpZGUgYW4gZWxlbWVudCB3aXRoIHRoZSBpZCAnY29udGFpbmVyJy5cclxuICpcclxuICogQGFzeW5jXHJcbiAqIEBmdW5jdGlvbiBfY3JlYXRlU1ZHXHJcbiAqXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBwYWdlIC0gUHVwcGV0ZWVyIHBhZ2Ugb2JqZWN0LlxyXG4gKlxyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fSBBIFByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgU1ZHIHN0cmluZy5cclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIF9jcmVhdGVTVkcocGFnZSkge1xyXG4gIHJldHVybiBwYWdlLiRldmFsKFxyXG4gICAgJyNjb250YWluZXIgc3ZnOmZpcnN0LW9mLXR5cGUnLFxyXG4gICAgKGVsZW1lbnQpID0+IGVsZW1lbnQub3V0ZXJIVE1MXHJcbiAgKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIENyZWF0ZXMgYW4gaW1hZ2UgdXNpbmcgUHVwcGV0ZWVyJ3MgcGFnZSBgc2NyZWVuc2hvdGAgZnVuY3Rpb25hbGl0eSB3aXRoXHJcbiAqIHNwZWNpZmllZCBvcHRpb25zLlxyXG4gKlxyXG4gKiBAYXN5bmNcclxuICogQGZ1bmN0aW9uIF9jcmVhdGVJbWFnZVxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gcGFnZSAtIFB1cHBldGVlciBwYWdlIG9iamVjdC5cclxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBJbWFnZSB0eXBlLlxyXG4gKiBAcGFyYW0ge09iamVjdH0gY2xpcCAtIENsaXBwaW5nIHJlZ2lvbiBjb29yZGluYXRlcy5cclxuICogQHBhcmFtIHtudW1iZXJ9IHJhc3Rlcml6YXRpb25UaW1lb3V0IC0gVGltZW91dCBmb3IgcmFzdGVyaXphdGlvblxyXG4gKiBpbiBtaWxsaXNlY29uZHMuXHJcbiAqXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPEJ1ZmZlcj59IEEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIHRoZSBpbWFnZSBidWZmZXJcclxuICogb3IgcmVqZWN0aW5nIHdpdGggYW4gYEV4cG9ydEVycm9yYCBmb3IgdGltZW91dC5cclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIF9jcmVhdGVJbWFnZShwYWdlLCB0eXBlLCBjbGlwLCByYXN0ZXJpemF0aW9uVGltZW91dCkge1xyXG4gIHJldHVybiBQcm9taXNlLnJhY2UoW1xyXG4gICAgcGFnZS5zY3JlZW5zaG90KHtcclxuICAgICAgdHlwZSxcclxuICAgICAgY2xpcCxcclxuICAgICAgZW5jb2Rpbmc6ICdiYXNlNjQnLFxyXG4gICAgICBmdWxsUGFnZTogZmFsc2UsXHJcbiAgICAgIG9wdGltaXplRm9yU3BlZWQ6IHRydWUsXHJcbiAgICAgIGNhcHR1cmVCZXlvbmRWaWV3cG9ydDogdHJ1ZSxcclxuICAgICAgLi4uKHR5cGUgIT09ICdwbmcnID8geyBxdWFsaXR5OiA4MCB9IDoge30pLFxyXG4gICAgICAvLyBBbHdheXMgcmVuZGVyIG9uIGEgdHJhbnNwYXJlbnQgcGFnZSBpZiB0aGUgZXhwZWN0ZWQgdHlwZSBmb3JtYXQgaXMgUE5HXHJcbiAgICAgIG9taXRCYWNrZ3JvdW5kOiB0eXBlID09ICdwbmcnIC8vICM0NDcsICM0NjNcclxuICAgIH0pLFxyXG4gICAgbmV3IFByb21pc2UoKF9yZXNvbHZlLCByZWplY3QpID0+XHJcbiAgICAgIHNldFRpbWVvdXQoXHJcbiAgICAgICAgKCkgPT4gcmVqZWN0KG5ldyBFeHBvcnRFcnJvcignUmFzdGVyaXphdGlvbiB0aW1lb3V0JywgNDA4KSksXHJcbiAgICAgICAgcmFzdGVyaXphdGlvblRpbWVvdXQgfHwgMTUwMFxyXG4gICAgICApXHJcbiAgICApXHJcbiAgXSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgUERGIHVzaW5nIFB1cHBldGVlcidzIHBhZ2UgYHBkZmAgZnVuY3Rpb25hbGl0eSB3aXRoIHNwZWNpZmllZFxyXG4gKiBvcHRpb25zLlxyXG4gKlxyXG4gKiBAYXN5bmNcclxuICogQGZ1bmN0aW9uIF9jcmVhdGVQREZcclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IHBhZ2UgLSBQdXBwZXRlZXIgcGFnZSBvYmplY3QuXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBQREYgaGVpZ2h0LlxyXG4gKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBQREYgd2lkdGguXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSByYXN0ZXJpemF0aW9uVGltZW91dCAtIFRpbWVvdXQgZm9yIHJhc3Rlcml6YXRpb25cclxuICogaW4gbWlsbGlzZWNvbmRzLlxyXG4gKlxyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxCdWZmZXI+fSBBIFByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgUERGIGJ1ZmZlci5cclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIF9jcmVhdGVQREYocGFnZSwgaGVpZ2h0LCB3aWR0aCwgcmFzdGVyaXphdGlvblRpbWVvdXQpIHtcclxuICBhd2FpdCBwYWdlLmVtdWxhdGVNZWRpYVR5cGUoJ3NjcmVlbicpO1xyXG4gIHJldHVybiBwYWdlLnBkZih7XHJcbiAgICAvLyBUaGlzIHdpbGwgcmVtb3ZlIGFuIGV4dHJhIGVtcHR5IHBhZ2UgaW4gUERGIGV4cG9ydHNcclxuICAgIGhlaWdodDogaGVpZ2h0ICsgMSxcclxuICAgIHdpZHRoLFxyXG4gICAgZW5jb2Rpbmc6ICdiYXNlNjQnLFxyXG4gICAgdGltZW91dDogcmFzdGVyaXphdGlvblRpbWVvdXQgfHwgMTUwMFxyXG4gIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgcHVwcGV0ZWVyRXhwb3J0XHJcbn07XHJcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcblxyXG5IaWdoY2hhcnRzIEV4cG9ydCBTZXJ2ZXJcclxuXHJcbkNvcHlyaWdodCAoYykgMjAxNi0yMDI1LCBIaWdoc29mdFxyXG5cclxuTGljZW5jZWQgdW5kZXIgdGhlIE1JVCBsaWNlbmNlLlxyXG5cclxuQWRkaXRpb25hbGx5IGEgdmFsaWQgSGlnaGNoYXJ0cyBsaWNlbnNlIGlzIHJlcXVpcmVkIGZvciB1c2UuXHJcblxyXG5TZWUgTElDRU5TRSBmaWxlIGluIHJvb3QgZm9yIGRldGFpbHMuXHJcblxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuLyoqXHJcbiAqIEBvdmVydmlldyBUaGlzIG1vZHVsZSBwcm92aWRlcyBhIHdvcmtlciBwb29sIGltcGxlbWVudGF0aW9uIGZvciBtYW5hZ2luZ1xyXG4gKiB0aGUgYnJvd3NlciBpbnN0YW5jZSBhbmQgcGFnZXMsIHNwZWNpZmljYWxseSBkZXNpZ25lZCBmb3IgdXNlIHdpdGhcclxuICogdGhlIEhpZ2hjaGFydHMgRXhwb3J0IFNlcnZlci4gSXQgb3B0aW1pemVzIHJlc291cmNlcyB1c2FnZSBhbmQgcGVyZm9ybWFuY2VcclxuICogYnkgbWFpbnRhaW5pbmcgYSBwb29sIG9mIHdvcmtlcnMgdGhhdCBjYW4gaGFuZGxlIGNvbmN1cnJlbnQgZXhwb3J0IHRhc2tzXHJcbiAqIHVzaW5nIFB1cHBldGVlci5cclxuICovXHJcblxyXG5pbXBvcnQgeyBQb29sIH0gZnJvbSAndGFybic7XHJcbmltcG9ydCB7IHY0IGFzIHV1aWQgfSBmcm9tICd1dWlkJztcclxuXHJcbmltcG9ydCB7IGNyZWF0ZUJyb3dzZXIsIGNsb3NlQnJvd3NlciwgbmV3UGFnZSwgY2xlYXJQYWdlIH0gZnJvbSAnLi9icm93c2VyLmpzJztcclxuaW1wb3J0IHsgcHVwcGV0ZWVyRXhwb3J0IH0gZnJvbSAnLi9leHBvcnQuanMnO1xyXG5pbXBvcnQgeyBsb2csIGxvZ1dpdGhTdGFjayB9IGZyb20gJy4vbG9nZ2VyLmpzJztcclxuaW1wb3J0IHsgZ2V0TmV3RGF0ZVRpbWUsIG1lYXN1cmVUaW1lIH0gZnJvbSAnLi91dGlscy5qcyc7XHJcblxyXG5pbXBvcnQgRXhwb3J0RXJyb3IgZnJvbSAnLi9lcnJvcnMvRXhwb3J0RXJyb3IuanMnO1xyXG5cclxuLy8gVGhlIHBvb2wgaW5zdGFuY2VcclxubGV0IHBvb2wgPSBudWxsO1xyXG5cclxuLy8gUG9vbCBzdGF0aXN0aWNzXHJcbmNvbnN0IHBvb2xTdGF0cyA9IHtcclxuICBleHBvcnRzQXR0ZW1wdGVkOiAwLFxyXG4gIGV4cG9ydHNQZXJmb3JtZWQ6IDAsXHJcbiAgZXhwb3J0c0Ryb3BwZWQ6IDAsXHJcbiAgZXhwb3J0c0Zyb21Tdmc6IDAsXHJcbiAgZXhwb3J0c0Zyb21PcHRpb25zOiAwLFxyXG4gIGV4cG9ydHNGcm9tU3ZnQXR0ZW1wdHM6IDAsXHJcbiAgZXhwb3J0c0Zyb21PcHRpb25zQXR0ZW1wdHM6IDAsXHJcbiAgdGltZVNwZW50OiAwLFxyXG4gIHRpbWVTcGVudEF2ZXJhZ2U6IDBcclxufTtcclxuXHJcbi8qKlxyXG4gKiBJbml0aWFsaXplcyB0aGUgZXhwb3J0IHBvb2wgd2l0aCB0aGUgcHJvdmlkZWQgY29uZmlndXJhdGlvbiwgY3JlYXRpbmdcclxuICogYSBicm93c2VyIGluc3RhbmNlIGFuZCBzZXR0aW5nIHVwIHdvcmtlciByZXNvdXJjZXMuXHJcbiAqXHJcbiAqIEBhc3luY1xyXG4gKiBAZnVuY3Rpb24gaW5pdFBvb2xcclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IHBvb2xPcHRpb25zIC0gVGhlIGNvbmZpZ3VyYXRpb24gb2JqZWN0IGNvbnRhaW5pbmcgYHBvb2xgXHJcbiAqIG9wdGlvbnMuXHJcbiAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gcHVwcGV0ZWVyQXJncyAtIEFkZGl0aW9uYWwgYXJndW1lbnRzIGZvciBQdXBwZXRlZXJcclxuICogbGF1bmNoLlxyXG4gKlxyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gQSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gZW5kaW5nIHRoZSBmdW5jdGlvblxyXG4gKiBleGVjdXRpb24gd2hlbiBhbiBhbHJlYWR5IGluaXRpYWxpemVkIHBvb2wgb2YgcmVzb3VyY2VzIGlzIGZvdW5kLlxyXG4gKlxyXG4gKiBAdGhyb3dzIHtFeHBvcnRFcnJvcn0gVGhyb3dzIGFuIGBFeHBvcnRFcnJvcmAgaWYgY291bGQgbm90IGNyZWF0ZSB0aGUgcG9vbFxyXG4gKiBvZiB3b3JrZXJzLlxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGluaXRQb29sKHBvb2xPcHRpb25zLCBwdXBwZXRlZXJBcmdzKSB7XHJcbiAgLy8gQ3JlYXRlIGEgYnJvd3NlciBpbnN0YW5jZSB3aXRoIHRoZSBwdXBwZXRlZXIgYXJndW1lbnRzXHJcbiAgYXdhaXQgY3JlYXRlQnJvd3NlcihwdXBwZXRlZXJBcmdzKTtcclxuXHJcbiAgdHJ5IHtcclxuICAgIGxvZyhcclxuICAgICAgMyxcclxuICAgICAgYFtwb29sXSBJbml0aWFsaXppbmcgcG9vbCB3aXRoIHdvcmtlcnM6IG1pbiAke3Bvb2xPcHRpb25zLm1pbldvcmtlcnN9LCBtYXggJHtwb29sT3B0aW9ucy5tYXhXb3JrZXJzfS5gXHJcbiAgICApO1xyXG5cclxuICAgIGlmIChwb29sKSB7XHJcbiAgICAgIGxvZyhcclxuICAgICAgICA0LFxyXG4gICAgICAgICdbcG9vbF0gQWxyZWFkeSBpbml0aWFsaXplZCwgcGxlYXNlIGtpbGwgaXQgYmVmb3JlIGNyZWF0aW5nIGEgbmV3IG9uZS4nXHJcbiAgICAgICk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBLZWVwIGFuIGV5ZSBvbiBhIGNvcnJlY3QgbWluIGFuZCBtYXggd29ya2VycyBudW1iZXJcclxuICAgIGlmIChwb29sT3B0aW9ucy5taW5Xb3JrZXJzID4gcG9vbE9wdGlvbnMubWF4V29ya2Vycykge1xyXG4gICAgICBwb29sT3B0aW9ucy5taW5Xb3JrZXJzID0gcG9vbE9wdGlvbnMubWF4V29ya2VycztcclxuICAgIH1cclxuXHJcbiAgICAvLyBDcmVhdGUgYSBwb29sIGFsb25nIHdpdGggYSBtaW5pbWFsIG51bWJlciBvZiByZXNvdXJjZXNcclxuICAgIHBvb2wgPSBuZXcgUG9vbCh7XHJcbiAgICAgIC8vIEdldCB0aGUgYGNyZWF0ZWAsIGB2YWxpZGF0ZWAsIGFuZCBgZGVzdHJveWAgZnVuY3Rpb25zXHJcbiAgICAgIC4uLl9mYWN0b3J5KHBvb2xPcHRpb25zKSxcclxuICAgICAgbWluOiBwb29sT3B0aW9ucy5taW5Xb3JrZXJzLFxyXG4gICAgICBtYXg6IHBvb2xPcHRpb25zLm1heFdvcmtlcnMsXHJcbiAgICAgIGFjcXVpcmVUaW1lb3V0TWlsbGlzOiBwb29sT3B0aW9ucy5hY3F1aXJlVGltZW91dCxcclxuICAgICAgY3JlYXRlVGltZW91dE1pbGxpczogcG9vbE9wdGlvbnMuY3JlYXRlVGltZW91dCxcclxuICAgICAgZGVzdHJveVRpbWVvdXRNaWxsaXM6IHBvb2xPcHRpb25zLmRlc3Ryb3lUaW1lb3V0LFxyXG4gICAgICBpZGxlVGltZW91dE1pbGxpczogcG9vbE9wdGlvbnMuaWRsZVRpbWVvdXQsXHJcbiAgICAgIGNyZWF0ZVJldHJ5SW50ZXJ2YWxNaWxsaXM6IHBvb2xPcHRpb25zLmNyZWF0ZVJldHJ5SW50ZXJ2YWwsXHJcbiAgICAgIHJlYXBJbnRlcnZhbE1pbGxpczogcG9vbE9wdGlvbnMucmVhcGVySW50ZXJ2YWwsXHJcbiAgICAgIHByb3BhZ2F0ZUNyZWF0ZUVycm9yOiBmYWxzZVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gU2V0IGV2ZW50c1xyXG4gICAgcG9vbC5vbigncmVsZWFzZScsIGFzeW5jIChyZXNvdXJjZSkgPT4ge1xyXG4gICAgICAvLyBDbGVhciBwYWdlXHJcbiAgICAgIGNvbnN0IGNsZWFyU3RhdHVzID0gYXdhaXQgY2xlYXJQYWdlKHJlc291cmNlLCBmYWxzZSk7XHJcbiAgICAgIGxvZyhcclxuICAgICAgICA0LFxyXG4gICAgICAgIGBbcG9vbF0gUG9vbCByZXNvdXJjZSBbJHtyZXNvdXJjZS5pZH1dIC0gUmVsZWFzaW5nIGEgd29ya2VyLiBDbGVhciBwYWdlIHN0YXR1czogJHtjbGVhclN0YXR1c30uYFxyXG4gICAgICApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcG9vbC5vbignZGVzdHJveVN1Y2Nlc3MnLCAoX2V2ZW50SWQsIHJlc291cmNlKSA9PiB7XHJcbiAgICAgIGxvZyhcclxuICAgICAgICA0LFxyXG4gICAgICAgIGBbcG9vbF0gUG9vbCByZXNvdXJjZSBbJHtyZXNvdXJjZS5pZH1dIC0gRGVzdHJveWVkIGEgd29ya2VyIHN1Y2Nlc3NmdWxseS5gXHJcbiAgICAgICk7XHJcbiAgICAgIHJlc291cmNlLnBhZ2UgPSBudWxsO1xyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgaW5pdGlhbFJlc291cmNlcyA9IFtdO1xyXG4gICAgLy8gQ3JlYXRlIGFuIGluaXRpYWwgbnVtYmVyIG9mIHJlc291cmNlc1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb29sT3B0aW9ucy5taW5Xb3JrZXJzOyBpKyspIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCByZXNvdXJjZSA9IGF3YWl0IHBvb2wuYWNxdWlyZSgpLnByb21pc2U7XHJcbiAgICAgICAgaW5pdGlhbFJlc291cmNlcy5wdXNoKHJlc291cmNlKTtcclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBsb2dXaXRoU3RhY2soMiwgZXJyb3IsICdbcG9vbF0gQ291bGQgbm90IGNyZWF0ZSBhbiBpbml0aWFsIHJlc291cmNlLicpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVsZWFzZSB0aGUgaW5pdGlhbCBudW1iZXIgb2YgcmVzb3VyY2VzIGJhY2sgdG8gdGhlIHBvb2xcclxuICAgIGluaXRpYWxSZXNvdXJjZXMuZm9yRWFjaCgocmVzb3VyY2UpID0+IHtcclxuICAgICAgcG9vbC5yZWxlYXNlKHJlc291cmNlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGxvZyhcclxuICAgICAgMyxcclxuICAgICAgYFtwb29sXSBUaGUgcG9vbCBpcyByZWFkeSR7aW5pdGlhbFJlc291cmNlcy5sZW5ndGggPyBgIHdpdGggJHtpbml0aWFsUmVzb3VyY2VzLmxlbmd0aH0gaW5pdGlhbCByZXNvdXJjZXMgd2FpdGluZy5gIDogJy4nfWBcclxuICAgICk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHRocm93IG5ldyBFeHBvcnRFcnJvcihcclxuICAgICAgJ1twb29sXSBDb3VsZCBub3QgY29uZmlndXJlIGFuZCBjcmVhdGUgdGhlIHBvb2wgb2Ygd29ya2Vycy4nLFxyXG4gICAgICA1MDBcclxuICAgICkuc2V0RXJyb3IoZXJyb3IpO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIFRlcm1pbmF0ZXMgYWxsIHdvcmtlcnMgaW4gdGhlIHBvb2wsIGRlc3Ryb3lzIHRoZSBwb29sLCBhbmQgY2xvc2VzIHRoZSBicm93c2VyXHJcbiAqIGluc3RhbmNlLlxyXG4gKlxyXG4gKiBAYXN5bmNcclxuICogQGZ1bmN0aW9uIGtpbGxQb29sXHJcbiAqXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBBIFByb21pc2UgdGhhdCByZXNvbHZlcyBvbmNlIGFsbCB3b3JrZXJzIGFyZVxyXG4gKiB0ZXJtaW5hdGVkLCB0aGUgcG9vbCBpcyBkZXN0cm95ZWQsIGFuZCB0aGUgYnJvd3NlciBpcyBzdWNjZXNzZnVsbHkgY2xvc2VkLlxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGtpbGxQb29sKCkge1xyXG4gIGxvZygzLCAnW3Bvb2xdIEtpbGxpbmcgcG9vbCB3aXRoIGFsbCB3b3JrZXJzIGFuZCBjbG9zaW5nIGJyb3dzZXIuJyk7XHJcblxyXG4gIC8vIElmIHN0aWxsIGFsaXZlLCBkZXN0cm95IHRoZSBwb29sIG9mIHBhZ2VzIGJlZm9yZSBjbG9zaW5nIGEgYnJvd3NlclxyXG4gIGlmIChwb29sKSB7XHJcbiAgICAvLyBGcmVlIHVwIG5vdCByZWxlYXNlZCB3b3JrZXJzXHJcbiAgICBmb3IgKGNvbnN0IHdvcmtlciBvZiBwb29sLnVzZWQpIHtcclxuICAgICAgcG9vbC5yZWxlYXNlKHdvcmtlci5yZXNvdXJjZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRGVzdHJveSB0aGUgcG9vbCBpZiBpdCBpcyBzdGlsbCBhdmFpbGFibGVcclxuICAgIGlmICghcG9vbC5kZXN0cm95ZWQpIHtcclxuICAgICAgYXdhaXQgcG9vbC5kZXN0cm95KCk7XHJcbiAgICAgIGxvZyg0LCAnW3Bvb2xdIERlc3Ryb3llZCB0aGUgcG9vbCBvZiByZXNvdXJjZXMuJyk7XHJcbiAgICB9XHJcbiAgICBwb29sID0gbnVsbDtcclxuICB9XHJcblxyXG4gIC8vIENsb3NlIHRoZSBicm93c2VyIGluc3RhbmNlXHJcbiAgYXdhaXQgY2xvc2VCcm93c2VyKCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBQcm9jZXNzZXMgdGhlIGV4cG9ydCB3b3JrIHVzaW5nIGEgd29ya2VyIGZyb20gdGhlIHBvb2wuIEFjcXVpcmVzIGEgd29ya2VyXHJcbiAqIGhhbmRsZSBmcm9tIHRoZSBwb29sLCBwZXJmb3JtcyB0aGUgZXhwb3J0IHVzaW5nIHB1cHBldGVlciwgYW5kIHJlbGVhc2VzXHJcbiAqIHRoZSB3b3JrZXIgaGFuZGxlIGJhY2sgdG8gdGhlIHBvb2wuXHJcbiAqXHJcbiAqIEBhc3luY1xyXG4gKiBAZnVuY3Rpb24gcG9zdFdvcmtcclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBUaGUgY29uZmlndXJhdGlvbiBvYmplY3QgY29udGFpbmluZyBjb21wbGV0ZSBzZXRcclxuICogb2Ygb3B0aW9ucy5cclxuICpcclxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0Pn0gQSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIGV4cG9ydCByZXN1bHRcclxuICogYW5kIG9wdGlvbnMuXHJcbiAqXHJcbiAqIEB0aHJvd3Mge0V4cG9ydEVycm9yfSBUaHJvd3MgYW4gYEV4cG9ydEVycm9yYCBpZiBhbiBlcnJvciBvY2N1cnMgZHVyaW5nXHJcbiAqIHRoZSBleHBvcnQgcHJvY2Vzcy5cclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwb3N0V29yayhvcHRpb25zKSB7XHJcbiAgbGV0IHdvcmtlckhhbmRsZTtcclxuXHJcbiAgdHJ5IHtcclxuICAgIGxvZyg0LCAnW3Bvb2xdIFdvcmsgcmVjZWl2ZWQsIHN0YXJ0aW5nIHRvIHByb2Nlc3MuJyk7XHJcblxyXG4gICAgLy8gQW4gZXhwb3J0IGF0dGVtcHQgY291bnRlZFxyXG4gICAgKytwb29sU3RhdHMuZXhwb3J0c0F0dGVtcHRlZDtcclxuXHJcbiAgICAvLyBEaXNwbGF5IHRoZSBwb29sIGluZm9ybWF0aW9uIGlmIG5lZWRlZFxyXG4gICAgaWYgKG9wdGlvbnMucG9vbC5iZW5jaG1hcmtpbmcpIHtcclxuICAgICAgX2dldFBvb2xJbmZvKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVGhyb3cgYW4gZXJyb3IgaW4gY2FzZSBvZiBsYWNraW5nIHRoZSBwb29sIGluc3RhbmNlXHJcbiAgICBpZiAoIXBvb2wpIHtcclxuICAgICAgdGhyb3cgbmV3IEV4cG9ydEVycm9yKFxyXG4gICAgICAgICdbcG9vbF0gV29yayByZWNlaXZlZCwgYnV0IHBvb2wgaGFzIG5vdCBiZWVuIHN0YXJ0ZWQuJyxcclxuICAgICAgICA1MDBcclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBUaGUgYWNxdWlyZSBjb3VudGVyXHJcbiAgICBjb25zdCBhY3F1aXJlQ291bnRlciA9IG1lYXN1cmVUaW1lKCk7XHJcblxyXG4gICAgLy8gVHJ5IHRvIGFjcXVpcmUgdGhlIHdvcmtlciBhbG9uZyB3aXRoIHRoZSBpZCwgd29ya3MgY291bnQgYW5kIHBhZ2VcclxuICAgIHRyeSB7XHJcbiAgICAgIGxvZyg0LCAnW3Bvb2xdIEFjcXVpcmluZyBhIHdvcmtlciBoYW5kbGUuJyk7XHJcblxyXG4gICAgICAvLyBBY3F1aXJlIGEgcG9vbCByZXNvdXJjZVxyXG4gICAgICB3b3JrZXJIYW5kbGUgPSBhd2FpdCBwb29sLmFjcXVpcmUoKS5wcm9taXNlO1xyXG5cclxuICAgICAgLy8gQ2hlY2sgdGhlIHBhZ2UgYWNxdWlyZSB0aW1lXHJcbiAgICAgIGlmIChvcHRpb25zLnNlcnZlci5iZW5jaG1hcmtpbmcpIHtcclxuICAgICAgICBsb2coXHJcbiAgICAgICAgICA1LFxyXG4gICAgICAgICAgYFtiZW5jaG1hcmtdICR7b3B0aW9ucy5yZXF1ZXN0SWQgPyBgUmVxdWVzdCBbJHtvcHRpb25zLnJlcXVlc3RJZH1dIC0gYCA6ICcnfWAsXHJcbiAgICAgICAgICBgQWNxdWlyaW5nIGEgd29ya2VyIGhhbmRsZSB0b29rICR7YWNxdWlyZUNvdW50ZXIoKX1tcy5gXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgdGhyb3cgbmV3IEV4cG9ydEVycm9yKFxyXG4gICAgICAgIGBbcG9vbF0gJHtcclxuICAgICAgICAgIG9wdGlvbnMucmVxdWVzdElkID8gYFJlcXVlc3QgWyR7b3B0aW9ucy5yZXF1ZXN0SWR9XSAtIGAgOiAnJ1xyXG4gICAgICAgIH1FcnJvciBlbmNvdW50ZXJlZCB3aGVuIGFjcXVpcmluZyBhbiBhdmFpbGFibGUgZW50cnk6ICR7YWNxdWlyZUNvdW50ZXIoKX1tcy5gLFxyXG4gICAgICAgIDQwMFxyXG4gICAgICApLnNldEVycm9yKGVycm9yKTtcclxuICAgIH1cclxuICAgIGxvZyg0LCAnW3Bvb2xdIEFjcXVpcmVkIGEgd29ya2VyIGhhbmRsZS4nKTtcclxuXHJcbiAgICBpZiAoIXdvcmtlckhhbmRsZS5wYWdlKSB7XHJcbiAgICAgIC8vIFNldCB0aGUgYHdvcmtMaW1pdGAgdG8gZXhjZWVkZWQgaW4gb3JkZXIgdG8gcmVjcmVhdGUgdGhlIHJlc291cmNlXHJcbiAgICAgIHdvcmtlckhhbmRsZS53b3JrQ291bnQgPSBvcHRpb25zLnBvb2wud29ya0xpbWl0ICsgMTtcclxuICAgICAgdGhyb3cgbmV3IEV4cG9ydEVycm9yKFxyXG4gICAgICAgICdbcG9vbF0gUmVzb2x2ZWQgd29ya2VyIHBhZ2UgaXMgaW52YWxpZDogdGhlIHBvb2wgc2V0dXAgaXMgd29ua3kuJyxcclxuICAgICAgICA0MDBcclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBsb2coXHJcbiAgICAgIDQsXHJcbiAgICAgIGBbcG9vbF0gUG9vbCByZXNvdXJjZSBbJHt3b3JrZXJIYW5kbGUuaWR9XSAtIFN0YXJ0aW5nIHdvcmsgb24gdGhpcyBwb29sIGVudHJ5LmBcclxuICAgICk7XHJcblxyXG4gICAgLy8gU3RhcnQgbWVhc3VyaW5nIGV4cG9ydCB0aW1lXHJcbiAgICBjb25zdCBleHBvcnRDb3VudGVyID0gbWVhc3VyZVRpbWUoKTtcclxuXHJcbiAgICAvLyBQZXJmb3JtIGFuIGV4cG9ydCBvbiBhIHB1cHBldGVlciBsZXZlbFxyXG4gICAgY29uc3QgZXhwb3J0UmVzdWx0ID0gYXdhaXQgcHVwcGV0ZWVyRXhwb3J0KFxyXG4gICAgICB3b3JrZXJIYW5kbGUucGFnZSxcclxuICAgICAgb3B0aW9ucy5leHBvcnQsXHJcbiAgICAgIG9wdGlvbnMuY3VzdG9tTG9naWNcclxuICAgICk7XHJcblxyXG4gICAgLy8gQ2hlY2sgaWYgaXQncyBhbiBlcnJvclxyXG4gICAgaWYgKGV4cG9ydFJlc3VsdCBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiAgICAgIC8vIE5PVEU6XHJcbiAgICAgIC8vIElmIHRoZXJlJ3MgYSByYXN0ZXJpemF0aW9uIHRpbWVvdXQsIHdlIHdhbnQgbmVlZCB0byBmbHVzaCB0aGUgcGFnZS5cclxuICAgICAgLy8gVGhpcyBpcyBiZWNhdXNlIHRoZSBwYWdlIG1heSBiZSBpbiBhIHN0YXRlIHdoZXJlIGl0J3Mgd2FpdGluZyBmb3JcclxuICAgICAgLy8gdGhlIHNjcmVlbnNob3QgdG8gZmluaXNoIGV2ZW4gdGhvdWdoIHRoZSB0aW1lb3V0IGhhcyBvY2N1cmVkLlxyXG4gICAgICAvLyBXaGljaCBvZiBjb3Vyc2UgY2F1c2VzIGEgbG90IG9mIGlzc3VlcyB3aXRoIHRoZSBldmVudCBzeXN0ZW0sXHJcbiAgICAgIC8vIGFuZCBwYWdlIGNvbnNpc3RlbmN5LlxyXG4gICAgICAvL1xyXG4gICAgICAvLyBPbmx5IGBwYWdlLnNjcmVlbnNob3RgIHdpbGwgdGhyb3cgdGhpcywgdGltZW91dHMgZm9yIFBERidzIGFyZVxyXG4gICAgICAvLyBoYW5kbGVkIGJ5IHRoZSBgcGFnZS5wZGZgIGZ1bmN0aW9uIGl0c2VsZi5cclxuICAgICAgLy9cclxuICAgICAgLy8gLi4ueWVzLCB0aGlzIGlzIHVnbHkuXHJcbiAgICAgIGlmIChleHBvcnRSZXN1bHQubWVzc2FnZSA9PT0gJ1Jhc3Rlcml6YXRpb24gdGltZW91dCcpIHtcclxuICAgICAgICAvLyBTZXQgdGhlIGB3b3JrTGltaXRgIHRvIGV4Y2VlZGVkIGluIG9yZGVyIHRvIHJlY3JlYXRlIHRoZSByZXNvdXJjZVxyXG4gICAgICAgIHdvcmtlckhhbmRsZS53b3JrQ291bnQgPSBvcHRpb25zLnBvb2wud29ya0xpbWl0ICsgMTtcclxuICAgICAgICB3b3JrZXJIYW5kbGUucGFnZSA9IG51bGw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChcclxuICAgICAgICBleHBvcnRSZXN1bHQubmFtZSA9PT0gJ1RpbWVvdXRFcnJvcicgfHxcclxuICAgICAgICBleHBvcnRSZXN1bHQubWVzc2FnZSA9PT0gJ1Jhc3Rlcml6YXRpb24gdGltZW91dCdcclxuICAgICAgKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEV4cG9ydEVycm9yKFxyXG4gICAgICAgICAgYFtwb29sXSAke1xyXG4gICAgICAgICAgICBvcHRpb25zLnJlcXVlc3RJZCA/IGBSZXF1ZXN0IFske29wdGlvbnMucmVxdWVzdElkfV0gLSBgIDogJydcclxuICAgICAgICAgIH1SYXN0ZXJpemF0aW9uIHRpbWVvdXQ6IHlvdXIgY2hhcnQgbWF5IGJlIHRvbyBjb21wbGV4IG9yIGxhcmdlLCBhbmQgZmFpbGVkIHRvIHJlbmRlciB3aXRoaW4gdGhlIGFsbG90dGVkIHRpbWUuYFxyXG4gICAgICAgICkuc2V0RXJyb3IoZXhwb3J0UmVzdWx0KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXhwb3J0RXJyb3IoXHJcbiAgICAgICAgICBgW3Bvb2xdICR7XHJcbiAgICAgICAgICAgIG9wdGlvbnMucmVxdWVzdElkID8gYFJlcXVlc3QgWyR7b3B0aW9ucy5yZXF1ZXN0SWR9XSAtIGAgOiAnJ1xyXG4gICAgICAgICAgfUVycm9yIGVuY291bnRlcmVkIGR1cmluZyBleHBvcnQ6ICR7ZXhwb3J0Q291bnRlcigpfW1zLmBcclxuICAgICAgICApLnNldEVycm9yKGV4cG9ydFJlc3VsdCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBDaGVjayB0aGUgUHVwcGV0ZWVyIGV4cG9ydCB0aW1lXHJcbiAgICBpZiAob3B0aW9ucy5zZXJ2ZXIuYmVuY2htYXJraW5nKSB7XHJcbiAgICAgIGxvZyhcclxuICAgICAgICA1LFxyXG4gICAgICAgIGBbYmVuY2htYXJrXSAke29wdGlvbnMucmVxdWVzdElkID8gYFJlcXVlc3QgWyR7b3B0aW9ucy5yZXF1ZXN0SWR9XSAtIGAgOiAnJ31gLFxyXG4gICAgICAgIGBFeHBvcnRpbmcgYSBjaGFydCBzdWNlc3NmdWxseSB0b29rICR7ZXhwb3J0Q291bnRlcigpfW1zLmBcclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZWxlYXNlIHRoZSByZXNvdXJjZSBiYWNrIHRvIHRoZSBwb29sXHJcbiAgICBwb29sLnJlbGVhc2Uod29ya2VySGFuZGxlKTtcclxuXHJcbiAgICAvLyBVcGRhdGUgc3RhdGlzdGljc1xyXG4gICAgcG9vbFN0YXRzLnRpbWVTcGVudCArPSBleHBvcnRDb3VudGVyKCk7XHJcbiAgICBwb29sU3RhdHMudGltZVNwZW50QXZlcmFnZSA9XHJcbiAgICAgIHBvb2xTdGF0cy50aW1lU3BlbnQgLyArK3Bvb2xTdGF0cy5leHBvcnRzUGVyZm9ybWVkO1xyXG5cclxuICAgIGxvZyg0LCBgW3Bvb2xdIFdvcmsgY29tcGxldGVkIGluICR7ZXhwb3J0Q291bnRlcigpfW1zLmApO1xyXG5cclxuICAgIC8vIE90aGVyd2lzZSByZXR1cm4gYW4gb2JqZWN0IHdpdGggdGhlIHJlc3VsdCBhbmQgb3B0aW9uc1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcmVzdWx0OiBleHBvcnRSZXN1bHQsXHJcbiAgICAgIG9wdGlvbnNcclxuICAgIH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICsrcG9vbFN0YXRzLmV4cG9ydHNEcm9wcGVkO1xyXG5cclxuICAgIC8vIFRyeSB0byByZWxlYXNlIHRoZSB3b3JrZXIsIGlmIGl0IGV4aXN0c1xyXG4gICAgaWYgKHdvcmtlckhhbmRsZSkge1xyXG4gICAgICBwb29sLnJlbGVhc2Uod29ya2VySGFuZGxlKTtcclxuICAgIH1cclxuXHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZXRyaWV2ZXMgdGhlIGN1cnJlbnQgcG9vbCBpbnN0YW5jZS5cclxuICpcclxuICogQGZ1bmN0aW9uIGdldFBvb2xcclxuICpcclxuICogQHJldHVybnMgeyhPYmplY3R8bnVsbCl9IFRoZSBjdXJyZW50IHBvb2wgaW5zdGFuY2UgaWYgaW5pdGlhbGl6ZWQsIG9yIGBudWxsYFxyXG4gKiBpZiB0aGUgcG9vbCBoYXMgbm90IGJlZW4gY3JlYXRlZC5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRQb29sKCkge1xyXG4gIHJldHVybiBwb29sO1xyXG59XHJcblxyXG4vKipcclxuICogR2V0cyB0aGUgc3RhdGlzdGljIG9mIGEgcG9vbCBpbnN0YWNlIGFib3V0IGV4cG9ydHMuXHJcbiAqXHJcbiAqIEBmdW5jdGlvbiBnZXRQb29sU3RhdHNcclxuICpcclxuICogQHJldHVybnMge09iamVjdH0gVGhlIGN1cnJlbnQgcG9vbCBzdGF0aXN0aWNzLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFBvb2xTdGF0cygpIHtcclxuICByZXR1cm4gcG9vbFN0YXRzO1xyXG59XHJcblxyXG4vKipcclxuICogUmV0cmlldmVzIHBvb2wgaW5mb3JtYXRpb24gaW4gSlNPTiBmb3JtYXQsIGluY2x1ZGluZyBtaW5pbXVtIGFuZCBtYXhpbXVtXHJcbiAqIHdvcmtlcnMsIGF2YWlsYWJsZSB3b3JrZXJzLCB3b3JrZXJzIGluIHVzZSwgYW5kIHBlbmRpbmcgYWNxdWlyZSByZXF1ZXN0cy5cclxuICpcclxuICogQGZ1bmN0aW9uIGdldFBvb2xJbmZvSlNPTlxyXG4gKlxyXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBQb29sIGluZm9ybWF0aW9uIGluIEpTT04gZm9ybWF0LlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFBvb2xJbmZvSlNPTigpIHtcclxuICByZXR1cm4ge1xyXG4gICAgbWluOiBwb29sLm1pbixcclxuICAgIG1heDogcG9vbC5tYXgsXHJcbiAgICB1c2VkOiBwb29sLm51bVVzZWQoKSxcclxuICAgIGF2YWlsYWJsZTogcG9vbC5udW1GcmVlKCksXHJcbiAgICBhbGxDcmVhdGVkOiBwb29sLm51bVVzZWQoKSArIHBvb2wubnVtRnJlZSgpLFxyXG4gICAgcGVuZGluZ0FjcXVpcmVzOiBwb29sLm51bVBlbmRpbmdBY3F1aXJlcygpLFxyXG4gICAgcGVuZGluZ0NyZWF0ZXM6IHBvb2wubnVtUGVuZGluZ0NyZWF0ZXMoKSxcclxuICAgIHBlbmRpbmdWYWxpZGF0aW9uczogcG9vbC5udW1QZW5kaW5nVmFsaWRhdGlvbnMoKSxcclxuICAgIHBlbmRpbmdEZXN0cm95czogcG9vbC5wZW5kaW5nRGVzdHJveXMubGVuZ3RoLFxyXG4gICAgYWJzb2x1dGVBbGw6XHJcbiAgICAgIHBvb2wubnVtVXNlZCgpICtcclxuICAgICAgcG9vbC5udW1GcmVlKCkgK1xyXG4gICAgICBwb29sLm51bVBlbmRpbmdBY3F1aXJlcygpICtcclxuICAgICAgcG9vbC5udW1QZW5kaW5nQ3JlYXRlcygpICtcclxuICAgICAgcG9vbC5udW1QZW5kaW5nVmFsaWRhdGlvbnMoKSArXHJcbiAgICAgIHBvb2wucGVuZGluZ0Rlc3Ryb3lzLmxlbmd0aFxyXG4gIH07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBMb2dzIGluZm9ybWF0aW9uIGFib3V0IHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBwb29sLCBpbmNsdWRpbmcgdGhlIG1pbmltdW1cclxuICogYW5kIG1heGltdW0gd29ya2VycywgYXZhaWxhYmxlIHdvcmtlcnMsIHdvcmtlcnMgaW4gdXNlLCBhbmQgcGVuZGluZyBhY3F1aXJlXHJcbiAqIHJlcXVlc3RzLlxyXG4gKlxyXG4gKiBAZnVuY3Rpb24gX2dldFBvb2xJbmZvXHJcbiAqL1xyXG5mdW5jdGlvbiBfZ2V0UG9vbEluZm8oKSB7XHJcbiAgY29uc3Qge1xyXG4gICAgbWluLFxyXG4gICAgbWF4LFxyXG4gICAgdXNlZCxcclxuICAgIGF2YWlsYWJsZSxcclxuICAgIGFsbENyZWF0ZWQsXHJcbiAgICBwZW5kaW5nQWNxdWlyZXMsXHJcbiAgICBwZW5kaW5nQ3JlYXRlcyxcclxuICAgIHBlbmRpbmdWYWxpZGF0aW9ucyxcclxuICAgIHBlbmRpbmdEZXN0cm95cyxcclxuICAgIGFic29sdXRlQWxsXHJcbiAgfSA9IGdldFBvb2xJbmZvSlNPTigpO1xyXG5cclxuICBsb2coNSwgYFtwb29sXSBUaGUgbWluaW11bSBudW1iZXIgb2YgcmVzb3VyY2VzIGFsbG93ZWQgYnkgcG9vbDogJHttaW59LmApO1xyXG4gIGxvZyg1LCBgW3Bvb2xdIFRoZSBtYXhpbXVtIG51bWJlciBvZiByZXNvdXJjZXMgYWxsb3dlZCBieSBwb29sOiAke21heH0uYCk7XHJcbiAgbG9nKDUsIGBbcG9vbF0gVGhlIG51bWJlciBvZiB1c2VkIHJlc291cmNlczogJHt1c2VkfS5gKTtcclxuICBsb2coNSwgYFtwb29sXSBUaGUgbnVtYmVyIG9mIGZyZWUgcmVzb3VyY2VzOiAke2F2YWlsYWJsZX0uYCk7XHJcbiAgbG9nKFxyXG4gICAgNSxcclxuICAgIGBbcG9vbF0gVGhlIG51bWJlciBvZiBhbGwgY3JlYXRlZCAodXNlZCBhbmQgZnJlZSkgcmVzb3VyY2VzOiAke2FsbENyZWF0ZWR9LmBcclxuICApO1xyXG4gIGxvZyhcclxuICAgIDUsXHJcbiAgICBgW3Bvb2xdIFRoZSBudW1iZXIgb2YgcmVzb3VyY2VzIHdhaXRpbmcgdG8gYmUgYWNxdWlyZWQ6ICR7cGVuZGluZ0FjcXVpcmVzfS5gXHJcbiAgKTtcclxuICBsb2coXHJcbiAgICA1LFxyXG4gICAgYFtwb29sXSBUaGUgbnVtYmVyIG9mIHJlc291cmNlcyB3YWl0aW5nIHRvIGJlIGNyZWF0ZWQ6ICR7cGVuZGluZ0NyZWF0ZXN9LmBcclxuICApO1xyXG4gIGxvZyhcclxuICAgIDUsXHJcbiAgICBgW3Bvb2xdIFRoZSBudW1iZXIgb2YgcmVzb3VyY2VzIHdhaXRpbmcgdG8gYmUgdmFsaWRhdGVkOiAke3BlbmRpbmdWYWxpZGF0aW9uc30uYFxyXG4gICk7XHJcbiAgbG9nKFxyXG4gICAgNSxcclxuICAgIGBbcG9vbF0gVGhlIG51bWJlciBvZiByZXNvdXJjZXMgd2FpdGluZyB0byBiZSBkZXN0cm95ZWQ6ICR7cGVuZGluZ0Rlc3Ryb3lzfS5gXHJcbiAgKTtcclxuICBsb2coNSwgYFtwb29sXSBUaGUgbnVtYmVyIG9mIGFsbCByZXNvdXJjZXM6ICR7YWJzb2x1dGVBbGx9LmApO1xyXG59XHJcblxyXG4vKipcclxuICogRmFjdG9yeSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gb2JqZWN0IHdpdGggYGNyZWF0ZWAsIGB2YWxpZGF0ZWAsIGBkZXN0cm95YFxyXG4gKiBmdW5jdGlvbnMgZm9yIHRoZSBwb29sIGluc3RhbmNlLlxyXG4gKlxyXG4gKiBAZnVuY3Rpb24gX2ZhY3RvcnlcclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IHBvb2xPcHRpb25zIC0gVGhlIGNvbmZpZ3VyYXRpb24gb2JqZWN0IGNvbnRhaW5pbmcgYHBvb2xgXHJcbiAqIG9wdGlvbnMuXHJcbiAqL1xyXG5mdW5jdGlvbiBfZmFjdG9yeShwb29sT3B0aW9ucykge1xyXG4gIHJldHVybiB7XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYSBuZXcgd29ya2VyIHBhZ2UgZm9yIHRoZSBleHBvcnQgcG9vbC5cclxuICAgICAqXHJcbiAgICAgKiBAYXN5bmNcclxuICAgICAqIEBmdW5jdGlvbiBjcmVhdGVcclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fSBBIFByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhbiBvYmplY3RcclxuICAgICAqIGNvbnRhaW5pbmcgdGhlIHdvcmtlciBJRCwgYSByZWZlcmVuY2UgdG8gdGhlIGJyb3dzZXIgcGFnZSwgYW5kIGluaXRpYWxcclxuICAgICAqIHdvcmsgY291bnQuXHJcbiAgICAgKlxyXG4gICAgICogQHRocm93cyB7RXhwb3J0RXJyb3J9IFRocm93cyBhbiBgRXhwb3J0RXJyb3JgIGlmIHRoZXJlIGlzIGFuIGVycm9yIGR1cmluZ1xyXG4gICAgICogdGhlIGNyZWF0aW9uIG9mIHRoZSBuZXcgcGFnZS5cclxuICAgICAqL1xyXG4gICAgY3JlYXRlOiBhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIEluaXQgdGhlIHJlc291cmNlIHdpdGggdW5pcXVlIGlkIGFuZCB3b3JrIGNvdW50XHJcbiAgICAgIGNvbnN0IHBvb2xSZXNvdXJjZSA9IHtcclxuICAgICAgICBpZDogdXVpZCgpLFxyXG4gICAgICAgIC8vIFRyeSB0byBkaXN0cmlidXRlIHRoZSBpbml0aWFsIHdvcmsgY291bnRcclxuICAgICAgICB3b3JrQ291bnQ6IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIChwb29sT3B0aW9ucy53b3JrTGltaXQgLyAyKSlcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgLy8gU3RhcnQgbWVhc3VyaW5nIGEgcGFnZSBjcmVhdGlvbiB0aW1lXHJcbiAgICAgICAgY29uc3Qgc3RhcnREYXRlID0gZ2V0TmV3RGF0ZVRpbWUoKTtcclxuXHJcbiAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IHBhZ2VcclxuICAgICAgICBhd2FpdCBuZXdQYWdlKHBvb2xSZXNvdXJjZSk7XHJcblxyXG4gICAgICAgIC8vIE1lYXN1cmUgdGhlIHRpbWUgb2YgZnVsbCBjcmVhdGlvbiBhbmQgY29uZmlndXJhdGlvbiBvZiBhIHBhZ2VcclxuICAgICAgICBsb2coXHJcbiAgICAgICAgICAzLFxyXG4gICAgICAgICAgYFtwb29sXSBQb29sIHJlc291cmNlIFske3Bvb2xSZXNvdXJjZS5pZH1dIC0gU3VjY2Vzc2Z1bGx5IGNyZWF0ZWQgYSB3b3JrZXIsIHRvb2sgJHtcclxuICAgICAgICAgICAgZ2V0TmV3RGF0ZVRpbWUoKSAtIHN0YXJ0RGF0ZVxyXG4gICAgICAgICAgfW1zLmBcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICAvLyBSZXR1cm4gcmVhZHkgcG9vbCByZXNvdXJjZVxyXG4gICAgICAgIHJldHVybiBwb29sUmVzb3VyY2U7XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgbG9nKFxyXG4gICAgICAgICAgMyxcclxuICAgICAgICAgIGBbcG9vbF0gUG9vbCByZXNvdXJjZSBbJHtwb29sUmVzb3VyY2UuaWR9XSAtIEVycm9yIGVuY291bnRlcmVkIHdoZW4gY3JlYXRpbmcgYSBuZXcgcGFnZS5gXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aHJvdyBlcnJvcjtcclxuICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIFZhbGlkYXRlcyBhIHdvcmtlciBwYWdlIGluIHRoZSBleHBvcnQgcG9vbCwgY2hlY2tpbmcgaWYgaXQgaGFzIGV4Y2VlZGVkXHJcbiAgICAgKiB0aGUgd29yayBsaW1pdC5cclxuICAgICAqXHJcbiAgICAgKiBAYXN5bmNcclxuICAgICAqIEBmdW5jdGlvbiB2YWxpZGF0ZVxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwb29sUmVzb3VyY2UgLSBUaGUgaGFuZGxlIHRvIHRoZSB3b3JrZXIsIGNvbnRhaW5pbmdcclxuICAgICAqIHRoZSB3b3JrZXIncyBJRCwgYSByZWZlcmVuY2UgdG8gdGhlIGJyb3dzZXIgcGFnZSwgYW5kIHdvcmsgY291bnQuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMge1Byb21pc2U8Ym9vbGVhbj59IEEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIHRydWUgaWYgdGhlIHdvcmtlclxyXG4gICAgICogaXMgdmFsaWQgYW5kIHdpdGhpbiB0aGUgd29yayBsaW1pdDsgb3RoZXJ3aXNlLCB0byBmYWxzZS5cclxuICAgICAqL1xyXG4gICAgdmFsaWRhdGU6IGFzeW5jIChwb29sUmVzb3VyY2UpID0+IHtcclxuICAgICAgLy8gTk9URTpcclxuICAgICAgLy8gSW4gY2VydGFpbiBjYXNlcyBhY3F1aXJpbmcgdGhyb3dzIGEgYFRhcmdldENsb3NlRXJyb3JgLCB3aGljaCBtYXlcclxuICAgICAgLy8gYmUgY2F1c2VkIGJ5IHR3byB0aGluZ3M6XHJcbiAgICAgIC8vIC0gVGhlIHBhZ2UgaXMgY2xvc2VkIGFuZCBhdHRlbXB0ZWQgdG8gYmUgcmV1c2VkLlxyXG4gICAgICAvLyAtIExvc3QgY29udGFjdCB3aXRoIHRoZSBicm93c2VyLlxyXG4gICAgICAvL1xyXG4gICAgICAvLyBXaGF0IHdlJ3JlIHNlZWluZyBpbiBsb2dzIGlzIHRoYXQgc3VjY2Vzc2l2ZSBleHBvcnRzIHR5cGljYWxseVxyXG4gICAgICAvLyBzdWNjZWVkcywgYW5kIHRoZSBzZXJ2ZXIgcmVjb3ZlcnMsIGluZGljYXRpbmcgdGhhdCBpdCdzIGxpa2VseVxyXG4gICAgICAvLyB0aGUgZmlyc3QgY2FzZS4gVGhpcyBpcyBhbiBhdHRlbXB0IGF0IGFsbGlldmF0aW5nIHRoZSBpc3N1ZSBieVxyXG4gICAgICAvLyBzaW1wbHkgbm90IHZhbGlkYXRpbmcgdGhlIHdvcmtlciBpZiB0aGUgcGFnZSBpcyBudWxsIG9yIGNsb3NlZC5cclxuICAgICAgLy9cclxuICAgICAgLy8gVGhlIGFjdHVhbCByZXN1bHQgZnJvbSB3aGVuIHRoaXMgaGFwcGVuZWQsIHdhcyB0aGF0IGEgd29ya2VyIHdvdWxkXHJcbiAgICAgIC8vIGJlIGNvbXBsZXRlbHkgbG9ja2VkLCBzdG9wcGluZyBpdCBmcm9tIGJlaW5nIGFjcXVpcmVkIHVudGlsXHJcbiAgICAgIC8vIGl0cyB3b3JrIGNvdW50IHJlYWNoZWQgdGhlIGxpbWl0LlxyXG5cclxuICAgICAgLy8gQ2hlY2sgaWYgdGhlIGBwYWdlYCBpcyB2YWxpZFxyXG4gICAgICBpZiAoIXBvb2xSZXNvdXJjZS5wYWdlKSB7XHJcbiAgICAgICAgbG9nKFxyXG4gICAgICAgICAgMyxcclxuICAgICAgICAgIGBbcG9vbF0gUG9vbCByZXNvdXJjZSBbJHtwb29sUmVzb3VyY2UuaWR9XSAtIFZhbGlkYXRpb24gZmFpbGVkIChubyB2YWxpZCBwYWdlIGlzIGZvdW5kKS5gXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIENoZWNrIGlmIHRoZSBgcGFnZWAgaXMgY2xvc2VkXHJcbiAgICAgIGlmIChwb29sUmVzb3VyY2UucGFnZS5pc0Nsb3NlZCgpKSB7XHJcbiAgICAgICAgbG9nKFxyXG4gICAgICAgICAgMyxcclxuICAgICAgICAgIGBbcG9vbF0gUG9vbCByZXNvdXJjZSBbJHtwb29sUmVzb3VyY2UuaWR9XSAtIFZhbGlkYXRpb24gZmFpbGVkIChwYWdlIGlzIGNsb3NlZCBvciBpbnZhbGlkKS5gXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIENoZWNrIGlmIHRoZSBgbWFpbkZyYW1lYCBpcyBkZXRhY2hlZFxyXG4gICAgICBpZiAocG9vbFJlc291cmNlLnBhZ2UubWFpbkZyYW1lKCkuZGV0YWNoZWQpIHtcclxuICAgICAgICBsb2coXHJcbiAgICAgICAgICAzLFxyXG4gICAgICAgICAgYFtwb29sXSBQb29sIHJlc291cmNlIFske3Bvb2xSZXNvdXJjZS5pZH1dIC0gVmFsaWRhdGlvbiBmYWlsZWQgKHBhZ2UncyBmcmFtZSBpcyBkZXRhY2hlZCkuYFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBDaGVjayBpZiB0aGUgYHdvcmtMaW1pdGAgaXMgZXhjZWVkZWRcclxuICAgICAgaWYgKFxyXG4gICAgICAgIHBvb2xPcHRpb25zLndvcmtMaW1pdCAmJlxyXG4gICAgICAgICsrcG9vbFJlc291cmNlLndvcmtDb3VudCA+IHBvb2xPcHRpb25zLndvcmtMaW1pdFxyXG4gICAgICApIHtcclxuICAgICAgICBsb2coXHJcbiAgICAgICAgICAzLFxyXG4gICAgICAgICAgYFtwb29sXSBQb29sIHJlc291cmNlIFske3Bvb2xSZXNvdXJjZS5pZH1dIC0gVmFsaWRhdGlvbiBmYWlsZWQgKGV4Y2VlZGVkIHRoZSAke3Bvb2xPcHRpb25zLndvcmtMaW1pdH0gd29ya3MgcGVyIHJlc291cmNlIGxpbWl0KS5gXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFRoZSBgcG9vbFJlc291cmNlYCBpcyB2YWxpZGF0ZWRcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGVzdHJveXMgYSB3b3JrZXIgZW50cnkgaW4gdGhlIGV4cG9ydCBwb29sLCBjbG9zaW5nIGl0cyBhc3NvY2lhdGVkIHBhZ2UuXHJcbiAgICAgKlxyXG4gICAgICogQGFzeW5jXHJcbiAgICAgKiBAZnVuY3Rpb24gZGVzdHJveVxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwb29sUmVzb3VyY2UgLSBUaGUgaGFuZGxlIHRvIHRoZSB3b3JrZXIsIGNvbnRhaW5pbmdcclxuICAgICAqIHRoZSB3b3JrZXIncyBJRCwgYSByZWZlcmVuY2UgdG8gdGhlIGJyb3dzZXIgcGFnZSwgYW5kIHdvcmsgY291bnQuXHJcbiAgICAgKi9cclxuICAgIGRlc3Ryb3k6IGFzeW5jIChwb29sUmVzb3VyY2UpID0+IHtcclxuICAgICAgbG9nKFxyXG4gICAgICAgIDMsXHJcbiAgICAgICAgYFtwb29sXSBQb29sIHJlc291cmNlIFske3Bvb2xSZXNvdXJjZS5pZH1dIC0gRGVzdHJveWluZyBhIHdvcmtlci5gXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBpZiAocG9vbFJlc291cmNlLnBhZ2UgJiYgIXBvb2xSZXNvdXJjZS5wYWdlLmlzQ2xvc2VkKCkpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgLy8gUmVtb3ZlIGFsbCBhdHRhY2hlZCBldmVudCBsaXN0ZW5lcnMgZnJvbSB0aGUgcmVzb3VyY2VcclxuICAgICAgICAgIHBvb2xSZXNvdXJjZS5wYWdlLnJlbW92ZUFsbExpc3RlbmVycygncGFnZWVycm9yJyk7XHJcbiAgICAgICAgICBwb29sUmVzb3VyY2UucGFnZS5yZW1vdmVBbGxMaXN0ZW5lcnMoJ2NvbnNvbGUnKTtcclxuICAgICAgICAgIHBvb2xSZXNvdXJjZS5wYWdlLnJlbW92ZUFsbExpc3RlbmVycygnZnJhbWVkZXRhY2hlZCcpO1xyXG5cclxuICAgICAgICAgIC8vIFdlIG5lZWQgdG8gd2FpdCBhcm91bmQgZm9yIHRoaXNcclxuICAgICAgICAgIGF3YWl0IHBvb2xSZXNvdXJjZS5wYWdlLmNsb3NlKCk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgIGxvZyhcclxuICAgICAgICAgICAgMyxcclxuICAgICAgICAgICAgYFtwb29sXSBQb29sIHJlc291cmNlIFske3Bvb2xSZXNvdXJjZS5pZH1dIC0gUGFnZSBjb3VsZCBub3QgYmUgY2xvc2VkIHVwb24gZGVzdHJveWluZy5gXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gIGluaXRQb29sLFxyXG4gIGtpbGxQb29sLFxyXG4gIHBvc3RXb3JrLFxyXG4gIGdldFBvb2wsXHJcbiAgZ2V0UG9vbFN0YXRzLFxyXG4gIGdldFBvb2xJbmZvSlNPTlxyXG59O1xyXG4iLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5cclxuSGlnaGNoYXJ0cyBFeHBvcnQgU2VydmVyXHJcblxyXG5Db3B5cmlnaHQgKGMpIDIwMTYtMjAyNSwgSGlnaHNvZnRcclxuXHJcbkxpY2VuY2VkIHVuZGVyIHRoZSBNSVQgbGljZW5jZS5cclxuXHJcbkFkZGl0aW9uYWxseSBhIHZhbGlkIEhpZ2hjaGFydHMgbGljZW5zZSBpcyByZXF1aXJlZCBmb3IgdXNlLlxyXG5cclxuU2VlIExJQ0VOU0UgZmlsZSBpbiByb290IGZvciBkZXRhaWxzLlxyXG5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbi8qKlxyXG4gKiBAb3ZlcnZpZXcgVXNlZCB0byBzYW5pdGl6ZSB0aGUgc3RyaW5ncyBjb21pbmcgZnJvbSB0aGUgZXhwb3J0aW5nIG1vZHVsZVxyXG4gKiB0byBwcmV2ZW50IFhTUyBhdHRhY2tzICh3aXRoIHRoZSBET01QdXJpZnkgbGlicmFyeSkuXHJcbiAqL1xyXG5cclxuaW1wb3J0IERPTVB1cmlmeSBmcm9tICdkb21wdXJpZnknO1xyXG5pbXBvcnQgeyBKU0RPTSB9IGZyb20gJ2pzZG9tJztcclxuXHJcbi8qKlxyXG4gKiBTYW5pdGl6ZXMgYSBnaXZlbiBIVE1MIHN0cmluZyBieSByZW1vdmluZyA8c2NyaXB0PiB0YWdzLiBUaGlzIGZ1bmN0aW9uIHVzZXNcclxuICogYSByZWd1bGFyIGV4cHJlc3Npb24gdG8gZmluZCBhbmQgcmVtb3ZlIGFsbCBvY2N1cnJlbmNlcyBvZiA8c2NyaXB0Pjwvc2NyaXB0PlxyXG4gKiB0YWdzIGFuZCBhbnkgY29udGVudCB3aXRoaW4gdGhlbS5cclxuICpcclxuICogQGZ1bmN0aW9uIHNhbml0aXplXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBpbnB1dCAtIFRoZSBIVE1MIHN0cmluZyB0byBiZSBzYW5pdGl6ZWQuXHJcbiAqXHJcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBzYW5pdGl6ZWQgSFRNTCBzdHJpbmcuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gc2FuaXRpemUoaW5wdXQpIHtcclxuICAvLyBHZXQgdGhlIHZpcnR1YWwgRE9NXHJcbiAgY29uc3Qgd2luZG93ID0gbmV3IEpTRE9NKCcnKS53aW5kb3c7XHJcblxyXG4gIC8vIENyZWF0ZSBhIHB1cmlmeWluZyBpbnN0YW5jZVxyXG4gIGNvbnN0IHB1cmlmeSA9IERPTVB1cmlmeSh3aW5kb3cpO1xyXG5cclxuICAvLyBSZXR1cm4gc2FuaXRpemVkIGlucHV0LCBhbGxvd2luZyBmb3IgdGhlIGBmb3JlaWduT2JqZWN0YCBlbGVtZW50c1xyXG4gIHJldHVybiBwdXJpZnkuc2FuaXRpemUoaW5wdXQsIHsgQUREX1RBR1M6IFsnZm9yZWlnbk9iamVjdCddIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgc2FuaXRpemVcclxufTtcclxuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHJcbkhpZ2hjaGFydHMgRXhwb3J0IFNlcnZlclxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE2LTIwMjUsIEhpZ2hzb2Z0XHJcblxyXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXHJcblxyXG5BZGRpdGlvbmFsbHkgYSB2YWxpZCBIaWdoY2hhcnRzIGxpY2Vuc2UgaXMgcmVxdWlyZWQgZm9yIHVzZS5cclxuXHJcblNlZSBMSUNFTlNFIGZpbGUgaW4gcm9vdCBmb3IgZGV0YWlscy5cclxuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4vKipcclxuICogQG92ZXJ2aWV3IFRoaXMgbW9kdWxlIHByb3ZpZGVzIGZ1bmN0aW9ucyB0aGF0IHByZXBhcmUgZm9yIHRoZSBleHBvcnRpbmdcclxuICogY2hhcnRzIGludG8gdmFyaW91cyBpbWFnZSBvdXRwdXQgZm9ybWF0cyBzdWNoIGFzIEpQRUcsIFBORywgUERGLCBhbmQgU1ZHcy5cclxuICogSXQgc3VwcG9ydHMgc2luZ2xlIGFuZCBiYXRjaCBleHBvcnQgb3BlcmF0aW9ucyBhbmQgYWxsb3dzIGN1c3RvbWl6YXRpb25cclxuICogdGhyb3VnaCBvcHRpb25zIHBhc3NlZCBmcm9tIGNvbmZpZ3VyYXRpb25zIG9yIEFQSXMuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgcmVhZEZpbGVTeW5jLCB3cml0ZUZpbGVTeW5jIH0gZnJvbSAnZnMnO1xyXG5cclxuaW1wb3J0IHsgaXNBbGxvd2VkQ29uZmlnLCB1cGRhdGVPcHRpb25zIH0gZnJvbSAnLi9jb25maWcuanMnO1xyXG5pbXBvcnQgeyBsb2csIGxvZ1dpdGhTdGFjayB9IGZyb20gJy4vbG9nZ2VyLmpzJztcclxuaW1wb3J0IHsgZ2V0UG9vbFN0YXRzLCBraWxsUG9vbCwgcG9zdFdvcmsgfSBmcm9tICcuL3Bvb2wuanMnO1xyXG5pbXBvcnQgeyBzYW5pdGl6ZSB9IGZyb20gJy4vc2FuaXRpemUuanMnO1xyXG5pbXBvcnQgeyBnZXRBYnNvbHV0ZVBhdGgsIGdldEJhc2U2NCwgaXNPYmplY3QsIHJvdW5kTnVtYmVyIH0gZnJvbSAnLi91dGlscy5qcyc7XHJcblxyXG5pbXBvcnQgRXhwb3J0RXJyb3IgZnJvbSAnLi9lcnJvcnMvRXhwb3J0RXJyb3IuanMnO1xyXG5cclxuLy8gVGhlIGdsb2JhbCBmbGFnIGZvciB0aGUgY29kZSBleGVjdXRpb24gcGVybWlzc2lvblxyXG5sZXQgYWxsb3dDb2RlRXhlY3V0aW9uID0gZmFsc2U7XHJcblxyXG4vKipcclxuICogU3RhcnRzIGEgc2luZ2xlIGV4cG9ydCBwcm9jZXNzIGJhc2VkIG9uIHRoZSBzcGVjaWZpZWQgb3B0aW9ucyBhbmQgc2F2ZXNcclxuICogdGhlIHJlc3VsdGluZyBpbWFnZSB0byB0aGUgcHJvdmlkZWQgb3V0cHV0IGZpbGUuXHJcbiAqXHJcbiAqIEBhc3luY1xyXG4gKiBAZnVuY3Rpb24gc2luZ2xlRXhwb3J0XHJcbiAqXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gVGhlIGBvcHRpb25zYCBvYmplY3QsIHdoaWNoIHNob3VsZCBpbmNsdWRlIHNldHRpbmdzXHJcbiAqIGZyb20gdGhlIGBleHBvcnRgIGFuZCBgY3VzdG9tTG9naWNgIHNlY3Rpb25zLiBJdCBjYW4gYmUgYSBwYXJ0aWFsIG9yIGNvbXBsZXRlXHJcbiAqIHNldCBvZiBvcHRpb25zIGZyb20gdGhlc2Ugc2VjdGlvbnMuIFRoZSBvYmplY3QgbXVzdCBjb250YWluIGF0IGxlYXN0IG9uZVxyXG4gKiBvZiB0aGUgZm9sbG93aW5nIGBleHBvcnRgIHByb3BlcnRpZXM6IGBpbmZpbGVgLCBgaW5zdHJgLCBgb3B0aW9uc2AsIG9yIGBzdmdgXHJcbiAqIHRvIGdlbmVyYXRlIGEgdmFsaWQgaW1hZ2UuXHJcbiAqXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBBIFByb21pc2UgdGhhdCByZXNvbHZlcyBvbmNlIHRoZSBzaW5nbGUgZXhwb3J0XHJcbiAqIHByb2Nlc3MgaXMgY29tcGxldGVkLlxyXG4gKlxyXG4gKiBAdGhyb3dzIHtFeHBvcnRFcnJvcn0gVGhyb3dzIGFuIGBFeHBvcnRFcnJvcmAgaWYgYW4gZXJyb3Igb2NjdXJzIGR1cmluZ1xyXG4gKiB0aGUgc2luZ2xlIGV4cG9ydCBwcm9jZXNzLlxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNpbmdsZUV4cG9ydChvcHRpb25zKSB7XHJcbiAgLy8gQ2hlY2sgaWYgdGhlIGV4cG9ydCBtYWtlcyBzZW5zZVxyXG4gIGlmIChvcHRpb25zICYmIG9wdGlvbnMuZXhwb3J0KSB7XHJcbiAgICAvLyBQZXJmb3JtIGFuIGV4cG9ydFxyXG4gICAgYXdhaXQgc3RhcnRFeHBvcnQoXHJcbiAgICAgIHsgZXhwb3J0OiBvcHRpb25zLmV4cG9ydCwgY3VzdG9tTG9naWM6IG9wdGlvbnMuY3VzdG9tTG9naWMgfSxcclxuICAgICAgYXN5bmMgKGVycm9yLCBkYXRhKSA9PiB7XHJcbiAgICAgICAgLy8gRXhpdCBwcm9jZXNzIHdoZW4gZXJyb3IgZXhpc3RzXHJcbiAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICB0aHJvdyBlcnJvcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEdldCB0aGUgYGI2NGAsIGBvdXRmaWxlYCwgYW5kIGB0eXBlYCBmb3IgYSBjaGFydFxyXG4gICAgICAgIGNvbnN0IHsgYjY0LCBvdXRmaWxlLCB0eXBlIH0gPSBkYXRhLm9wdGlvbnMuZXhwb3J0O1xyXG5cclxuICAgICAgICAvLyBTYXZlIHRoZSByZXN1bHRcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgaWYgKGI2NCkge1xyXG4gICAgICAgICAgICAvLyBBcyBhIEJhc2U2NCBzdHJpbmcgdG8gYSB0eHQgZmlsZVxyXG4gICAgICAgICAgICB3cml0ZUZpbGVTeW5jKFxyXG4gICAgICAgICAgICAgIGAke291dGZpbGUuc3BsaXQoJy4nKS5zaGlmdCgpIHx8ICdjaGFydCd9LnR4dGAsXHJcbiAgICAgICAgICAgICAgZ2V0QmFzZTY0KGRhdGEucmVzdWx0LCB0eXBlKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gQXMgYSBjb3JyZWN0IGltYWdlIGZvcm1hdFxyXG4gICAgICAgICAgICB3cml0ZUZpbGVTeW5jKFxyXG4gICAgICAgICAgICAgIG91dGZpbGUgfHwgYGNoYXJ0LiR7dHlwZX1gLFxyXG4gICAgICAgICAgICAgIHR5cGUgIT09ICdzdmcnID8gQnVmZmVyLmZyb20oZGF0YS5yZXN1bHQsICdiYXNlNjQnKSA6IGRhdGEucmVzdWx0XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgIHRocm93IG5ldyBFeHBvcnRFcnJvcihcclxuICAgICAgICAgICAgJ1tjaGFydF0gRXJyb3Igd2hpbGUgc2F2aW5nIGEgY2hhcnQuJyxcclxuICAgICAgICAgICAgNTAwXHJcbiAgICAgICAgICApLnNldEVycm9yKGVycm9yKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEtpbGwgcG9vbCBhbmQgY2xvc2UgYnJvd3NlciBhZnRlciBmaW5pc2hpbmcgc2luZ2xlIGV4cG9ydFxyXG4gICAgICAgIGF3YWl0IGtpbGxQb29sKCk7XHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHRocm93IG5ldyBFeHBvcnRFcnJvcihcclxuICAgICAgJ1tjaGFydF0gTm8gZXhwZWN0ZWQgYGV4cG9ydGAgb3B0aW9ucyB3ZXJlIGZvdW5kLiBQbGVhc2UgcHJvdmlkZSBvbmUgb2YgdGhlIGZvbGxvd2luZyBvcHRpb25zOiBgaW5maWxlYCwgYGluc3RyYCwgYG9wdGlvbnNgLCBvciBgc3ZnYCB0byBnZW5lcmF0ZSBhIHZhbGlkIGltYWdlLicsXHJcbiAgICAgIDQwMFxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTdGFydHMgYSBiYXRjaCBleHBvcnQgcHJvY2VzcyBmb3IgbXVsdGlwbGUgY2hhcnRzIGJhc2VkIG9uIGluZm9ybWF0aW9uXHJcbiAqIHByb3ZpZGVkIGluIHRoZSBgYmF0Y2hgIG9wdGlvbi4gVGhlIGBiYXRjaGAgaXMgYSBzdHJpbmcgaW4gdGhlIGZvbGxvd2luZ1xyXG4gKiBmb3JtYXQ6IFwiaW5maWxlMS5qc29uPW91dGZpbGUxLnBuZztpbmZpbGUyLmpzb249b3V0ZmlsZTIucG5nOy4uLlwiLiBSZXN1bHRzXHJcbiAqIGFyZSBzYXZlZCB0byB0aGUgc3BlY2lmaWVkIG91dHB1dCBmaWxlcy5cclxuICpcclxuICogQGFzeW5jXHJcbiAqIEBmdW5jdGlvbiBiYXRjaEV4cG9ydFxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIFRoZSBgb3B0aW9uc2Agb2JqZWN0LCB3aGljaCBzaG91bGQgaW5jbHVkZSBzZXR0aW5nc1xyXG4gKiBmcm9tIHRoZSBgZXhwb3J0YCBhbmQgYGN1c3RvbUxvZ2ljYCBzZWN0aW9ucy4gSXQgY2FuIGJlIGEgcGFydGlhbCBvciBjb21wbGV0ZVxyXG4gKiBzZXQgb2Ygb3B0aW9ucyBmcm9tIHRoZXNlIHNlY3Rpb25zLiBJdCBtdXN0IGNvbnRhaW4gdGhlIGBiYXRjaGAgb3B0aW9uIGZyb21cclxuICogdGhlIGBleHBvcnRgIHNlY3Rpb24gdG8gZ2VuZXJhdGUgdmFsaWQgaW1hZ2VzLlxyXG4gKlxyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gQSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgb25jZSB0aGUgYmF0Y2ggZXhwb3J0XHJcbiAqIHByb2Nlc3NlcyBhcmUgY29tcGxldGVkLlxyXG4gKlxyXG4gKiBAdGhyb3dzIHtFeHBvcnRFcnJvcn0gVGhyb3dzIGFuIGBFeHBvcnRFcnJvcmAgaWYgYW4gZXJyb3Igb2NjdXJzIGR1cmluZ1xyXG4gKiBhbnkgb2YgdGhlIGJhdGNoIGV4cG9ydCBwcm9jZXNzLlxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGJhdGNoRXhwb3J0KG9wdGlvbnMpIHtcclxuICAvLyBDaGVjayBpZiB0aGUgZXhwb3J0IG1ha2VzIHNlbnNlXHJcbiAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5leHBvcnQgJiYgb3B0aW9ucy5leHBvcnQuYmF0Y2gpIHtcclxuICAgIC8vIEFuIGFycmF5IGZvciBjb2xsZWN0aW5nIGJhdGNoIGV4cG9ydHNcclxuICAgIGNvbnN0IGJhdGNoRnVuY3Rpb25zID0gW107XHJcblxyXG4gICAgLy8gU3BsaXQgYW5kIHBhaXIgdGhlIGBiYXRjaGAgYXJndW1lbnRzXHJcbiAgICBmb3IgKGxldCBwYWlyIG9mIG9wdGlvbnMuZXhwb3J0LmJhdGNoLnNwbGl0KCc7JykgfHwgW10pIHtcclxuICAgICAgcGFpciA9IHBhaXIuc3BsaXQoJz0nKTtcclxuICAgICAgaWYgKHBhaXIubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgYmF0Y2hGdW5jdGlvbnMucHVzaChcclxuICAgICAgICAgIHN0YXJ0RXhwb3J0KFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgZXhwb3J0OiB7XHJcbiAgICAgICAgICAgICAgICAuLi5vcHRpb25zLmV4cG9ydCxcclxuICAgICAgICAgICAgICAgIGluZmlsZTogcGFpclswXSxcclxuICAgICAgICAgICAgICAgIG91dGZpbGU6IHBhaXJbMV1cclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIGN1c3RvbUxvZ2ljOiBvcHRpb25zLmN1c3RvbUxvZ2ljXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIChlcnJvciwgZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgIC8vIEV4aXQgcHJvY2VzcyB3aGVuIGVycm9yIGV4aXN0c1xyXG4gICAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAvLyBHZXQgdGhlIGBiNjRgLCBgb3V0ZmlsZWAsIGFuZCBgdHlwZWAgZm9yIGEgY2hhcnRcclxuICAgICAgICAgICAgICBjb25zdCB7IGI2NCwgb3V0ZmlsZSwgdHlwZSB9ID0gZGF0YS5vcHRpb25zLmV4cG9ydDtcclxuXHJcbiAgICAgICAgICAgICAgLy8gU2F2ZSB0aGUgcmVzdWx0XHJcbiAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGlmIChiNjQpIHtcclxuICAgICAgICAgICAgICAgICAgLy8gQXMgYSBCYXNlNjQgc3RyaW5nIHRvIGEgdHh0IGZpbGVcclxuICAgICAgICAgICAgICAgICAgd3JpdGVGaWxlU3luYyhcclxuICAgICAgICAgICAgICAgICAgICBgJHtvdXRmaWxlLnNwbGl0KCcuJykuc2hpZnQoKSB8fCAnY2hhcnQnfS50eHRgLFxyXG4gICAgICAgICAgICAgICAgICAgIGdldEJhc2U2NChkYXRhLnJlc3VsdCwgdHlwZSlcclxuICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgIC8vIEFzIGEgY29ycmVjdCBpbWFnZSBmb3JtYXRcclxuICAgICAgICAgICAgICAgICAgd3JpdGVGaWxlU3luYyhcclxuICAgICAgICAgICAgICAgICAgICBvdXRmaWxlLFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGUgIT09ICdzdmcnXHJcbiAgICAgICAgICAgICAgICAgICAgICA/IEJ1ZmZlci5mcm9tKGRhdGEucmVzdWx0LCAnYmFzZTY0JylcclxuICAgICAgICAgICAgICAgICAgICAgIDogZGF0YS5yZXN1bHRcclxuICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEV4cG9ydEVycm9yKFxyXG4gICAgICAgICAgICAgICAgICAnW2NoYXJ0XSBFcnJvciB3aGlsZSBzYXZpbmcgYSBjaGFydC4nLFxyXG4gICAgICAgICAgICAgICAgICA1MDBcclxuICAgICAgICAgICAgICAgICkuc2V0RXJyb3IoZXJyb3IpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgKVxyXG4gICAgICAgICk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbG9nKDIsICdbY2hhcnRdIE5vIGNvcnJlY3QgcGFpciBmb3VuZCBmb3IgdGhlIGJhdGNoIGV4cG9ydC4nKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEF3YWl0IGFsbCBleHBvcnRzIGFyZSBkb25lXHJcbiAgICBjb25zdCBiYXRjaFJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQoYmF0Y2hGdW5jdGlvbnMpO1xyXG5cclxuICAgIC8vIEtpbGwgcG9vbCBhbmQgY2xvc2UgYnJvd3NlciBhZnRlciBmaW5pc2hpbmcgYmF0Y2ggZXhwb3J0XHJcbiAgICBhd2FpdCBraWxsUG9vbCgpO1xyXG5cclxuICAgIC8vIExvZyBlcnJvcnMgaWYgZm91bmRcclxuICAgIGJhdGNoUmVzdWx0cy5mb3JFYWNoKChyZXN1bHQsIGluZGV4KSA9PiB7XHJcbiAgICAgIC8vIExvZyB0aGUgZXJyb3Igd2l0aCBzdGFjayBhYm91dCB0aGUgc3BlY2lmaWMgYmF0Y2ggZXhwb3J0XHJcbiAgICAgIGlmIChyZXN1bHQucmVhc29uKSB7XHJcbiAgICAgICAgbG9nV2l0aFN0YWNrKFxyXG4gICAgICAgICAgMSxcclxuICAgICAgICAgIHJlc3VsdC5yZWFzb24sXHJcbiAgICAgICAgICBgW2NoYXJ0XSBCYXRjaCBleHBvcnQgbnVtYmVyICR7aW5kZXggKyAxfSBjb3VsZCBub3QgYmUgY29ycmVjdGx5IGNvbXBsZXRlZC5gXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHRocm93IG5ldyBFeHBvcnRFcnJvcihcclxuICAgICAgJ1tjaGFydF0gTm8gZXhwZWN0ZWQgYGV4cG9ydGAgb3B0aW9ucyB3ZXJlIGZvdW5kLiBQbGVhc2UgcHJvdmlkZSB0aGUgYGJhdGNoYCBvcHRpb24gdG8gZ2VuZXJhdGUgdmFsaWQgaW1hZ2VzLicsXHJcbiAgICAgIDQwMFxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTdGFydHMgYW4gZXhwb3J0IHByb2Nlc3MuIFRoZSBgaW1hZ2VPcHRpb25zYCBwYXJhbWV0ZXIgaXMgYW4gb2JqZWN0IHRoYXRcclxuICogc2hvdWxkIGluY2x1ZGUgc2V0dGluZ3MgZnJvbSB0aGUgYGV4cG9ydGAgYW5kIGBjdXN0b21Mb2dpY2Agc2VjdGlvbnMuIEl0IGNhblxyXG4gKiBiZSBhIHBhcnRpYWwgb3IgY29tcGxldGUgc2V0IG9mIG9wdGlvbnMgZnJvbSB0aGVzZSBzZWN0aW9ucy4gSWYgcGFydGlhbFxyXG4gKiBvcHRpb25zIGFyZSBwcm92aWRlZCwgbWlzc2luZyB2YWx1ZXMgd2lsbCBiZSBtZXJnZWQgd2l0aCB0aGUgY3VycmVudCBnbG9iYWxcclxuICogb3B0aW9ucy5cclxuICpcclxuICogVGhlIGBlbmRDYWxsYmFja2AgZnVuY3Rpb24gaXMgaW52b2tlZCB1cG9uIHRoZSBjb21wbGV0aW9uIG9mIHRoZSBleHBvcnQsXHJcbiAqIGVpdGhlciBzdWNjZXNzZnVsbHkgb3Igd2l0aCBhbiBlcnJvci4gVGhlIGBlcnJvcmAgb2JqZWN0IGlzIHByb3ZpZGVkXHJcbiAqIGFzIHRoZSBmaXJzdCBhcmd1bWVudCwgYW5kIHRoZSBgZGF0YWAgb2JqZWN0IGlzIHRoZSBzZWNvbmQsIGNvbnRhaW5pbmdcclxuICogdGhlIEJhc2U2NCByZXByZXNlbnRhdGlvbiBvZiB0aGUgY2hhcnQgaW4gdGhlIGByZXN1bHRgIHByb3BlcnR5XHJcbiAqIGFuZCB0aGUgY29tcGxldGUgc2V0IG9mIG9wdGlvbnMgaW4gdGhlIGBvcHRpb25zYCBwcm9wZXJ0eS5cclxuICpcclxuICogQGFzeW5jXHJcbiAqIEBmdW5jdGlvbiBzdGFydEV4cG9ydFxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gaW1hZ2VPcHRpb25zIC0gVGhlIGBpbWFnZU9wdGlvbnNgIG9iamVjdCwgd2hpY2ggc2hvdWxkXHJcbiAqIGluY2x1ZGUgc2V0dGluZ3MgZnJvbSB0aGUgYGV4cG9ydGAgYW5kIGBjdXN0b21Mb2dpY2Agc2VjdGlvbnMuIEl0IGNhblxyXG4gKiBiZSBhIHBhcnRpYWwgb3IgY29tcGxldGUgc2V0IG9mIG9wdGlvbnMgZnJvbSB0aGVzZSBzZWN0aW9ucy4gSWYgdGhlIHByb3ZpZGVkXHJcbiAqIG9wdGlvbnMgYXJlIHBhcnRpYWwsIG1pc3NpbmcgdmFsdWVzIHdpbGwgYmUgbWVyZ2VkIHdpdGggdGhlIGN1cnJlbnQgZ2xvYmFsXHJcbiAqIG9wdGlvbnMuXHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVuZENhbGxiYWNrIC0gVGhlIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGJlIGludm9rZWQgdXBvblxyXG4gKiBmaW5hbGl6aW5nIHRoZSBleHBvcnQgcHJvY2VzcyBvciB1cG9uIGVuY291bnRlcmluZyBhbiBlcnJvci4gVGhlIGZpcnN0XHJcbiAqIGFyZ3VtZW50IGlzIHRoZSBgZXJyb3JgIG9iamVjdCwgYW5kIHRoZSBzZWNvbmQgYXJndW1lbnQgaXMgdGhlIGBkYXRhYCBvYmplY3QsXHJcbiAqIHdoaWNoIGluY2x1ZGVzIHRoZSBCYXNlNjQgcmVwcmVzZW50YXRpb24gb2YgdGhlIGNoYXJ0IGluIHRoZSBgcmVzdWx0YFxyXG4gKiBwcm9wZXJ0eSBhbmQgdGhlIGZ1bGwgc2V0IG9mIG9wdGlvbnMgaW4gdGhlIGBvcHRpb25zYCBwcm9wZXJ0eS5cclxuICpcclxuICogQHJldHVybnMge1Byb21pc2U8dm9pZD59IFRoaXMgZnVuY3Rpb24gZG9lcyBub3QgcmV0dXJuIGEgdmFsdWUgZGlyZWN0bHkuXHJcbiAqIEluc3RlYWQsIGl0IGNvbW11bmljYXRlcyByZXN1bHRzIHZpYSB0aGUgYGVuZENhbGxiYWNrYC5cclxuICpcclxuICogQHRocm93cyB7RXhwb3J0RXJyb3J9IFRocm93cyBhbiBgRXhwb3J0RXJyb3JgIGlmIHRoZXJlIGlzIGEgcHJvYmxlbSB3aXRoXHJcbiAqIHByb2Nlc3NpbmcgaW5wdXQgb2YgYW55IHR5cGUuIFRoZSBlcnJvciBpcyBwYXNzZWQgaW50byB0aGUgYGVuZENhbGxiYWNrYFxyXG4gKiBmdW5jdGlvbiBhbmQgcHJvY2Vzc2VkIHRoZXJlLlxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHN0YXJ0RXhwb3J0KGltYWdlT3B0aW9ucywgZW5kQ2FsbGJhY2spIHtcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgaWYgcHJvdmlkZWQgb3B0aW9ucyBhcmUgaW4gYW4gb2JqZWN0XHJcbiAgICBpZiAoIWlzT2JqZWN0KGltYWdlT3B0aW9ucykpIHtcclxuICAgICAgdGhyb3cgbmV3IEV4cG9ydEVycm9yKFxyXG4gICAgICAgICdbY2hhcnRdIEluY29ycmVjdCB2YWx1ZSBvZiB0aGUgcHJvdmlkZWQgYGltYWdlT3B0aW9uc2AuIE5lZWRzIHRvIGJlIGFuIG9iamVjdC4nLFxyXG4gICAgICAgIDQwMFxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE1lcmdlIGFkZGl0aW9uYWwgb3B0aW9ucyB0byB0aGUgY29weSBvZiB0aGUgaW5zdGFuY2Ugb3B0aW9uc1xyXG4gICAgY29uc3Qgb3B0aW9ucyA9IHVwZGF0ZU9wdGlvbnMoXHJcbiAgICAgIHtcclxuICAgICAgICBleHBvcnQ6IGltYWdlT3B0aW9ucy5leHBvcnQsXHJcbiAgICAgICAgY3VzdG9tTG9naWM6IGltYWdlT3B0aW9ucy5jdXN0b21Mb2dpY1xyXG4gICAgICB9LFxyXG4gICAgICB0cnVlXHJcbiAgICApO1xyXG5cclxuICAgIC8vIEdldCB0aGUgYGV4cG9ydGAgb3B0aW9uc1xyXG4gICAgY29uc3QgZXhwb3J0T3B0aW9ucyA9IG9wdGlvbnMuZXhwb3J0O1xyXG5cclxuICAgIC8vIFN0YXJ0aW5nIGV4cG9ydGluZyBwcm9jZXNzIG1lc3NhZ2VcclxuICAgIGxvZyg0LCAnW2NoYXJ0XSBTdGFydGluZyB0aGUgZXhwb3J0aW5nIHByb2Nlc3MuJyk7XHJcblxyXG4gICAgLy8gRXhwb3J0IHVzaW5nIG9wdGlvbnMgZnJvbSB0aGUgZmlsZSBhcyBhbiBpbnB1dFxyXG4gICAgaWYgKGV4cG9ydE9wdGlvbnMuaW5maWxlICE9PSBudWxsKSB7XHJcbiAgICAgIGxvZyg0LCAnW2NoYXJ0XSBBdHRlbXB0aW5nIHRvIGV4cG9ydCBmcm9tIGEgZmlsZSBpbnB1dC4nKTtcclxuXHJcbiAgICAgIGxldCBmaWxlQ29udGVudDtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICAvLyBUcnkgdG8gcmVhZCB0aGUgZmlsZSB0byBnZXQgdGhlIHN0cmluZyByZXByZXNlbnRhdGlvblxyXG4gICAgICAgIGZpbGVDb250ZW50ID0gcmVhZEZpbGVTeW5jKFxyXG4gICAgICAgICAgZ2V0QWJzb2x1dGVQYXRoKGV4cG9ydE9wdGlvbnMuaW5maWxlKSxcclxuICAgICAgICAgICd1dGY4J1xyXG4gICAgICAgICk7XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEV4cG9ydEVycm9yKFxyXG4gICAgICAgICAgJ1tjaGFydF0gRXJyb3IgbG9hZGluZyBjb250ZW50IGZyb20gYSBmaWxlIGlucHV0LicsXHJcbiAgICAgICAgICA0MDBcclxuICAgICAgICApLnNldEVycm9yKGVycm9yKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQ2hlY2sgdGhlIGZpbGUncyBleHRlbnNpb25cclxuICAgICAgaWYgKGV4cG9ydE9wdGlvbnMuaW5maWxlLmVuZHNXaXRoKCcuc3ZnJykpIHtcclxuICAgICAgICAvLyBTZXQgdG8gdGhlIGBzdmdgIG9wdGlvblxyXG4gICAgICAgIGV4cG9ydE9wdGlvbnMuc3ZnID0gZmlsZUNvbnRlbnQ7XHJcbiAgICAgIH0gZWxzZSBpZiAoZXhwb3J0T3B0aW9ucy5pbmZpbGUuZW5kc1dpdGgoJy5qc29uJykpIHtcclxuICAgICAgICAvLyBTZXQgdG8gdGhlIGBpbnN0cmAgb3B0aW9uXHJcbiAgICAgICAgZXhwb3J0T3B0aW9ucy5pbnN0ciA9IGZpbGVDb250ZW50O1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRocm93IG5ldyBFeHBvcnRFcnJvcihcclxuICAgICAgICAgICdbY2hhcnRdIEluY29ycmVjdCB2YWx1ZSBvZiB0aGUgYGluZmlsZWAgb3B0aW9uLicsXHJcbiAgICAgICAgICA0MDBcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRXhwb3J0IHVzaW5nIFNWRyBhcyBhbiBpbnB1dFxyXG4gICAgaWYgKGV4cG9ydE9wdGlvbnMuc3ZnICE9PSBudWxsKSB7XHJcbiAgICAgIGxvZyg0LCAnW2NoYXJ0XSBBdHRlbXB0aW5nIHRvIGV4cG9ydCBmcm9tIGFuIFNWRyBpbnB1dC4nKTtcclxuXHJcbiAgICAgIC8vIFNWRyBleHBvcnRzIGF0dGVtcHRzIGNvdW50ZXJcclxuICAgICAgKytnZXRQb29sU3RhdHMoKS5leHBvcnRzRnJvbVN2Z0F0dGVtcHRzO1xyXG5cclxuICAgICAgLy8gRXhwb3J0IGZyb20gYW4gU1ZHIHN0cmluZ1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBfZXhwb3J0RnJvbVN2ZyhcclxuICAgICAgICBzYW5pdGl6ZShleHBvcnRPcHRpb25zLnN2ZyksIC8vICMyMDlcclxuICAgICAgICBvcHRpb25zXHJcbiAgICAgICk7XHJcblxyXG4gICAgICAvLyBTVkcgZXhwb3J0cyBjb3VudGVyXHJcbiAgICAgICsrZ2V0UG9vbFN0YXRzKCkuZXhwb3J0c0Zyb21Tdmc7XHJcblxyXG4gICAgICAvLyBQYXNzIFNWRyBleHBvcnQgcmVzdWx0IHRvIHRoZSBlbmQgY2FsbGJhY2tcclxuICAgICAgcmV0dXJuIGVuZENhbGxiYWNrKG51bGwsIHJlc3VsdCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRXhwb3J0IHVzaW5nIG9wdGlvbnMgYXMgYW4gaW5wdXRcclxuICAgIGlmIChleHBvcnRPcHRpb25zLmluc3RyICE9PSBudWxsIHx8IGV4cG9ydE9wdGlvbnMub3B0aW9ucyAhPT0gbnVsbCkge1xyXG4gICAgICBsb2coNCwgJ1tjaGFydF0gQXR0ZW1wdGluZyB0byBleHBvcnQgZnJvbSBvcHRpb25zIGlucHV0LicpO1xyXG5cclxuICAgICAgLy8gT3B0aW9ucyBleHBvcnRzIGF0dGVtcHRzIGNvdW50ZXJcclxuICAgICAgKytnZXRQb29sU3RhdHMoKS5leHBvcnRzRnJvbU9wdGlvbnNBdHRlbXB0cztcclxuXHJcbiAgICAgIC8vIEV4cG9ydCBmcm9tIG9wdGlvbnNcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgX2V4cG9ydEZyb21PcHRpb25zKFxyXG4gICAgICAgIGV4cG9ydE9wdGlvbnMuaW5zdHIgfHwgZXhwb3J0T3B0aW9ucy5vcHRpb25zLFxyXG4gICAgICAgIG9wdGlvbnNcclxuICAgICAgKTtcclxuXHJcbiAgICAgIC8vIE9wdGlvbnMgZXhwb3J0cyBjb3VudGVyXHJcbiAgICAgICsrZ2V0UG9vbFN0YXRzKCkuZXhwb3J0c0Zyb21PcHRpb25zO1xyXG5cclxuICAgICAgLy8gUGFzcyBvcHRpb25zIGV4cG9ydCByZXN1bHQgdG8gdGhlIGVuZCBjYWxsYmFja1xyXG4gICAgICByZXR1cm4gZW5kQ2FsbGJhY2sobnVsbCwgcmVzdWx0KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBObyBpbnB1dCBzcGVjaWZpZWQsIHBhc3MgYW4gZXJyb3IgbWVzc2FnZSB0byB0aGUgY2FsbGJhY2tcclxuICAgIHJldHVybiBlbmRDYWxsYmFjayhcclxuICAgICAgbmV3IEV4cG9ydEVycm9yKFxyXG4gICAgICAgIGBbY2hhcnRdIE5vIHZhbGlkIGlucHV0IHNwZWNpZmllZC4gQ2hlY2sgaWYgYXQgbGVhc3Qgb25lIG9mIHRoZSBmb2xsb3dpbmcgcGFyYW1ldGVycyBpcyBjb3JyZWN0bHkgc2V0OiAnaW5maWxlJywgJ2luc3RyJywgJ29wdGlvbnMnLCBvciAnc3ZnJy5gLFxyXG4gICAgICAgIDQwMFxyXG4gICAgICApXHJcbiAgICApO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXR1cm4gZW5kQ2FsbGJhY2soZXJyb3IpO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIFJldHJpZXZlcyBhbmQgcmV0dXJucyB0aGUgY3VycmVudCBzdGF0dXMgb2YgdGhlIGNvZGUgZXhlY3V0aW9uIHBlcm1pc3Npb24uXHJcbiAqXHJcbiAqIEBmdW5jdGlvbiBnZXRBbGxvd0NvZGVFeGVjdXRpb25cclxuICpcclxuICogQHJldHVybnMge2Jvb2xlYW59IFRoZSB2YWx1ZSBvZiB0aGUgZ2xvYmFsIGBhbGxvd0NvZGVFeGVjdXRpb25gIG9wdGlvbi5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRBbGxvd0NvZGVFeGVjdXRpb24oKSB7XHJcbiAgcmV0dXJuIGFsbG93Q29kZUV4ZWN1dGlvbjtcclxufVxyXG5cclxuLyoqXHJcbiAqIFNldHMgdGhlIGNvZGUgZXhlY3V0aW9uIHBlcm1pc3Npb24gYmFzZWQgb24gdGhlIHByb3ZpZGVkIGJvb2xlYW4gdmFsdWUuXHJcbiAqXHJcbiAqIEBmdW5jdGlvbiBzZXRBbGxvd0NvZGVFeGVjdXRpb25cclxuICpcclxuICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSAtIFRoZSBib29sZWFuIHZhbHVlIHRvIGJlIGFzc2lnbmVkIHRvIHRoZSBnbG9iYWxcclxuICogYGFsbG93Q29kZUV4ZWN1dGlvbmAgb3B0aW9uLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNldEFsbG93Q29kZUV4ZWN1dGlvbih2YWx1ZSkge1xyXG4gIGFsbG93Q29kZUV4ZWN1dGlvbiA9IHZhbHVlO1xyXG59XHJcblxyXG4vKipcclxuICogRXhwb3J0cyBmcm9tIGFuIFNWRyBiYXNlZCBpbnB1dCB3aXRoIHRoZSBwcm92aWRlZCBvcHRpb25zLlxyXG4gKlxyXG4gKiBAYXN5bmNcclxuICogQGZ1bmN0aW9uIF9leHBvcnRGcm9tU3ZnXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBpbnB1dFRvRXhwb3J0IC0gVGhlIFNWRyBiYXNlZCBpbnB1dCB0byBiZSBleHBvcnRlZC5cclxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBUaGUgY29uZmlndXJhdGlvbiBvYmplY3QgY29udGFpbmluZyBjb21wbGV0ZSBzZXRcclxuICogb2Ygb3B0aW9ucy5cclxuICpcclxuICogQHJldHVybnMge1Byb21pc2U8dW5rbm93bj59IEEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGEgcmVzdWx0IG9mIHRoZSBleHBvcnRcclxuICogcHJvY2Vzcy5cclxuICpcclxuICogQHRocm93cyB7RXhwb3J0RXJyb3J9IFRocm93cyBhbiBgRXhwb3J0RXJyb3JgIGlmIHRoZXJlIGlzIG5vdCBhIGNvcnJlY3QgU1ZHXHJcbiAqIGlucHV0LlxyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gX2V4cG9ydEZyb21TdmcoaW5wdXRUb0V4cG9ydCwgb3B0aW9ucykge1xyXG4gIC8vIENoZWNrIGlmIGl0IGlzIFNWR1xyXG4gIGlmIChcclxuICAgIHR5cGVvZiBpbnB1dFRvRXhwb3J0ID09PSAnc3RyaW5nJyAmJlxyXG4gICAgKGlucHV0VG9FeHBvcnQuaW5kZXhPZignPHN2ZycpID49IDAgfHwgaW5wdXRUb0V4cG9ydC5pbmRleE9mKCc8P3htbCcpID49IDApXHJcbiAgKSB7XHJcbiAgICBsb2coNCwgJ1tjaGFydF0gUGFyc2luZyBpbnB1dCBhcyBTVkcuJyk7XHJcblxyXG4gICAgLy8gU2V0IHRoZSBleHBvcnQgaW5wdXQgYXMgU1ZHXHJcbiAgICBvcHRpb25zLmV4cG9ydC5zdmcgPSBpbnB1dFRvRXhwb3J0O1xyXG5cclxuICAgIC8vIFJlc2V0IHRoZSByZXN0IG9mIHRoZSBleHBvcnQgaW5wdXQgb3B0aW9uc1xyXG4gICAgb3B0aW9ucy5leHBvcnQub3B0aW9ucyA9IG51bGw7XHJcbiAgICBvcHRpb25zLmV4cG9ydC5pbnN0ciA9IG51bGw7XHJcblxyXG4gICAgLy8gQ2FsbCB0aGUgZnVuY3Rpb24gd2l0aCBhbiBTVkcgc3RyaW5nIGFzIGFuIGV4cG9ydCBpbnB1dFxyXG4gICAgcmV0dXJuIF9wcmVwYXJlRXhwb3J0KG9wdGlvbnMpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICB0aHJvdyBuZXcgRXhwb3J0RXJyb3IoJ1tjaGFydF0gTm90IGEgY29ycmVjdCBTVkcgaW5wdXQuJywgNDAwKTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBFeHBvcnRzIGZyb20gYW4gb3B0aW9ucyBiYXNlZCBpbnB1dCB3aXRoIHRoZSBwcm92aWRlZCBvcHRpb25zLlxyXG4gKlxyXG4gKiBAYXN5bmNcclxuICogQGZ1bmN0aW9uIF9leHBvcnRGcm9tT3B0aW9uc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gaW5wdXRUb0V4cG9ydCAtIFRoZSBvcHRpb25zIGJhc2VkIGlucHV0IHRvIGJlIGV4cG9ydGVkLlxyXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIFRoZSBjb25maWd1cmF0aW9uIG9iamVjdCBjb250YWluaW5nIGNvbXBsZXRlIHNldFxyXG4gKiBvZiBvcHRpb25zLlxyXG4gKlxyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTx1bmtub3duPn0gQSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYSByZXN1bHQgb2YgdGhlIGV4cG9ydFxyXG4gKiBwcm9jZXNzLlxyXG4gKlxyXG4gKiBAdGhyb3dzIHtFeHBvcnRFcnJvcn0gVGhyb3dzIGFuIGBFeHBvcnRFcnJvcmAgaWYgdGhlcmUgaXMgbm90IGEgY29ycmVjdFxyXG4gKiBjaGFydCBvcHRpb25zIGlucHV0LlxyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gX2V4cG9ydEZyb21PcHRpb25zKGlucHV0VG9FeHBvcnQsIG9wdGlvbnMpIHtcclxuICBsb2coNCwgJ1tjaGFydF0gUGFyc2luZyBpbnB1dCBmcm9tIG9wdGlvbnMuJyk7XHJcblxyXG4gIC8vIFRyeSB0byBjaGVjaywgdmFsaWRhdGUgYW5kIHBhcnNlIHRvIHN0cmluZ2lmaWVkIG9wdGlvbnNcclxuICBjb25zdCBzdHJpbmdpZmllZE9wdGlvbnMgPSBpc0FsbG93ZWRDb25maWcoXHJcbiAgICBpbnB1dFRvRXhwb3J0LFxyXG4gICAgdHJ1ZSxcclxuICAgIG9wdGlvbnMuY3VzdG9tTG9naWMuYWxsb3dDb2RlRXhlY3V0aW9uXHJcbiAgKTtcclxuXHJcbiAgLy8gQ2hlY2sgaWYgYSBjb3JyZWN0IHN0cmluZ2lmaWVkIG9wdGlvbnNcclxuICBpZiAoXHJcbiAgICBzdHJpbmdpZmllZE9wdGlvbnMgPT09IG51bGwgfHxcclxuICAgIHR5cGVvZiBzdHJpbmdpZmllZE9wdGlvbnMgIT09ICdzdHJpbmcnIHx8XHJcbiAgICAhc3RyaW5naWZpZWRPcHRpb25zLnN0YXJ0c1dpdGgoJ3snKSB8fFxyXG4gICAgIXN0cmluZ2lmaWVkT3B0aW9ucy5lbmRzV2l0aCgnfScpXHJcbiAgKSB7XHJcbiAgICB0aHJvdyBuZXcgRXhwb3J0RXJyb3IoXHJcbiAgICAgICdbY2hhcnRdIEludmFsaWQgY29uZmlndXJhdGlvbiBwcm92aWRlZCAtIE9ubHkgb3B0aW9ucyBjb25maWd1cmF0aW9ucyBhbmQgU1ZHIGFyZSBhbGxvd2VkIGZvciB0aGlzIHNlcnZlci4gSWYgdGhpcyBpcyB5b3VyIHNlcnZlciwgSmF2YVNjcmlwdCBjdXN0b20gY29kZSBjYW4gYmUgZW5hYmxlZCBieSBzdGFydGluZyB0aGUgc2VydmVyIHdpdGggdGhlIGBhbGxvd0NvZGVFeGVjdXRpb25gIG9wdGlvbnMgc2V0IHRvIHRydWUuJyxcclxuICAgICAgNDAzXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgLy8gU2V0IHRoZSBleHBvcnQgaW5wdXQgYXMgYSBzdHJpbmdpZmllZCBjaGFydCBvcHRpb25zXHJcbiAgb3B0aW9ucy5leHBvcnQuaW5zdHIgPSBzdHJpbmdpZmllZE9wdGlvbnM7XHJcblxyXG4gIC8vIFJlc2V0IHRoZSByZXN0IG9mIHRoZSBleHBvcnQgaW5wdXQgb3B0aW9uc1xyXG4gIG9wdGlvbnMuZXhwb3J0Lm9wdGlvbnMgPSBudWxsO1xyXG4gIG9wdGlvbnMuZXhwb3J0LnN2ZyA9IG51bGw7XHJcblxyXG4gIC8vIENhbGwgdGhlIGZ1bmN0aW9uIHdpdGggYSBzdHJpbmdpZmllZCBjaGFydCBvcHRpb25zXHJcbiAgcmV0dXJuIF9wcmVwYXJlRXhwb3J0KG9wdGlvbnMpO1xyXG59XHJcblxyXG4vKipcclxuICogRnVuY3Rpb24gZm9yIGZpbmFsaXppbmcgb3B0aW9ucyBhbmQgY29uZmlndXJhdGlvbnMgYmVmb3JlIGV4cG9ydC5cclxuICpcclxuICogQGFzeW5jXHJcbiAqIEBmdW5jdGlvbiBfcHJlcGFyZUV4cG9ydFxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIFRoZSBjb25maWd1cmF0aW9uIG9iamVjdCBjb250YWluaW5nIGNvbXBsZXRlIHNldFxyXG4gKiBvZiBvcHRpb25zLlxyXG4gKlxyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTx1bmtub3duPn0gQSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYSByZXN1bHQgb2YgdGhlIGV4cG9ydFxyXG4gKiBwcm9jZXNzLlxyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gX3ByZXBhcmVFeHBvcnQob3B0aW9ucykge1xyXG4gIC8vIEdldCB0aGUgYGV4cG9ydGAgYW5kIGBjdXN0b21Mb2dpY2Agb3B0aW9uc1xyXG4gIGNvbnN0IHsgZXhwb3J0OiBleHBvcnRPcHRpb25zLCBjdXN0b21Mb2dpYzogY3VzdG9tTG9naWNPcHRpb25zIH0gPSBvcHRpb25zO1xyXG5cclxuICAvLyBQcmVwYXJlIHRoZSBgY29uc3RyYCBvcHRpb25cclxuICBleHBvcnRPcHRpb25zLmNvbnN0ciA9IF9maXhDb25zdHIoZXhwb3J0T3B0aW9ucy5jb25zdHIpO1xyXG5cclxuICAvLyBQcmVwYXJlIHRoZSBgdHlwZWAgb3B0aW9uXHJcbiAgZXhwb3J0T3B0aW9ucy50eXBlID0gX2ZpeFR5cGUoZXhwb3J0T3B0aW9ucy50eXBlLCBleHBvcnRPcHRpb25zLm91dGZpbGUpO1xyXG5cclxuICAvLyBQcmVwYXJlIHRoZSBgb3V0ZmlsZWAgb3B0aW9uXHJcbiAgZXhwb3J0T3B0aW9ucy5vdXRmaWxlID0gX2ZpeE91dGZpbGUoXHJcbiAgICBleHBvcnRPcHRpb25zLnR5cGUsXHJcbiAgICBleHBvcnRPcHRpb25zLm91dGZpbGVcclxuICApO1xyXG5cclxuICAvLyBOb3RpZnkgYWJvdXQgdGhlIGN1c3RvbSBsb2dpYyB1c2FnZSBzdGF0dXNcclxuICBsb2coXHJcbiAgICAzLFxyXG4gICAgYFtjaGFydF0gVGhlIGN1c3RvbSBsb2dpYyBpcyAke2N1c3RvbUxvZ2ljT3B0aW9ucy5hbGxvd0NvZGVFeGVjdXRpb24gPyAnYWxsb3dlZCcgOiAnZGlzYWxsb3dlZCd9LmBcclxuICApO1xyXG5cclxuICAvLyBQcmVwYXJlIHRoZSBgY3VzdG9tQ29kZWAsIGBjYWxsYmFja2AsIGFuZCBgcmVzb3VyY2VzYCBvcHRpb25zXHJcbiAgX2hhbmRsZUN1c3RvbUxvZ2ljKGN1c3RvbUxvZ2ljT3B0aW9ucyk7XHJcblxyXG4gIC8vIFByZXBhcmUgdGhlIGBnbG9iYWxPcHRpb25zYCBhbmQgYHRoZW1lT3B0aW9uc2Agb3B0aW9uc1xyXG4gIF9oYW5kbGVHbG9iYWxBbmRUaGVtZShleHBvcnRPcHRpb25zLCBjdXN0b21Mb2dpY09wdGlvbnMpO1xyXG5cclxuICAvLyBQcmVwYXJlIHRoZSBgaGVpZ2h0YCwgYHdpZHRoYCwgYW5kIGBzY2FsZWAgb3B0aW9uc1xyXG4gIF9oYW5kbGVTaXplKGV4cG9ydE9wdGlvbnMpO1xyXG5cclxuICAvLyBDaGVjayBpZiB0aGUgaW1hZ2Ugb3B0aW9ucyBvYmplY3QgZG9lcyBub3QgZXhjZWVkIHRoZSBzaXplIGxpbWl0XHJcbiAgX2NoZWNrRGF0YVNpemUoeyBleHBvcnQ6IGV4cG9ydE9wdGlvbnMsIGN1c3RvbUxvZ2ljOiBjdXN0b21Mb2dpY09wdGlvbnMgfSk7XHJcblxyXG4gIC8vIFBvc3QgdGhlIHdvcmsgdG8gdGhlIHBvb2xcclxuICByZXR1cm4gcG9zdFdvcmsob3B0aW9ucyk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBIYW5kbGVzIGFkanVzdGluZyB0aGUgY29uc3RydWN0b3IgbmFtZSBieSB0cmFuc2Zvcm1pbmcgYW5kIG5vcm1hbGl6aW5nXHJcbiAqIGl0IGJhc2VkIG9uIGNvbW1vbiBjaGFydCB0eXBlcy5cclxuICpcclxuICogQGZ1bmN0aW9uIF9maXhDb25zdHJcclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd9IGNvbnN0ciAtIFRoZSBvcmlnaW5hbCBjb25zdHJ1Y3RvciBuYW1lIHRvIGJlIGFkanVzdGVkLlxyXG4gKlxyXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgY29ycmVjdGVkIGNvbnN0cnVjdG9yIG5hbWUsIG9yICdjaGFydCcgaWYgdGhlIGlucHV0XHJcbiAqIGlzIG5vdCByZWNvZ25pemVkLlxyXG4gKi9cclxuZnVuY3Rpb24gX2ZpeENvbnN0cihjb25zdHIpIHtcclxuICB0cnkge1xyXG4gICAgLy8gRml4IHRoZSBjb25zdHJ1Y3RvciBieSBsb3dlcmluZyBjYXNpbmdcclxuICAgIGNvbnN0IGZpeGVkQ29uc3RyID0gYCR7Y29uc3RyLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgnY2hhcnQnLCAnJyl9Q2hhcnRgO1xyXG5cclxuICAgIC8vIEhhbmRsZSB0aGUgY2FzZSB3aGVyZSB0aGUgcmVzdWx0IGlzIGp1c3QgJ0NoYXJ0J1xyXG4gICAgaWYgKGZpeGVkQ29uc3RyID09PSAnQ2hhcnQnKSB7XHJcbiAgICAgIGZpeGVkQ29uc3RyLnRvTG93ZXJDYXNlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmV0dXJuIHRoZSBjb3JyZWN0ZWQgY29uc3RydWN0b3IsIG90aGVyd2lzZSBkZWZhdWx0IHRvICdjaGFydCdcclxuICAgIHJldHVybiBbJ2NoYXJ0JywgJ3N0b2NrQ2hhcnQnLCAnbWFwQ2hhcnQnLCAnZ2FudHRDaGFydCddLmluY2x1ZGVzKFxyXG4gICAgICBmaXhlZENvbnN0clxyXG4gICAgKVxyXG4gICAgICA/IGZpeGVkQ29uc3RyXHJcbiAgICAgIDogJ2NoYXJ0JztcclxuICB9IGNhdGNoIHtcclxuICAgIC8vIERlZmF1bHQgdG8gJ2NoYXJ0JyBpbiBjYXNlIG9mIGFueSBlcnJvclxyXG4gICAgcmV0dXJuICdjaGFydCc7XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogSGFuZGxlcyBmaXhpbmcgdGhlIG91dGZpbGUgYmFzZWQgb24gcHJvdmlkZWQgdHlwZS5cclxuICpcclxuICogQGZ1bmN0aW9uIF9maXhPdXRmaWxlXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gVGhlIG9yaWdpbmFsIGV4cG9ydCB0eXBlLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gb3V0ZmlsZSAtIFRoZSBmaWxlIHBhdGggb3IgbmFtZS5cclxuICpcclxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGNvcnJlY3RlZCBvdXRmaWxlLCBvciAnY2hhcnQucG5nJyBpZiB0aGUgaW5wdXRcclxuICogaXMgbm90IHJlY29nbml6ZWQuXHJcbiAqL1xyXG5mdW5jdGlvbiBfZml4T3V0ZmlsZSh0eXBlLCBvdXRmaWxlKSB7XHJcbiAgLy8gR2V0IHRoZSBmaWxlIG5hbWUgZnJvbSB0aGUgYG91dGZpbGVgIG9wdGlvblxyXG4gIGNvbnN0IGZpbGVOYW1lID0gZ2V0QWJzb2x1dGVQYXRoKG91dGZpbGUgfHwgJ2NoYXJ0JylcclxuICAgIC5zcGxpdCgnLicpXHJcbiAgICAuc2hpZnQoKTtcclxuXHJcbiAgLy8gUmV0dXJuIGEgY29ycmVjdCBvdXRmaWxlXHJcbiAgcmV0dXJuIGAke2ZpbGVOYW1lfS4ke3R5cGUgfHwgJ3BuZyd9YDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEhhbmRsZXMgZml4aW5nIHRoZSBleHBvcnQgdHlwZSBiYXNlZCBvbiBNSU1FIHR5cGVzIGFuZCBmaWxlIGV4dGVuc2lvbnMuXHJcbiAqXHJcbiAqIEBmdW5jdGlvbiBfZml4VHlwZVxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIFRoZSBvcmlnaW5hbCBleHBvcnQgdHlwZS5cclxuICogQHBhcmFtIHtzdHJpbmd9IFtvdXRmaWxlPW51bGxdIC0gVGhlIGZpbGUgcGF0aCBvciBuYW1lLiBUaGUgZGVmYXVsdCB2YWx1ZVxyXG4gKiBpcyBgbnVsbGAuXHJcbiAqXHJcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBjb3JyZWN0ZWQgZXhwb3J0IHR5cGUsIG9yICdwbmcnIGlmIHRoZSBpbnB1dFxyXG4gKiBpcyBub3QgcmVjb2duaXplZC5cclxuICovXHJcbmZ1bmN0aW9uIF9maXhUeXBlKHR5cGUsIG91dGZpbGUgPSBudWxsKSB7XHJcbiAgLy8gTUlNRSB0eXBlc1xyXG4gIGNvbnN0IG1pbWVUeXBlcyA9IHtcclxuICAgICdpbWFnZS9wbmcnOiAncG5nJyxcclxuICAgICdpbWFnZS9qcGVnJzogJ2pwZWcnLFxyXG4gICAgJ2FwcGxpY2F0aW9uL3BkZic6ICdwZGYnLFxyXG4gICAgJ2ltYWdlL3N2Zyt4bWwnOiAnc3ZnJ1xyXG4gIH07XHJcblxyXG4gIC8vIEdldCBmb3JtYXRzXHJcbiAgY29uc3QgZm9ybWF0cyA9IE9iamVjdC52YWx1ZXMobWltZVR5cGVzKTtcclxuXHJcbiAgLy8gQ2hlY2sgaWYgdHlwZSBhbmQgb3V0ZmlsZSdzIGV4dGVuc2lvbnMgYXJlIHRoZSBzYW1lXHJcbiAgaWYgKG91dGZpbGUpIHtcclxuICAgIGNvbnN0IG91dFR5cGUgPSBvdXRmaWxlLnNwbGl0KCcuJykucG9wKCk7XHJcblxyXG4gICAgLy8gU3VwcG9ydCB0aGUgSlBHIHR5cGVcclxuICAgIGlmIChvdXRUeXBlID09PSAnanBnJykge1xyXG4gICAgICB0eXBlID0gJ2pwZWcnO1xyXG4gICAgfSBlbHNlIGlmIChmb3JtYXRzLmluY2x1ZGVzKG91dFR5cGUpICYmIHR5cGUgIT09IG91dFR5cGUpIHtcclxuICAgICAgdHlwZSA9IG91dFR5cGU7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBSZXR1cm4gYSBjb3JyZWN0IHR5cGVcclxuICByZXR1cm4gbWltZVR5cGVzW3R5cGVdIHx8IGZvcm1hdHMuZmluZCgodCkgPT4gdCA9PT0gdHlwZSkgfHwgJ3BuZyc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBIYW5kbGUgY2FsY3VsYXRpbmcgdGhlIGBoZWlnaHRgLCBgd2lkdGhgIGFuZCBgc2NhbGVgIGZvciBjaGFydCBleHBvcnRzIGJhc2VkXHJcbiAqIG9uIHRoZSBwcm92aWRlZCBleHBvcnQgb3B0aW9ucy5cclxuICpcclxuICogVGhlIGZ1bmN0aW9uIHByaW9yaXRpemVzIHZhbHVlcyBpbiB0aGUgZm9sbG93aW5nIG9yZGVyOlxyXG4gKlxyXG4gKiAxLiBUaGUgYGhlaWdodGAsIGB3aWR0aGAsIGBzY2FsZWAgZnJvbSB0aGUgYGV4cG9ydE9wdGlvbnNgLlxyXG4gKiAyLiBPcHRpb25zIGZyb20gdGhlIGNoYXJ0IGNvbmZpZ3VyYXRpb24gKGZyb20gYGV4cG9ydGluZ2AgYW5kIGBjaGFydGApLlxyXG4gKiAzLiBPcHRpb25zIGZyb20gdGhlIGdsb2JhbCBvcHRpb25zIChmcm9tIGBleHBvcnRpbmdgIGFuZCBgY2hhcnRgKS5cclxuICogNC4gT3B0aW9ucyBmcm9tIHRoZSB0aGVtZSBvcHRpb25zIChmcm9tIGBleHBvcnRpbmdgIGFuZCBgY2hhcnRgIHNlY3Rpb25zKS5cclxuICogNS4gRmFsbGJhY2sgZGVmYXVsdCB2YWx1ZXMgKGBoZWlnaHQgPSA0MDBgLCBgd2lkdGggPSA2MDBgLCBgc2NhbGUgPSAxYCkuXHJcbiAqXHJcbiAqIEBmdW5jdGlvbiBfaGFuZGxlU2l6ZVxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gZXhwb3J0T3B0aW9ucyAtIFRoZSBjb25maWd1cmF0aW9uIG9iamVjdCBjb250YWluaW5nIGBleHBvcnRgXHJcbiAqIG9wdGlvbnMuXHJcbiAqL1xyXG5mdW5jdGlvbiBfaGFuZGxlU2l6ZShleHBvcnRPcHRpb25zKSB7XHJcbiAgLy8gQ2hlY2sgdGhlIGBvcHRpb25zYCBhbmQgYGluc3RyYCBmb3IgY2hhcnQgYW5kIGV4cG9ydGluZyBzZWN0aW9uc1xyXG4gIGNvbnN0IHsgY2hhcnQ6IG9wdGlvbnNDaGFydCwgZXhwb3J0aW5nOiBvcHRpb25zRXhwb3J0aW5nIH0gPVxyXG4gICAgaXNBbGxvd2VkQ29uZmlnKGV4cG9ydE9wdGlvbnMuaW5zdHIpIHx8IGZhbHNlO1xyXG5cclxuICAvLyBDaGVjayB0aGUgYGdsb2JhbE9wdGlvbnNgIGZvciBjaGFydCBhbmQgZXhwb3J0aW5nIHNlY3Rpb25zXHJcbiAgY29uc3QgeyBjaGFydDogZ2xvYmFsT3B0aW9uc0NoYXJ0LCBleHBvcnRpbmc6IGdsb2JhbE9wdGlvbnNFeHBvcnRpbmcgfSA9XHJcbiAgICBpc0FsbG93ZWRDb25maWcoZXhwb3J0T3B0aW9ucy5nbG9iYWxPcHRpb25zKSB8fCBmYWxzZTtcclxuXHJcbiAgLy8gQ2hlY2sgdGhlIGB0aGVtZU9wdGlvbnNgIGZvciBjaGFydCBhbmQgZXhwb3J0aW5nIHNlY3Rpb25zXHJcbiAgY29uc3QgeyBjaGFydDogdGhlbWVPcHRpb25zQ2hhcnQsIGV4cG9ydGluZzogdGhlbWVPcHRpb25zRXhwb3J0aW5nIH0gPVxyXG4gICAgaXNBbGxvd2VkQ29uZmlnKGV4cG9ydE9wdGlvbnMudGhlbWVPcHRpb25zKSB8fCBmYWxzZTtcclxuXHJcbiAgLy8gRmluZCB0aGUgYGhlaWdodGAgdmFsdWVcclxuICBjb25zdCBoZWlnaHQgPVxyXG4gICAgZXhwb3J0T3B0aW9ucy5oZWlnaHQgfHxcclxuICAgIG9wdGlvbnNFeHBvcnRpbmc/LnNvdXJjZUhlaWdodCB8fFxyXG4gICAgb3B0aW9uc0NoYXJ0Py5oZWlnaHQgfHxcclxuICAgIGdsb2JhbE9wdGlvbnNFeHBvcnRpbmc/LnNvdXJjZUhlaWdodCB8fFxyXG4gICAgZ2xvYmFsT3B0aW9uc0NoYXJ0Py5oZWlnaHQgfHxcclxuICAgIHRoZW1lT3B0aW9uc0V4cG9ydGluZz8uc291cmNlSGVpZ2h0IHx8XHJcbiAgICB0aGVtZU9wdGlvbnNDaGFydD8uaGVpZ2h0IHx8XHJcbiAgICBleHBvcnRPcHRpb25zLmRlZmF1bHRIZWlnaHQgfHxcclxuICAgIDQwMDtcclxuXHJcbiAgLy8gRmluZCB0aGUgYHdpZHRoYCB2YWx1ZVxyXG4gIGNvbnN0IHdpZHRoID1cclxuICAgIGV4cG9ydE9wdGlvbnMud2lkdGggfHxcclxuICAgIG9wdGlvbnNFeHBvcnRpbmc/LnNvdXJjZVdpZHRoIHx8XHJcbiAgICBvcHRpb25zQ2hhcnQ/LndpZHRoIHx8XHJcbiAgICBnbG9iYWxPcHRpb25zRXhwb3J0aW5nPy5zb3VyY2VXaWR0aCB8fFxyXG4gICAgZ2xvYmFsT3B0aW9uc0NoYXJ0Py53aWR0aCB8fFxyXG4gICAgdGhlbWVPcHRpb25zRXhwb3J0aW5nPy5zb3VyY2VXaWR0aCB8fFxyXG4gICAgdGhlbWVPcHRpb25zQ2hhcnQ/LndpZHRoIHx8XHJcbiAgICBleHBvcnRPcHRpb25zLmRlZmF1bHRXaWR0aCB8fFxyXG4gICAgNjAwO1xyXG5cclxuICAvLyBGaW5kIHRoZSBgc2NhbGVgIHZhbHVlOlxyXG4gIC8vIC0gQ2Fubm90IGJlIGxvd2VyIHRoYW4gMC4xXHJcbiAgLy8gLSBDYW5ub3QgYmUgaGlnaGVyIHRoYW4gNS4wXHJcbiAgLy8gLSBNdXN0IGJlIHJvdW5kZWQgdG8gMiBkZWNpbWFsIHBsYWNlcyAoZS5nLiAwLjIzMjM0IC0+IDAuMjMpXHJcbiAgY29uc3Qgc2NhbGUgPSByb3VuZE51bWJlcihcclxuICAgIE1hdGgubWF4KFxyXG4gICAgICAwLjEsXHJcbiAgICAgIE1hdGgubWluKFxyXG4gICAgICAgIGV4cG9ydE9wdGlvbnMuc2NhbGUgfHxcclxuICAgICAgICAgIG9wdGlvbnNFeHBvcnRpbmc/LnNjYWxlIHx8XHJcbiAgICAgICAgICBnbG9iYWxPcHRpb25zRXhwb3J0aW5nPy5zY2FsZSB8fFxyXG4gICAgICAgICAgdGhlbWVPcHRpb25zRXhwb3J0aW5nPy5zY2FsZSB8fFxyXG4gICAgICAgICAgZXhwb3J0T3B0aW9ucy5kZWZhdWx0U2NhbGUgfHxcclxuICAgICAgICAgIDEsXHJcbiAgICAgICAgNS4wXHJcbiAgICAgIClcclxuICAgICksXHJcbiAgICAyXHJcbiAgKTtcclxuXHJcbiAgLy8gVXBkYXRlIGBoZWlnaHRgLCBgd2lkdGhgLCBhbmQgYHNjYWxlYCBpbmZvcm1hdGlvbiBpbiB0aGUgYGV4cG9ydGAgb3B0aW9uc1xyXG4gIGV4cG9ydE9wdGlvbnMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gIGV4cG9ydE9wdGlvbnMud2lkdGggPSB3aWR0aDtcclxuICBleHBvcnRPcHRpb25zLnNjYWxlID0gc2NhbGU7XHJcblxyXG4gIC8vIEdldCByaWQgb2YgcG90ZW50aWFsIGBweGAgYW5kIGAlYFxyXG4gIGZvciAobGV0IHBhcmFtIG9mIFsnaGVpZ2h0JywgJ3dpZHRoJywgJ3NjYWxlJ10pIHtcclxuICAgIGlmICh0eXBlb2YgZXhwb3J0T3B0aW9uc1twYXJhbV0gPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgIGV4cG9ydE9wdGlvbnNbcGFyYW1dID0gK2V4cG9ydE9wdGlvbnNbcGFyYW1dLnJlcGxhY2UoL3B4fCUvZ2ksICcnKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBIYW5kbGVzIHRoZSBleGVjdXRpb24gb2YgY3VzdG9tIGxvZ2ljIG9wdGlvbnMsIGluY2x1ZGluZyBsb2FkaW5nIGByZXNvdXJjZXNgLFxyXG4gKiBgY3VzdG9tQ29kZWAsIGFuZCBgY2FsbGJhY2tgLiBJZiBjb2RlIGV4ZWN1dGlvbiBpcyBhbGxvd2VkLCBpdCBwcm9jZXNzZXNcclxuICogdGhlIGN1c3RvbSBsb2dpYyBvcHRpb25zIGFjY29yZGluZ2x5LiBJZiBjb2RlIGV4ZWN1dGlvbiBpcyBub3QgYWxsb3dlZCxcclxuICogaXQgZGlzYWJsZXMgdGhlIHVzYWdlIG9mIHJlc291cmNlcywgY3VzdG9tIGNvZGUgYW5kIGNhbGxiYWNrLlxyXG4gKlxyXG4gKiBAZnVuY3Rpb24gX2hhbmRsZUN1c3RvbUxvZ2ljXHJcbiAqXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBjdXN0b21Mb2dpY09wdGlvbnMgLSBUaGUgY29uZmlndXJhdGlvbiBvYmplY3QgY29udGFpbmluZ1xyXG4gKiBgY3VzdG9tTG9naWNgIG9wdGlvbnMuXHJcbiAqXHJcbiAqIEB0aHJvd3Mge0V4cG9ydEVycm9yfSBUaHJvd3MgYW4gYEV4cG9ydEVycm9yYCBpZiBjb2RlIGV4ZWN1dGlvblxyXG4gKiBpcyBub3QgYWxsb3dlZCBidXQgY3VzdG9tIGxvZ2ljIG9wdGlvbnMgYXJlIHN0aWxsIHByb3ZpZGVkLlxyXG4gKi9cclxuZnVuY3Rpb24gX2hhbmRsZUN1c3RvbUxvZ2ljKGN1c3RvbUxvZ2ljT3B0aW9ucykge1xyXG4gIC8vIEluIGNhc2Ugb2YgYWxsb3dpbmcgY29kZSBleGVjdXRpb25cclxuICBpZiAoY3VzdG9tTG9naWNPcHRpb25zLmFsbG93Q29kZUV4ZWN1dGlvbikge1xyXG4gICAgLy8gUHJvY2VzcyB0aGUgYHJlc291cmNlc2Agb3B0aW9uXHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBUcnkgdG8gaGFuZGxlIHJlc291cmNlc1xyXG4gICAgICBjdXN0b21Mb2dpY09wdGlvbnMucmVzb3VyY2VzID0gX2hhbmRsZVJlc291cmNlcyhcclxuICAgICAgICBjdXN0b21Mb2dpY09wdGlvbnMucmVzb3VyY2VzLFxyXG4gICAgICAgIGN1c3RvbUxvZ2ljT3B0aW9ucy5hbGxvd0ZpbGVSZXNvdXJjZXMsXHJcbiAgICAgICAgdHJ1ZVxyXG4gICAgICApO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgbG9nKDIsICdbY2hhcnRdIFRoZSBgcmVzb3VyY2VzYCBjYW5ub3QgYmUgbG9hZGVkLicpO1xyXG5cclxuICAgICAgLy8gSW4gY2FzZSBvZiBhbiBlcnJvciwgc2V0IHRoZSBvcHRpb24gd2l0aCBudWxsXHJcbiAgICAgIGN1c3RvbUxvZ2ljT3B0aW9ucy5yZXNvdXJjZXMgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFByb2Nlc3MgdGhlIGBjdXN0b21Db2RlYCBvcHRpb25cclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIFRyeSB0byBsb2FkIGN1c3RvbSBjb2RlIGFuZCB3cmFwIGFyb3VuZCBpdCBpbiBhIHNlbGYgaW52b2tpbmcgZnVuY3Rpb25cclxuICAgICAgY3VzdG9tTG9naWNPcHRpb25zLmN1c3RvbUNvZGUgPSBfaGFuZGxlQ3VzdG9tQ29kZShcclxuICAgICAgICBjdXN0b21Mb2dpY09wdGlvbnMuY3VzdG9tQ29kZSxcclxuICAgICAgICBjdXN0b21Mb2dpY09wdGlvbnMuYWxsb3dGaWxlUmVzb3VyY2VzXHJcbiAgICAgICk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBsb2dXaXRoU3RhY2soMiwgZXJyb3IsICdbY2hhcnRdIFRoZSBgY3VzdG9tQ29kZWAgY2Fubm90IGJlIGxvYWRlZC4nKTtcclxuXHJcbiAgICAgIC8vIEluIGNhc2Ugb2YgYW4gZXJyb3IsIHNldCB0aGUgb3B0aW9uIHdpdGggbnVsbFxyXG4gICAgICBjdXN0b21Mb2dpY09wdGlvbnMuY3VzdG9tQ29kZSA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUHJvY2VzcyB0aGUgYGNhbGxiYWNrYCBvcHRpb25cclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIFRyeSB0byBsb2FkIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgICAgIGN1c3RvbUxvZ2ljT3B0aW9ucy5jYWxsYmFjayA9IF9oYW5kbGVDdXN0b21Db2RlKFxyXG4gICAgICAgIGN1c3RvbUxvZ2ljT3B0aW9ucy5jYWxsYmFjayxcclxuICAgICAgICBjdXN0b21Mb2dpY09wdGlvbnMuYWxsb3dGaWxlUmVzb3VyY2VzLFxyXG4gICAgICAgIHRydWVcclxuICAgICAgKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGxvZ1dpdGhTdGFjaygyLCBlcnJvciwgJ1tjaGFydF0gVGhlIGBjYWxsYmFja2AgY2Fubm90IGJlIGxvYWRlZC4nKTtcclxuXHJcbiAgICAgIC8vIEluIGNhc2Ugb2YgYW4gZXJyb3IsIHNldCB0aGUgb3B0aW9uIHdpdGggbnVsbFxyXG4gICAgICBjdXN0b21Mb2dpY09wdGlvbnMuY2FsbGJhY2sgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENoZWNrIGlmIHRoZXJlIGlzIHRoZSBgY3VzdG9tQ29kZWAgcHJlc2VudFxyXG4gICAgaWYgKFtudWxsLCB1bmRlZmluZWRdLmluY2x1ZGVzKGN1c3RvbUxvZ2ljT3B0aW9ucy5jdXN0b21Db2RlKSkge1xyXG4gICAgICBsb2coMywgJ1tjaGFydF0gTm8gdmFsdWUgZm9yIHRoZSBgY3VzdG9tQ29kZWAgb3B0aW9uIGZvdW5kLicpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENoZWNrIGlmIHRoZXJlIGlzIHRoZSBgY2FsbGJhY2tgIHByZXNlbnRcclxuICAgIGlmIChbbnVsbCwgdW5kZWZpbmVkXS5pbmNsdWRlcyhjdXN0b21Mb2dpY09wdGlvbnMuY2FsbGJhY2spKSB7XHJcbiAgICAgIGxvZygzLCAnW2NoYXJ0XSBObyB2YWx1ZSBmb3IgdGhlIGBjYWxsYmFja2Agb3B0aW9uIGZvdW5kLicpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENoZWNrIGlmIHRoZXJlIGlzIHRoZSBgcmVzb3VyY2VzYCBwcmVzZW50XHJcbiAgICBpZiAoW251bGwsIHVuZGVmaW5lZF0uaW5jbHVkZXMoY3VzdG9tTG9naWNPcHRpb25zLnJlc291cmNlcykpIHtcclxuICAgICAgbG9nKDMsICdbY2hhcnRdIE5vIHZhbHVlIGZvciB0aGUgYHJlc291cmNlc2Agb3B0aW9uIGZvdW5kLicpO1xyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICAvLyBJZiB0aGUgYGFsbG93Q29kZUV4ZWN1dGlvbmAgZmxhZyBpcyBzZXQgdG8gZmFsc2UsIHdlIHNob3VsZCByZWZ1c2VcclxuICAgIC8vIHRoZSB1c2FnZSBvZiB0aGUgYGNhbGxiYWNrYCwgYHJlc291cmNlc2AsIGFuZCBgY3VzdG9tQ29kZWAgb3B0aW9ucy5cclxuICAgIC8vIEFkZGl0aW9uYWxseSwgdGhlIHdvcmtlciB3aWxsIHJlZnVzZSB0byBydW4gYXJiaXRyYXJ5IEphdmFTY3JpcHQuXHJcbiAgICBpZiAoXHJcbiAgICAgIGN1c3RvbUxvZ2ljT3B0aW9ucy5jYWxsYmFjayB8fFxyXG4gICAgICBjdXN0b21Mb2dpY09wdGlvbnMucmVzb3VyY2VzIHx8XHJcbiAgICAgIGN1c3RvbUxvZ2ljT3B0aW9ucy5jdXN0b21Db2RlXHJcbiAgICApIHtcclxuICAgICAgLy8gUmVzZXQgYWxsIGN1c3RvbSBjb2RlIG9wdGlvbnNcclxuICAgICAgY3VzdG9tTG9naWNPcHRpb25zLmNhbGxiYWNrID0gbnVsbDtcclxuICAgICAgY3VzdG9tTG9naWNPcHRpb25zLnJlc291cmNlcyA9IG51bGw7XHJcbiAgICAgIGN1c3RvbUxvZ2ljT3B0aW9ucy5jdXN0b21Db2RlID0gbnVsbDtcclxuXHJcbiAgICAgIC8vIFNlbmQgYSBtZXNzYWdlIHNheWluZyB0aGF0IHRoZSBleHBvcnRlciBkb2VzIG5vdCBzdXBwb3J0IHRoZXNlIHNldHRpbmdzXHJcbiAgICAgIHRocm93IG5ldyBFeHBvcnRFcnJvcihcclxuICAgICAgICBgW2NoYXJ0XSBUaGUgJ2NhbGxiYWNrJywgJ3Jlc291cmNlcycsIGFuZCAnY3VzdG9tQ29kZScgb3B0aW9ucyBoYXZlIGJlZW4gZGlzYWJsZWQgZm9yIHRoaXMgc2VydmVyLmAsXHJcbiAgICAgICAgNDAzXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogSGFuZGxlcyBhbmQgdmFsaWRhdGVzIHJlc291cmNlcyBmcm9tIHRoZSBgcmVzb3VyY2VzYCBvcHRpb24gZm9yIGV4cG9ydC5cclxuICpcclxuICogQGZ1bmN0aW9uIF9oYW5kbGVSZXNvdXJjZXNcclxuICpcclxuICogQHBhcmFtIHsoT2JqZWN0fHN0cmluZ3xudWxsKX0gW3Jlc291cmNlcz1udWxsXSAtIFRoZSByZXNvdXJjZXMgdG8gYmUgaGFuZGxlZC5cclxuICogQ2FuIGJlIGVpdGhlciBhIEpTT04gb2JqZWN0LCBzdHJpbmdpZmllZCBKU09OLCBhIHBhdGggdG8gYSBKU09OIGZpbGUsXHJcbiAqIG9yIG51bGwuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGBudWxsYC5cclxuICogQHBhcmFtIHtib29sZWFufSBhbGxvd0ZpbGVSZXNvdXJjZXMgLSBBIGZsYWcgaW5kaWNhdGluZyB3aGV0aGVyIGxvYWRpbmdcclxuICogcmVzb3VyY2VzIGZyb20gZmlsZXMgaXMgYWxsb3dlZC5cclxuICogQHBhcmFtIHtib29sZWFufSBhbGxvd0NvZGVFeGVjdXRpb24gLSBBIGZsYWcgaW5kaWNhdGluZyB3aGV0aGVyIGNvZGVcclxuICogZXhlY3V0aW9uIGlzIGFsbG93ZWQuXHJcbiAqXHJcbiAqIEByZXR1cm5zIHsoT2JqZWN0fG51bGwpfSBUaGUgaGFuZGxlZCByZXNvdXJjZXMgb3IgbnVsbCBpZiBubyB2YWxpZCByZXNvdXJjZXNcclxuICogYXJlIGZvdW5kLlxyXG4gKi9cclxuZnVuY3Rpb24gX2hhbmRsZVJlc291cmNlcyhcclxuICByZXNvdXJjZXMgPSBudWxsLFxyXG4gIGFsbG93RmlsZVJlc291cmNlcyxcclxuICBhbGxvd0NvZGVFeGVjdXRpb25cclxuKSB7XHJcbiAgbGV0IGhhbmRsZWRSZXNvdXJjZXMgPSByZXNvdXJjZXM7XHJcblxyXG4gIC8vIElmIG5vIHJlc291cmNlcyBmb3VuZCwgdHJ5IHRvIGxvYWQgdGhlIGRlZmF1bHQgcmVzb3VyY2VzXHJcbiAgaWYgKCFoYW5kbGVkUmVzb3VyY2VzKSB7XHJcbiAgICByZXNvdXJjZXMgPSAncmVzb3VyY2VzLmpzb24nO1xyXG4gIH1cclxuXHJcbiAgLy8gTGlzdCBvZiBhbGxvd2VkIHNlY3Rpb25zIGluIHRoZSByZXNvdXJjZXMgSlNPTlxyXG4gIGNvbnN0IGFsbG93ZWRQcm9wcyA9IFsnanMnLCAnY3NzJywgJ2ZpbGVzJ107XHJcblxyXG4gIC8vIEEgZmxhZyB0aGF0IGRlY2lkZXMgYmFzZWQgdG8gcmV0dXJuIHJlc291cmNlcyBvciBgbnVsbGBcclxuICBsZXQgY29ycmVjdFJlc291cmNlcyA9IGZhbHNlO1xyXG5cclxuICAvLyBUcnkgdG8gbG9hZCByZXNvdXJjZXMgZnJvbSBhIGZpbGVcclxuICBpZiAoXHJcbiAgICBhbGxvd0ZpbGVSZXNvdXJjZXMgJiZcclxuICAgIHR5cGVvZiByZXNvdXJjZXMgPT09ICdzdHJpbmcnICYmXHJcbiAgICByZXNvdXJjZXMuZW5kc1dpdGgoJy5qc29uJylcclxuICApIHtcclxuICAgIGhhbmRsZWRSZXNvdXJjZXMgPSBpc0FsbG93ZWRDb25maWcoXHJcbiAgICAgIHJlYWRGaWxlU3luYyhnZXRBYnNvbHV0ZVBhdGgocmVzb3VyY2VzKSwgJ3V0ZjgnKSxcclxuICAgICAgZmFsc2UsXHJcbiAgICAgIGFsbG93Q29kZUV4ZWN1dGlvblxyXG4gICAgKTtcclxuICB9IGVsc2Uge1xyXG4gICAgLy8gVHJ5IHRvIGdldCBKU09OXHJcbiAgICBoYW5kbGVkUmVzb3VyY2VzID0gaXNBbGxvd2VkQ29uZmlnKHJlc291cmNlcywgZmFsc2UsIGFsbG93Q29kZUV4ZWN1dGlvbik7XHJcblxyXG4gICAgLy8gR2V0IHJpZCBvZiB0aGUgZmlsZXMgc2VjdGlvblxyXG4gICAgaWYgKGhhbmRsZWRSZXNvdXJjZXMgJiYgIWFsbG93RmlsZVJlc291cmNlcykge1xyXG4gICAgICBkZWxldGUgaGFuZGxlZFJlc291cmNlcy5maWxlcztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIEZpbHRlciBmcm9tIHVubmVjZXNzYXJ5IHByb3BlcnRpZXNcclxuICBmb3IgKGNvbnN0IHByb3BOYW1lIGluIGhhbmRsZWRSZXNvdXJjZXMpIHtcclxuICAgIGlmICghYWxsb3dlZFByb3BzLmluY2x1ZGVzKHByb3BOYW1lKSkge1xyXG4gICAgICBkZWxldGUgaGFuZGxlZFJlc291cmNlc1twcm9wTmFtZV07XHJcbiAgICB9IGVsc2UgaWYgKCFjb3JyZWN0UmVzb3VyY2VzKSB7XHJcbiAgICAgIGNvcnJlY3RSZXNvdXJjZXMgPSB0cnVlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gQ2hlY2sgaWYgYXQgbGVhc3Qgb25lIG9mIGFsbG93ZWQgcHJvcGVydGllcyBpcyBwcmVzZW50XHJcbiAgaWYgKCFjb3JyZWN0UmVzb3VyY2VzKSB7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcblxyXG4gIC8vIEhhbmRsZSBmaWxlcyBzZWN0aW9uXHJcbiAgaWYgKGhhbmRsZWRSZXNvdXJjZXMuZmlsZXMpIHtcclxuICAgIGhhbmRsZWRSZXNvdXJjZXMuZmlsZXMgPSBoYW5kbGVkUmVzb3VyY2VzLmZpbGVzLm1hcCgoaXRlbSkgPT4gaXRlbS50cmltKCkpO1xyXG4gICAgaWYgKCFoYW5kbGVkUmVzb3VyY2VzLmZpbGVzIHx8IGhhbmRsZWRSZXNvdXJjZXMuZmlsZXMubGVuZ3RoIDw9IDApIHtcclxuICAgICAgZGVsZXRlIGhhbmRsZWRSZXNvdXJjZXMuZmlsZXM7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBSZXR1cm4gcmVzb3VyY2VzXHJcbiAgcmV0dXJuIGhhbmRsZWRSZXNvdXJjZXM7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBIYW5kbGVzIGN1c3RvbSBjb2RlIHRvIGV4ZWN1dGUgaXQgc2FmZWx5LlxyXG4gKlxyXG4gKiBAZnVuY3Rpb24gX2hhbmRsZUN1c3RvbUNvZGVcclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd9IGN1c3RvbUNvZGUgLSBUaGUgY3VzdG9tIGNvZGUgdG8gYmUgd3JhcHBlZC5cclxuICogQHBhcmFtIHtib29sZWFufSBhbGxvd0ZpbGVSZXNvdXJjZXMgLSBGbGFnIHRvIGFsbG93IGxvYWRpbmcgY29kZSBmcm9tIGEgZmlsZS5cclxuICogQHBhcmFtIHtib29sZWFufSBbaXNDYWxsYmFjaz1mYWxzZV0gLSBGbGFnIHRoYXQgaW5kaWNhdGVzIHRoZSByZXR1cm5lZCBjb2RlXHJcbiAqIG11c3QgYmUgaW4gYSBjYWxsYmFjayBmb3JtYXQuXHJcbiAqXHJcbiAqIEByZXR1cm5zIHsoc3RyaW5nfG51bGwpfSBUaGUgd3JhcHBlZCBjdXN0b20gY29kZSBvciBudWxsIGlmIHdyYXBwaW5nIGZhaWxzLlxyXG4gKi9cclxuZnVuY3Rpb24gX2hhbmRsZUN1c3RvbUNvZGUoY3VzdG9tQ29kZSwgYWxsb3dGaWxlUmVzb3VyY2VzLCBpc0NhbGxiYWNrID0gZmFsc2UpIHtcclxuICBpZiAoY3VzdG9tQ29kZSAmJiB0eXBlb2YgY3VzdG9tQ29kZSA9PT0gJ3N0cmluZycpIHtcclxuICAgIGN1c3RvbUNvZGUgPSBjdXN0b21Db2RlLnRyaW0oKTtcclxuXHJcbiAgICBpZiAoY3VzdG9tQ29kZS5lbmRzV2l0aCgnLmpzJykpIHtcclxuICAgICAgLy8gTG9hZCBhIGZpbGUgaWYgdGhlIGZpbGUgcmVzb3VyY2VzIGFyZSBhbGxvd2VkXHJcbiAgICAgIHJldHVybiBhbGxvd0ZpbGVSZXNvdXJjZXNcclxuICAgICAgICA/IF9oYW5kbGVDdXN0b21Db2RlKFxyXG4gICAgICAgICAgICByZWFkRmlsZVN5bmMoZ2V0QWJzb2x1dGVQYXRoKGN1c3RvbUNvZGUpLCAndXRmOCcpLFxyXG4gICAgICAgICAgICBhbGxvd0ZpbGVSZXNvdXJjZXMsXHJcbiAgICAgICAgICAgIGlzQ2FsbGJhY2tcclxuICAgICAgICAgIClcclxuICAgICAgICA6IG51bGw7XHJcbiAgICB9IGVsc2UgaWYgKFxyXG4gICAgICAhaXNDYWxsYmFjayAmJlxyXG4gICAgICAoY3VzdG9tQ29kZS5zdGFydHNXaXRoKCdmdW5jdGlvbigpJykgfHxcclxuICAgICAgICBjdXN0b21Db2RlLnN0YXJ0c1dpdGgoJ2Z1bmN0aW9uICgpJykgfHxcclxuICAgICAgICBjdXN0b21Db2RlLnN0YXJ0c1dpdGgoJygpPT4nKSB8fFxyXG4gICAgICAgIGN1c3RvbUNvZGUuc3RhcnRzV2l0aCgnKCkgPT4nKSlcclxuICAgICkge1xyXG4gICAgICAvLyBUcmVhdCBhIGZ1bmN0aW9uIGFzIGEgc2VsZi1pbnZva2luZyBleHByZXNzaW9uXHJcbiAgICAgIHJldHVybiBgKCR7Y3VzdG9tQ29kZX0pKClgO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE9yIHJldHVybiBhcyBhIHN0cmluZ2lmaWVkIGNvZGVcclxuICAgIHJldHVybiBjdXN0b21Db2RlLnJlcGxhY2UoLzskLywgJycpO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEhhbmRsZXMgdGhlIGxvYWRpbmcgYW5kIHZhbGlkYXRpb24gb2YgdGhlIGBnbG9iYWxPcHRpb25zYCBhbmQgYHRoZW1lT3B0aW9uc2BcclxuICogaW4gdGhlIGV4cG9ydCBvcHRpb25zLiBJZiB0aGUgb3B0aW9uIGlzIGEgc3RyaW5nIGFuZCByZWZlcmVuY2VzIGEgSlNPTiBmaWxlXHJcbiAqICh3aGVuIHRoZSBgYWxsb3dGaWxlUmVzb3VyY2VzYCBpcyBgdHJ1ZWApLCBpdCByZWFkcyBhbmQgcGFyc2VzIHRoZSBmaWxlLlxyXG4gKiBPdGhlcndpc2UsIGl0IGF0dGVtcHRzIHRvIHBhcnNlIHRoZSBzdHJpbmcgb3Igb2JqZWN0IGFzIEpTT04uIElmIGFueSBlcnJvcnNcclxuICogb2NjdXIgZHVyaW5nIHRoaXMgcHJvY2VzcywgdGhlIG9wdGlvbiBpcyBzZXQgdG8gYG51bGxgLiBJZiB0aGVyZSBpcyBhbiBlcnJvclxyXG4gKiBsb2FkaW5nIG9yIHBhcnNpbmcgdGhlIGBnbG9iYWxPcHRpb25zYCBvciBgdGhlbWVPcHRpb25zYCwgdGhlIGVycm9yIGlzIGxvZ2dlZFxyXG4gKiBhbmQgdGhlIG9wdGlvbiBpcyBzZXQgdG8gYG51bGxgLlxyXG4gKlxyXG4gKiBAZnVuY3Rpb24gX2hhbmRsZUdsb2JhbEFuZFRoZW1lXHJcbiAqXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBleHBvcnRPcHRpb25zIC0gVGhlIGNvbmZpZ3VyYXRpb24gb2JqZWN0IGNvbnRhaW5pbmcgYGV4cG9ydGBcclxuICogb3B0aW9ucy5cclxuICogQHBhcmFtIHtPYmplY3R9IGN1c3RvbUxvZ2ljT3B0aW9ucyAtIFRoZSBjb25maWd1cmF0aW9uIG9iamVjdCBjb250YWluaW5nXHJcbiAqIGBjdXN0b21Mb2dpY2Agb3B0aW9ucy5cclxuICovXHJcbmZ1bmN0aW9uIF9oYW5kbGVHbG9iYWxBbmRUaGVtZShleHBvcnRPcHRpb25zLCBjdXN0b21Mb2dpY09wdGlvbnMpIHtcclxuICAvLyBHZXQgdGhlIGBhbGxvd0ZpbGVSZXNvdXJjZXNgIGFuZCBgYWxsb3dDb2RlRXhlY3V0aW9uYCBmbGFnc1xyXG4gIGNvbnN0IHsgYWxsb3dGaWxlUmVzb3VyY2VzLCBhbGxvd0NvZGVFeGVjdXRpb24gfSA9IGN1c3RvbUxvZ2ljT3B0aW9ucztcclxuXHJcbiAgLy8gQ2hlY2sgdGhlIGBnbG9iYWxPcHRpb25zYCBhbmQgYHRoZW1lT3B0aW9uc2Agb3B0aW9uc1xyXG4gIFsnZ2xvYmFsT3B0aW9ucycsICd0aGVtZU9wdGlvbnMnXS5mb3JFYWNoKChvcHRpb25zTmFtZSkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gQ2hlY2sgaWYgdGhlIG9wdGlvbiBleGlzdHNcclxuICAgICAgaWYgKGV4cG9ydE9wdGlvbnNbb3B0aW9uc05hbWVdKSB7XHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgaXQgaXMgYSBzdHJpbmcgYW5kIGEgZmlsZSBuYW1lIHdpdGggdGhlIGAuanNvbmAgZXh0ZW5zaW9uXHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgYWxsb3dGaWxlUmVzb3VyY2VzICYmXHJcbiAgICAgICAgICB0eXBlb2YgZXhwb3J0T3B0aW9uc1tvcHRpb25zTmFtZV0gPT09ICdzdHJpbmcnICYmXHJcbiAgICAgICAgICBleHBvcnRPcHRpb25zW29wdGlvbnNOYW1lXS5lbmRzV2l0aCgnLmpzb24nKVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGZpbGUgY29udGVudCBjYW4gYmUgYSBjb25maWcsIGFuZCBzYXZlIGl0IGFzIGEgc3RyaW5nXHJcbiAgICAgICAgICBleHBvcnRPcHRpb25zW29wdGlvbnNOYW1lXSA9IGlzQWxsb3dlZENvbmZpZyhcclxuICAgICAgICAgICAgcmVhZEZpbGVTeW5jKGdldEFic29sdXRlUGF0aChleHBvcnRPcHRpb25zW29wdGlvbnNOYW1lXSksICd1dGY4JyksXHJcbiAgICAgICAgICAgIHRydWUsXHJcbiAgICAgICAgICAgIGFsbG93Q29kZUV4ZWN1dGlvblxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHZhbHVlIGNhbiBiZSBhIGNvbmZpZywgYW5kIHNhdmUgaXQgYXMgYSBzdHJpbmdcclxuICAgICAgICAgIGV4cG9ydE9wdGlvbnNbb3B0aW9uc05hbWVdID0gaXNBbGxvd2VkQ29uZmlnKFxyXG4gICAgICAgICAgICBleHBvcnRPcHRpb25zW29wdGlvbnNOYW1lXSxcclxuICAgICAgICAgICAgdHJ1ZSxcclxuICAgICAgICAgICAgYWxsb3dDb2RlRXhlY3V0aW9uXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgbG9nV2l0aFN0YWNrKFxyXG4gICAgICAgIDIsXHJcbiAgICAgICAgZXJyb3IsXHJcbiAgICAgICAgYFtjaGFydF0gVGhlIFxcYCR7b3B0aW9uc05hbWV9XFxgIGNhbm5vdCBiZSBsb2FkZWQuYFxyXG4gICAgICApO1xyXG5cclxuICAgICAgLy8gSW4gY2FzZSBvZiBhbiBlcnJvciwgc2V0IHRoZSBvcHRpb24gd2l0aCBudWxsXHJcbiAgICAgIGV4cG9ydE9wdGlvbnNbb3B0aW9uc05hbWVdID0gbnVsbDtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgLy8gQ2hlY2sgaWYgdGhlcmUgaXMgdGhlIGBnbG9iYWxPcHRpb25zYCBwcmVzZW50XHJcbiAgaWYgKFtudWxsLCB1bmRlZmluZWRdLmluY2x1ZGVzKGV4cG9ydE9wdGlvbnMuZ2xvYmFsT3B0aW9ucykpIHtcclxuICAgIGxvZygzLCAnW2NoYXJ0XSBObyB2YWx1ZSBmb3IgdGhlIGBnbG9iYWxPcHRpb25zYCBvcHRpb24gZm91bmQuJyk7XHJcbiAgfVxyXG5cclxuICAvLyBDaGVjayBpZiB0aGVyZSBpcyB0aGUgYHRoZW1lT3B0aW9uc2AgcHJlc2VudFxyXG4gIGlmIChbbnVsbCwgdW5kZWZpbmVkXS5pbmNsdWRlcyhleHBvcnRPcHRpb25zLnRoZW1lT3B0aW9ucykpIHtcclxuICAgIGxvZygzLCAnW2NoYXJ0XSBObyB2YWx1ZSBmb3IgdGhlIGB0aGVtZU9wdGlvbnNgIG9wdGlvbiBmb3VuZC4nKTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBWYWxpZGF0ZXMgdGhlIHNpemUgb2YgdGhlIGRhdGEgZm9yIHRoZSBleHBvcnQgcHJvY2VzcyBhZ2FpbnN0IGEgZml4ZWQgbGltaXRcclxuICogb2YgMTAwTUIuXHJcbiAqXHJcbiAqIEBmdW5jdGlvbiBfY2hlY2tEYXRhU2l6ZVxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gaW1hZ2VPcHRpb25zIC0gVGhlIGRhdGEgb2JqZWN0LCB3aGljaCBpbmNsdWRlcyBvcHRpb25zIGZyb21cclxuICogdGhlIGBleHBvcnRgIGFuZCBgY3VzdG9tTG9naWNgIHNlY3Rpb25zIGFuZCB3aWxsIGJlIHNlbnQgdG8gYSBQdXBwZXRlZXIgcGFnZS5cclxuICpcclxuICogQHRocm93cyB7RXhwb3J0RXJyb3J9IFRocm93cyBhbiBgRXhwb3J0RXJyb3JgIGlmIHRoZSBzaXplIG9mIHRoZSBkYXRhIGZvclxyXG4gKiB0aGUgZXhwb3J0IHByb2Nlc3Mgb2JqZWN0IGV4Y2VlZHMgdGhlIDEwME1CIGxpbWl0LlxyXG4gKi9cclxuZnVuY3Rpb24gX2NoZWNrRGF0YVNpemUoaW1hZ2VPcHRpb25zKSB7XHJcbiAgLy8gU2V0IHRoZSBmaXhlZCBkYXRhIGxpbWl0ICgxMDBNQikgZm9yIHRoZSBkZXYtdG9vbHMgcHJvdG9jb2xcclxuICBjb25zdCBkYXRhTGltaXQgPSAxMDAgKiAxMDI0ICogMTAyNDtcclxuXHJcbiAgLy8gR2V0IHRoZSBzaXplIG9mIHRoZSBkYXRhXHJcbiAgY29uc3QgdG90YWxTaXplID0gQnVmZmVyLmJ5dGVMZW5ndGgoSlNPTi5zdHJpbmdpZnkoaW1hZ2VPcHRpb25zKSwgJ3V0Zi04Jyk7XHJcblxyXG4gIC8vIExvZyB0aGUgc2l6ZSBpbiBNQlxyXG4gIGxvZyhcclxuICAgIDMsXHJcbiAgICBgW2NoYXJ0XSBUaGUgY3VycmVudCB0b3RhbCBzaXplIG9mIHRoZSBkYXRhIGZvciB0aGUgZXhwb3J0IHByb2Nlc3MgaXMgYXJvdW5kICR7KFxyXG4gICAgICB0b3RhbFNpemUgL1xyXG4gICAgICAoMTAyNCAqIDEwMjQpXHJcbiAgICApLnRvRml4ZWQoMil9TUIuYFxyXG4gICk7XHJcblxyXG4gIC8vIENoZWNrIHRoZSBzaXplIG9mIGRhdGEgYmVmb3JlIHBhc3NpbmcgdG8gYSBwYWdlXHJcbiAgaWYgKHRvdGFsU2l6ZSA+PSBkYXRhTGltaXQpIHtcclxuICAgIHRocm93IG5ldyBFeHBvcnRFcnJvcihcclxuICAgICAgYFtjaGFydF0gVGhlIGRhdGEgZm9yIHRoZSBleHBvcnQgcHJvY2VzcyBleGNlZWRzIDEwME1CIGxpbWl0LmBcclxuICAgICk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgc2luZ2xlRXhwb3J0LFxyXG4gIGJhdGNoRXhwb3J0LFxyXG4gIHN0YXJ0RXhwb3J0LFxyXG4gIGdldEFsbG93Q29kZUV4ZWN1dGlvbixcclxuICBzZXRBbGxvd0NvZGVFeGVjdXRpb25cclxufTtcclxuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHJcbkhpZ2hjaGFydHMgRXhwb3J0IFNlcnZlclxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE2LTIwMjUsIEhpZ2hzb2Z0XHJcblxyXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXHJcblxyXG5BZGRpdGlvbmFsbHkgYSB2YWxpZCBIaWdoY2hhcnRzIGxpY2Vuc2UgaXMgcmVxdWlyZWQgZm9yIHVzZS5cclxuXHJcblNlZSBMSUNFTlNFIGZpbGUgaW4gcm9vdCBmb3IgZGV0YWlscy5cclxuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4vKipcclxuICogQG92ZXJ2aWV3IFRoaXMgbW9kdWxlIHByb3ZpZGVzIHV0aWxpdHkgZnVuY3Rpb25zIGZvciBtYW5hZ2luZyBpbnRlcnZhbHNcclxuICogYW5kIHRpbWVvdXRzIGluIGEgY2VudHJhbGl6ZWQgbWFubmVyLiBJdCBtYWludGFpbnMgYSByZWdpc3RyeSBvZiBhbGwgYWN0aXZlXHJcbiAqIHRpbWVycyBhbmQgYWxsb3dzIGZvciB0aGVpciBlZmZpY2llbnQgY2xlYW51cCB3aGVuIG5lZWRlZCB0byBhdm9pZCBwb3RlbnRpYWxcclxuICogbWVtb3J5IGxlYWtzLCB1bmludGVuZGVkIGJlaGF2aW9yIG9yIGEgcHJvY2VzcyBmcm9tIGJlaW5nIHN0b3BwZWQuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgbG9nIH0gZnJvbSAnLi9sb2dnZXIuanMnO1xyXG5cclxuLy8gQXJyYXkgdGhhdCBjb250YWlucyBpZHMgb2YgYWxsIG9uZ29pbmcgaW50ZXJ2YWxzIGFuZCB0aW1lb3V0c1xyXG5jb25zdCB0aW1lcklkcyA9IFtdO1xyXG5cclxuLyoqXHJcbiAqIEFkZHMgaWQgb2YgdGhlIGBzZXRJbnRlcnZhbGAgb3IgYHNldFRpbWVvdXRgIGFuZCB0byB0aGUgYHRpbWVySWRzYCBhcnJheS5cclxuICpcclxuICogQGZ1bmN0aW9uIGFkZFRpbWVyXHJcbiAqXHJcbiAqIEBwYXJhbSB7Tm9kZUpTLlRpbWVvdXR9IGlkIC0gSWQgb2YgYW4gaW50ZXJ2YWwgb3IgYSB0aW1lb3V0LlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGFkZFRpbWVyKGlkKSB7XHJcbiAgdGltZXJJZHMucHVzaChpZCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDbGVhcnMgYWxsIG9mIG9uZ29pbmcgaW50ZXJ2YWxzIGFuZCB0aW1lb3V0cyBieSBpZHMgZ2F0aGVyZWRcclxuICogaW4gdGhlIGB0aW1lcklkc2AgYXJyYXkuXHJcbiAqXHJcbiAqIEBmdW5jdGlvbiBjbGVhckFsbFRpbWVyc1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyQWxsVGltZXJzKCkge1xyXG4gIGxvZyg0LCBgW3RpbWVyXSBDbGVhcmluZyBhbGwgcmVnaXN0ZXJlZCBpbnRlcnZhbHMgYW5kIHRpbWVvdXRzLmApO1xyXG4gIGZvciAoY29uc3QgaWQgb2YgdGltZXJJZHMpIHtcclxuICAgIGNsZWFySW50ZXJ2YWwoaWQpO1xyXG4gICAgY2xlYXJUaW1lb3V0KGlkKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICBhZGRUaW1lcixcclxuICBjbGVhckFsbFRpbWVyc1xyXG59O1xyXG4iLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5cclxuSGlnaGNoYXJ0cyBFeHBvcnQgU2VydmVyXHJcblxyXG5Db3B5cmlnaHQgKGMpIDIwMTYtMjAyNSwgSGlnaHNvZnRcclxuXHJcbkxpY2VuY2VkIHVuZGVyIHRoZSBNSVQgbGljZW5jZS5cclxuXHJcbkFkZGl0aW9uYWxseSBhIHZhbGlkIEhpZ2hjaGFydHMgbGljZW5zZSBpcyByZXF1aXJlZCBmb3IgdXNlLlxyXG5cclxuU2VlIExJQ0VOU0UgZmlsZSBpbiByb290IGZvciBkZXRhaWxzLlxyXG5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbi8qKlxyXG4gKiBAb3ZlcnZpZXcgUHJvdmlkZXMgbWlkZGxld2FyZSBmdW5jdGlvbnMgZm9yIGxvZ2dpbmcgZXJyb3JzIHdpdGggc3RhY2sgdHJhY2VzXHJcbiAqIGFuZCBoYW5kbGluZyBlcnJvciByZXNwb25zZXMgaW4gYW4gRXhwcmVzcyBhcHBsaWNhdGlvbi5cclxuICovXHJcblxyXG5pbXBvcnQgeyBnZXRPcHRpb25zIH0gZnJvbSAnLi4vLi4vY29uZmlnLmpzJztcclxuaW1wb3J0IHsgbG9nV2l0aFN0YWNrIH0gZnJvbSAnLi4vLi4vbG9nZ2VyLmpzJztcclxuXHJcbi8qKlxyXG4gKiBNaWRkbGV3YXJlIGZvciBsb2dnaW5nIGVycm9ycyB3aXRoIHN0YWNrIHRyYWNlIGFuZCBoYW5kbGluZyBlcnJvciByZXNwb25zZS5cclxuICpcclxuICogQGZ1bmN0aW9uIGxvZ0Vycm9yTWlkZGxld2FyZVxyXG4gKlxyXG4gKiBAcGFyYW0ge0Vycm9yfSBlcnJvciAtIFRoZSBlcnJvciBvYmplY3QuXHJcbiAqIEBwYXJhbSB7RXhwcmVzcy5SZXF1ZXN0fSByZXF1ZXN0IC0gVGhlIEV4cHJlc3MgcmVxdWVzdCBvYmplY3QuXHJcbiAqIEBwYXJhbSB7RXhwcmVzcy5SZXNwb25zZX0gcmVzcG9uc2UgLSBUaGUgRXhwcmVzcyByZXNwb25zZSBvYmplY3QuXHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IG5leHQgLSBUaGUgbmV4dCBtaWRkbGV3YXJlIGZ1bmN0aW9uLlxyXG4gKlxyXG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfSBUaGUgY2FsbCB0byB0aGUgbmV4dCBtaWRkbGV3YXJlIGZ1bmN0aW9uIHdpdGhcclxuICogdGhlIHBhc3NlZCBlcnJvci5cclxuICovXHJcbmZ1bmN0aW9uIGxvZ0Vycm9yTWlkZGxld2FyZShlcnJvciwgcmVxdWVzdCwgcmVzcG9uc2UsIG5leHQpIHtcclxuICAvLyBEaXNwbGF5IHRoZSBlcnJvciB3aXRoIHN0YWNrIGluIGEgY29ycmVjdCBmb3JtYXRcclxuICBsb2dXaXRoU3RhY2soMSwgZXJyb3IpO1xyXG5cclxuICAvLyBEZWxldGUgdGhlIHN0YWNrIGZvciB0aGUgZW52aXJvbm1lbnQgb3RoZXIgdGhhbiB0aGUgZGV2ZWxvcG1lbnRcclxuICBpZiAoZ2V0T3B0aW9ucygpLm90aGVyLm5vZGVFbnYgIT09ICdkZXZlbG9wbWVudCcpIHtcclxuICAgIGRlbGV0ZSBlcnJvci5zdGFjaztcclxuICB9XHJcblxyXG4gIC8vIENhbGwgdGhlIGByZXR1cm5FcnJvck1pZGRsZXdhcmVgIG1pZGRsZXdhcmVcclxuICByZXR1cm4gbmV4dChlcnJvcik7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBNaWRkbGV3YXJlIGZvciByZXR1cm5pbmcgZXJyb3IgcmVzcG9uc2UuXHJcbiAqXHJcbiAqIEBmdW5jdGlvbiByZXR1cm5FcnJvck1pZGRsZXdhcmVcclxuICpcclxuICogQHBhcmFtIHtFcnJvcn0gZXJyb3IgLSBUaGUgZXJyb3Igb2JqZWN0LlxyXG4gKiBAcGFyYW0ge0V4cHJlc3MuUmVxdWVzdH0gcmVxdWVzdCAtIFRoZSBFeHByZXNzIHJlcXVlc3Qgb2JqZWN0LlxyXG4gKiBAcGFyYW0ge0V4cHJlc3MuUmVzcG9uc2V9IHJlc3BvbnNlIC0gVGhlIEV4cHJlc3MgcmVzcG9uc2Ugb2JqZWN0LlxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBuZXh0IC0gVGhlIG5leHQgbWlkZGxld2FyZSBmdW5jdGlvbi5cclxuICovXHJcbmZ1bmN0aW9uIHJldHVybkVycm9yTWlkZGxld2FyZShlcnJvciwgcmVxdWVzdCwgcmVzcG9uc2UsIG5leHQpIHtcclxuICAvLyBHYXRoZXIgYWxsIHJlcXVpZWQgaW5mb3JtYXRpb24gZm9yIHRoZSByZXNwb25zZVxyXG4gIGNvbnN0IHsgbWVzc2FnZSwgc3RhY2sgfSA9IGVycm9yO1xyXG5cclxuICAvLyBVc2UgdGhlIGVycm9yJ3Mgc3RhdHVzIGNvZGUgb3IgdGhlIGRlZmF1bHQgNDAwXHJcbiAgY29uc3Qgc3RhdHVzQ29kZSA9IGVycm9yLnN0YXR1c0NvZGUgfHwgNDAwO1xyXG5cclxuICAvLyBTZXQgYW5kIHJldHVybiByZXNwb25zZVxyXG4gIHJlc3BvbnNlLnN0YXR1cyhzdGF0dXNDb2RlKS5qc29uKHsgc3RhdHVzQ29kZSwgbWVzc2FnZSwgc3RhY2sgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBZGRzIHRoZSBlcnJvciBtaWRkbGV3YXJlcyB0byB0aGUgcGFzc2VkIGV4cHJlc3MgYXBwIGluc3RhbmNlLlxyXG4gKlxyXG4gKiBAcGFyYW0ge0V4cHJlc3N9IGFwcCAtIFRoZSBFeHByZXNzIGFwcCBpbnN0YW5jZS5cclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGVycm9yTWlkZGxld2FyZShhcHApIHtcclxuICAvLyBBZGQgbG9nIGVycm9yIG1pZGRsZXdhcmVcclxuICBhcHAudXNlKGxvZ0Vycm9yTWlkZGxld2FyZSk7XHJcblxyXG4gIC8vIEFkZCBzZXQgc3RhdHVzIGFuZCByZXR1cm4gZXJyb3IgbWlkZGxld2FyZVxyXG4gIGFwcC51c2UocmV0dXJuRXJyb3JNaWRkbGV3YXJlKTtcclxufVxyXG4iLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5cclxuSGlnaGNoYXJ0cyBFeHBvcnQgU2VydmVyXHJcblxyXG5Db3B5cmlnaHQgKGMpIDIwMTYtMjAyNSwgSGlnaHNvZnRcclxuXHJcbkxpY2VuY2VkIHVuZGVyIHRoZSBNSVQgbGljZW5jZS5cclxuXHJcbkFkZGl0aW9uYWxseSBhIHZhbGlkIEhpZ2hjaGFydHMgbGljZW5zZSBpcyByZXF1aXJlZCBmb3IgdXNlLlxyXG5cclxuU2VlIExJQ0VOU0UgZmlsZSBpbiByb290IGZvciBkZXRhaWxzLlxyXG5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbi8qKlxyXG4gKiBAb3ZlcnZpZXcgUHJvdmlkZXMgbWlkZGxld2FyZSBmdW5jdGlvbnMgZm9yIGNvbmZpZ3VyaW5nIGFuZCBlbmFibGluZyByYXRlXHJcbiAqIGxpbWl0aW5nIGluIGFuIEV4cHJlc3MgYXBwbGljYXRpb24uXHJcbiAqL1xyXG5cclxuaW1wb3J0IHJhdGVMaW1pdCBmcm9tICdleHByZXNzLXJhdGUtbGltaXQnO1xyXG5cclxuaW1wb3J0IHsgbG9nIH0gZnJvbSAnLi4vLi4vbG9nZ2VyLmpzJztcclxuXHJcbmltcG9ydCBFeHBvcnRFcnJvciBmcm9tICcuLi8uLi9lcnJvcnMvRXhwb3J0RXJyb3IuanMnO1xyXG5cclxuLyoqXHJcbiAqIE1pZGRsZXdhcmUgZm9yIGVuYWJsaW5nIHJhdGUgbGltaXRpbmcgb24gdGhlIHNwZWNpZmllZCBFeHByZXNzIGFwcC5cclxuICpcclxuICogQHBhcmFtIHtFeHByZXNzfSBhcHAgLSBUaGUgRXhwcmVzcyBhcHAgaW5zdGFuY2UuXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSByYXRlTGltaXRpbmdPcHRpb25zIC0gVGhlIGNvbmZpZ3VyYXRpb24gb2JqZWN0IGNvbnRhaW5pbmdcclxuICogYHJhdGVMaW1pdGluZ2Agb3B0aW9ucy5cclxuICpcclxuICogQHRocm93cyB7RXhwb3J0RXJyb3J9IFRocm93cyBhbiBgRXhwb3J0RXJyb3JgIGlmIGNvdWxkIG5vdCBjb25maWd1cmUgYW5kIHNldFxyXG4gKiB0aGUgcmF0ZSBsaW1pdGluZyBvcHRpb25zLlxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmF0ZUxpbWl0aW5nTWlkZGxld2FyZShhcHAsIHJhdGVMaW1pdGluZ09wdGlvbnMpIHtcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgaWYgdGhlIHJhdGUgbGltaXRpbmcgaXMgZW5hYmxlZCBhbmQgdGhlIGFwcCBleGlzdHNcclxuICAgIGlmIChhcHAgJiYgcmF0ZUxpbWl0aW5nT3B0aW9ucy5lbmFibGUpIHtcclxuICAgICAgY29uc3QgbWVzc2FnZSA9XHJcbiAgICAgICAgJ1RvbyBtYW55IHJlcXVlc3RzLCB5b3UgaGF2ZSBiZWVuIHJhdGUgbGltaXRlZC4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci4nO1xyXG5cclxuICAgICAgLy8gT3B0aW9ucyBmb3IgdGhlIHJhdGUgbGltaXRlclxyXG4gICAgICBjb25zdCByYXRlT3B0aW9ucyA9IHtcclxuICAgICAgICB3aW5kb3c6IHJhdGVMaW1pdGluZ09wdGlvbnMud2luZG93IHx8IDEsXHJcbiAgICAgICAgbWF4UmVxdWVzdHM6IHJhdGVMaW1pdGluZ09wdGlvbnMubWF4UmVxdWVzdHMgfHwgMzAsXHJcbiAgICAgICAgZGVsYXk6IHJhdGVMaW1pdGluZ09wdGlvbnMuZGVsYXkgfHwgMCxcclxuICAgICAgICB0cnVzdFByb3h5OiByYXRlTGltaXRpbmdPcHRpb25zLnRydXN0UHJveHkgfHwgZmFsc2UsXHJcbiAgICAgICAgc2tpcEtleTogcmF0ZUxpbWl0aW5nT3B0aW9ucy5za2lwS2V5IHx8IG51bGwsXHJcbiAgICAgICAgc2tpcFRva2VuOiByYXRlTGltaXRpbmdPcHRpb25zLnNraXBUb2tlbiB8fCBudWxsXHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvLyBTZXQgaWYgYmVoaW5kIGEgcHJveHlcclxuICAgICAgaWYgKHJhdGVPcHRpb25zLnRydXN0UHJveHkpIHtcclxuICAgICAgICBhcHAuZW5hYmxlKCd0cnVzdCBwcm94eScpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBDcmVhdGUgYSBsaW1pdGVyXHJcbiAgICAgIGNvbnN0IGxpbWl0ZXIgPSByYXRlTGltaXQoe1xyXG4gICAgICAgIC8vIFRpbWUgZnJhbWUgZm9yIHdoaWNoIHJlcXVlc3RzIGFyZSBjaGVja2VkIGFuZCByZW1lbWJlcmVkXHJcbiAgICAgICAgd2luZG93TXM6IHJhdGVPcHRpb25zLndpbmRvdyAqIDYwICogMTAwMCxcclxuICAgICAgICAvLyBMaW1pdCBlYWNoIElQIHRvIDEwMCByZXF1ZXN0cyBwZXIgYHdpbmRvd01zYFxyXG4gICAgICAgIGxpbWl0OiByYXRlT3B0aW9ucy5tYXhSZXF1ZXN0cyxcclxuICAgICAgICAvLyBEaXNhYmxlIGRlbGF5aW5nLCBmdWxsIHNwZWVkIHVudGlsIHRoZSBtYXggbGltaXQgaXMgcmVhY2hlZFxyXG4gICAgICAgIGRlbGF5TXM6IHJhdGVPcHRpb25zLmRlbGF5LFxyXG4gICAgICAgIGhhbmRsZXI6IChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgcmVzcG9uc2UuZm9ybWF0KHtcclxuICAgICAgICAgICAganNvbjogKCkgPT4ge1xyXG4gICAgICAgICAgICAgIHJlc3BvbnNlLnN0YXR1cyg0MjkpLnNlbmQoeyBtZXNzYWdlIH0pO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBkZWZhdWx0OiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgcmVzcG9uc2Uuc3RhdHVzKDQyOSkuc2VuZChtZXNzYWdlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBza2lwOiAocmVxdWVzdCkgPT4ge1xyXG4gICAgICAgICAgLy8gQWxsb3cgYnlwYXNzaW5nIHRoZSBsaW1pdGVyIGlmIGEgdmFsaWQga2V5L3Rva2VuIGhhcyBiZWVuIHNlbnRcclxuICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgcmF0ZU9wdGlvbnMuc2tpcEtleSAhPT0gbnVsbCAmJlxyXG4gICAgICAgICAgICByYXRlT3B0aW9ucy5za2lwVG9rZW4gIT09IG51bGwgJiZcclxuICAgICAgICAgICAgcmVxdWVzdC5xdWVyeS5rZXkgPT09IHJhdGVPcHRpb25zLnNraXBLZXkgJiZcclxuICAgICAgICAgICAgcmVxdWVzdC5xdWVyeS5hY2Nlc3NfdG9rZW4gPT09IHJhdGVPcHRpb25zLnNraXBUb2tlblxyXG4gICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGxvZyg0LCAnW3JhdGUgbGltaXRpbmddIFNraXBwaW5nIHJhdGUgbGltaXRlci4nKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIFVzZSBhIGxpbWl0ZXIgYXMgYSBtaWRkbGV3YXJlXHJcbiAgICAgIGFwcC51c2UobGltaXRlcik7XHJcblxyXG4gICAgICBsb2coXHJcbiAgICAgICAgMyxcclxuICAgICAgICBgW3JhdGUgbGltaXRpbmddIEVuYWJsZWQgcmF0ZSBsaW1pdGluZyB3aXRoICR7cmF0ZU9wdGlvbnMubWF4UmVxdWVzdHN9IHJlcXVlc3RzIHBlciAke3JhdGVPcHRpb25zLndpbmRvd30gbWludXRlIGZvciBlYWNoIElQLCB0cnVzdGluZyBwcm94eTogJHtyYXRlT3B0aW9ucy50cnVzdFByb3h5fS5gXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHRocm93IG5ldyBFeHBvcnRFcnJvcihcclxuICAgICAgJ1tyYXRlIGxpbWl0aW5nXSBDb3VsZCBub3QgY29uZmlndXJlIGFuZCBzZXQgdGhlIHJhdGUgbGltaXRpbmcgb3B0aW9ucy4nLFxyXG4gICAgICA1MDBcclxuICAgICkuc2V0RXJyb3IoZXJyb3IpO1xyXG4gIH1cclxufVxyXG4iLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5cclxuSGlnaGNoYXJ0cyBFeHBvcnQgU2VydmVyXHJcblxyXG5Db3B5cmlnaHQgKGMpIDIwMTYtMjAyNSwgSGlnaHNvZnRcclxuXHJcbkxpY2VuY2VkIHVuZGVyIHRoZSBNSVQgbGljZW5jZS5cclxuXHJcbkFkZGl0aW9uYWxseSBhIHZhbGlkIEhpZ2hjaGFydHMgbGljZW5zZSBpcyByZXF1aXJlZCBmb3IgdXNlLlxyXG5cclxuU2VlIExJQ0VOU0UgZmlsZSBpbiByb290IGZvciBkZXRhaWxzLlxyXG5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbi8qKlxyXG4gKiBAb3ZlcnZpZXcgUHJvdmlkZXMgbWlkZGxld2FyZSBmdW5jdGlvbnMgZm9yIHZhbGlkYXRpbmcgaW5jb21pbmcgSFRUUCByZXF1ZXN0c1xyXG4gKiBpbiBhbiBFeHByZXNzIGFwcGxpY2F0aW9uLiBUaGlzIG1vZHVsZSBlbnN1cmVzIHRoYXQgcmVxdWVzdHMgY29udGFpblxyXG4gKiBhcHByb3ByaWF0ZSBjb250ZW50IHR5cGVzIGFuZCB2YWxpZCByZXF1ZXN0IGJvZGllcywgaW5jbHVkaW5nIHByb3BlciBKU09OXHJcbiAqIHN0cnVjdHVyZXMgYW5kIGNoYXJ0IGRhdGEgZm9yIGV4cG9ydHMuIEl0IGNoZWNrcyBmb3IgcG90ZW50aWFsIGlzc3VlcyBzdWNoXHJcbiAqIGFzIG1pc3Npbmcgb3IgbWFsZm9ybWVkIGRhdGEsIHByaXZhdGUgcmFuZ2UgVVJMcyBpbiBTVkcgcGF5bG9hZHMsIGFuZCBhbGxvd3NcclxuICogZm9yIGZsZXhpYmxlIG9wdGlvbnMgdmFsaWRhdGlvbi4gVGhlIG1pZGRsZXdhcmUgbG9ncyBkZXRhaWxlZCBpbmZvcm1hdGlvblxyXG4gKiBhbmQgaGFuZGxlcyBlcnJvcnMgcmVsYXRlZCB0byBpbmNvcnJlY3QgcGF5bG9hZHMsIGNoYXJ0IGRhdGEsIGFuZCBwcml2YXRlIFVSTFxyXG4gKiB1c2FnZS5cclxuICovXHJcblxyXG5pbXBvcnQgeyB2NCBhcyB1dWlkIH0gZnJvbSAndXVpZCc7XHJcblxyXG5pbXBvcnQgeyBnZXRBbGxvd0NvZGVFeGVjdXRpb24gfSBmcm9tICcuLi8uLi9jaGFydC5qcyc7XHJcbmltcG9ydCB7IGlzQWxsb3dlZENvbmZpZyB9IGZyb20gJy4uLy4uL2NvbmZpZy5qcyc7XHJcbmltcG9ydCB7IGxvZyB9IGZyb20gJy4uLy4uL2xvZ2dlci5qcyc7XHJcbmltcG9ydCB7IGlzT2JqZWN0RW1wdHksIGlzUHJpdmF0ZVJhbmdlVXJsRm91bmQgfSBmcm9tICcuLi8uLi91dGlscy5qcyc7XHJcblxyXG5pbXBvcnQgRXhwb3J0RXJyb3IgZnJvbSAnLi4vLi4vZXJyb3JzL0V4cG9ydEVycm9yLmpzJztcclxuXHJcbi8qKlxyXG4gKiBNaWRkbGV3YXJlIGZvciB2YWxpZGF0aW5nIHRoZSBjb250ZW50LXR5cGUgaGVhZGVyLlxyXG4gKlxyXG4gKiBAZnVuY3Rpb24gY29udGVudFR5cGVNaWRkbGV3YXJlXHJcbiAqXHJcbiAqIEBwYXJhbSB7RXhwcmVzcy5SZXF1ZXN0fSByZXF1ZXN0IC0gVGhlIEV4cHJlc3MgcmVxdWVzdCBvYmplY3QuXHJcbiAqIEBwYXJhbSB7RXhwcmVzcy5SZXNwb25zZX0gcmVzcG9uc2UgLSBUaGUgRXhwcmVzcyByZXNwb25zZSBvYmplY3QuXHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IG5leHQgLSBUaGUgbmV4dCBtaWRkbGV3YXJlIGZ1bmN0aW9uLlxyXG4gKlxyXG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfSBUaGUgY2FsbCB0byB0aGUgbmV4dCBtaWRkbGV3YXJlIGZ1bmN0aW9uLlxyXG4gKlxyXG4gKiBAdGhyb3dzIHtFeHBvcnRFcnJvcn0gVGhyb3dzIGFuIGBFeHBvcnRFcnJvcmAgaWYgdGhlIGNvbnRlbnQtdHlwZVxyXG4gKiBpcyBub3QgY29ycmVjdC5cclxuICovXHJcbmZ1bmN0aW9uIGNvbnRlbnRUeXBlTWlkZGxld2FyZShyZXF1ZXN0LCByZXNwb25zZSwgbmV4dCkge1xyXG4gIHRyeSB7XHJcbiAgICAvLyBHZXQgdGhlIGNvbnRlbnQgdHlwZSBoZWFkZXJcclxuICAgIGNvbnN0IGNvbnRlbnRUeXBlID0gcmVxdWVzdC5oZWFkZXJzWydjb250ZW50LXR5cGUnXSB8fCAnJztcclxuXHJcbiAgICAvLyBBbGxvdyBvbmx5IEpTT04sIFVSTC1lbmNvZGVkIGFuZCBmb3JtIGRhdGEgd2l0aG91dCBmaWxlcyB0eXBlcyBvZiBkYXRhXHJcbiAgICBpZiAoXHJcbiAgICAgICFjb250ZW50VHlwZS5pbmNsdWRlcygnYXBwbGljYXRpb24vanNvbicpICYmXHJcbiAgICAgICFjb250ZW50VHlwZS5pbmNsdWRlcygnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJykgJiZcclxuICAgICAgIWNvbnRlbnRUeXBlLmluY2x1ZGVzKCdtdWx0aXBhcnQvZm9ybS1kYXRhJylcclxuICAgICkge1xyXG4gICAgICB0aHJvdyBuZXcgRXhwb3J0RXJyb3IoXHJcbiAgICAgICAgJ1t2YWxpZGF0aW9uXSBDb250ZW50LVR5cGUgbXVzdCBiZSBhcHBsaWNhdGlvbi9qc29uLCBhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQsIG9yIG11bHRpcGFydC9mb3JtLWRhdGEuJyxcclxuICAgICAgICA0MTVcclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDYWxsIHRoZSBgcmVxdWVzdEJvZHlNaWRkbGV3YXJlYCBtaWRkbGV3YXJlXHJcbiAgICByZXR1cm4gbmV4dCgpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXR1cm4gbmV4dChlcnJvcik7XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogTWlkZGxld2FyZSBmb3IgdmFsaWRhdGluZyB0aGUgcmVxdWVzdCdzIGJvZHkuXHJcbiAqXHJcbiAqIEBmdW5jdGlvbiByZXF1ZXN0Qm9keU1pZGRsZXdhcmVcclxuICpcclxuICogQHBhcmFtIHtFeHByZXNzLlJlcXVlc3R9IHJlcXVlc3QgLSBUaGUgRXhwcmVzcyByZXF1ZXN0IG9iamVjdC5cclxuICogQHBhcmFtIHtFeHByZXNzLlJlc3BvbnNlfSByZXNwb25zZSAtIFRoZSBFeHByZXNzIHJlc3BvbnNlIG9iamVjdC5cclxuICogQHBhcmFtIHtGdW5jdGlvbn0gbmV4dCAtIFRoZSBuZXh0IG1pZGRsZXdhcmUgZnVuY3Rpb24uXHJcbiAqXHJcbiAqIEByZXR1cm5zIHt1bmRlZmluZWR9IFRoZSBjYWxsIHRvIHRoZSBuZXh0IG1pZGRsZXdhcmUgZnVuY3Rpb24uXHJcbiAqXHJcbiAqIEB0aHJvd3Mge0V4cG9ydEVycm9yfSBUaHJvd3MgYW4gYEV4cG9ydEVycm9yYCBpZiB0aGUgYm9keSBpcyBub3QgY29ycmVjdC5cclxuICogQHRocm93cyB7RXhwb3J0RXJyb3J9IFRocm93cyBhbiBgRXhwb3J0RXJyb3JgIGlmIHRoZSBjaGFydCBkYXRhIGZyb20gdGhlIGJvZHlcclxuICogaXMgbm90IGNvcnJlY3QuXHJcbiAqIEB0aHJvd3Mge0V4cG9ydEVycm9yfSBUaHJvd3MgYW4gYEV4cG9ydEVycm9yYCBpbiBjYXNlIG9mIHRoZSBwcml2YXRlIHJhbmdlXHJcbiAqIHVybCBlcnJvci5cclxuICovXHJcbmZ1bmN0aW9uIHJlcXVlc3RCb2R5TWlkZGxld2FyZShyZXF1ZXN0LCByZXNwb25zZSwgbmV4dCkge1xyXG4gIHRyeSB7XHJcbiAgICAvLyBHZXQgdGhlIHJlcXVlc3QgYm9keVxyXG4gICAgY29uc3QgYm9keSA9IHJlcXVlc3QuYm9keTtcclxuXHJcbiAgICAvLyBDcmVhdGUgYSB1bmlxdWUgSUQgZm9yIGEgcmVxdWVzdFxyXG4gICAgY29uc3QgcmVxdWVzdElkID0gdXVpZCgpO1xyXG5cclxuICAgIC8vIFRocm93IGFuIGVycm9yIGlmIHRoZXJlIGlzIG5vIGNvcnJlY3QgYm9keVxyXG4gICAgaWYgKCFib2R5IHx8IGlzT2JqZWN0RW1wdHkoYm9keSkpIHtcclxuICAgICAgbG9nKFxyXG4gICAgICAgIDIsXHJcbiAgICAgICAgYFt2YWxpZGF0aW9uXSBSZXF1ZXN0IFske3JlcXVlc3RJZH1dIC0gVGhlIHJlcXVlc3QgZnJvbSAke1xyXG4gICAgICAgICAgcmVxdWVzdC5oZWFkZXJzWyd4LWZvcndhcmRlZC1mb3InXSB8fCByZXF1ZXN0LmNvbm5lY3Rpb24ucmVtb3RlQWRkcmVzc1xyXG4gICAgICAgIH0gd2FzIGluY29ycmVjdC4gUmVjZWl2ZWQgcGF5bG9hZCBpcyBlbXB0eS5gXHJcbiAgICAgICk7XHJcblxyXG4gICAgICB0aHJvdyBuZXcgRXhwb3J0RXJyb3IoXHJcbiAgICAgICAgYFt2YWxpZGF0aW9uXSBSZXF1ZXN0IFske3JlcXVlc3RJZH1dIC0gVGhlIHJlcXVlc3QgYm9keSBpcyByZXF1aXJlZC4gUGxlYXNlIGVuc3VyZSB0aGF0IHlvdXIgQ29udGVudC1UeXBlIGhlYWRlciBpcyBjb3JyZWN0LiBBY2NlcHRlZCB0eXBlcyBhcmUgJ2FwcGxpY2F0aW9uL2pzb24nIGFuZCAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScuYCxcclxuICAgICAgICA0MDBcclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBHZXQgdGhlIGFsbG93Q29kZUV4ZWN1dGlvbiBvcHRpb24gZm9yIHRoZSBzZXJ2ZXJcclxuICAgIGNvbnN0IGFsbG93Q29kZUV4ZWN1dGlvbiA9IGdldEFsbG93Q29kZUV4ZWN1dGlvbigpO1xyXG5cclxuICAgIC8vIEZpbmQgYSBjb3JyZWN0IGNoYXJ0IG9wdGlvbnNcclxuICAgIGNvbnN0IGluc3RyID0gaXNBbGxvd2VkQ29uZmlnKFxyXG4gICAgICAvLyBVc2Ugb25lIG9mIHRoZSBiZWxvd1xyXG4gICAgICBib2R5Lmluc3RyIHx8IGJvZHkub3B0aW9ucyB8fCBib2R5LmluZmlsZSB8fCBib2R5LmRhdGEsXHJcbiAgICAgIC8vIFN0cmluZ2lmeSBvcHRpb25zXHJcbiAgICAgIHRydWUsXHJcbiAgICAgIC8vIEFsbG93IG9yIGRpc2FsbG93IGZ1bmN0aW9uc1xyXG4gICAgICBhbGxvd0NvZGVFeGVjdXRpb25cclxuICAgICk7XHJcblxyXG4gICAgLy8gVGhyb3cgYW4gZXJyb3IgaWYgdGhlcmUgaXMgbm8gY29ycmVjdCBjaGFydCBkYXRhXHJcbiAgICBpZiAoaW5zdHIgPT09IG51bGwgJiYgIWJvZHkuc3ZnKSB7XHJcbiAgICAgIGxvZyhcclxuICAgICAgICAyLFxyXG4gICAgICAgIGBbdmFsaWRhdGlvbl0gUmVxdWVzdCBbJHtyZXF1ZXN0SWR9XSAtIFRoZSByZXF1ZXN0IGZyb20gJHtcclxuICAgICAgICAgIHJlcXVlc3QuaGVhZGVyc1sneC1mb3J3YXJkZWQtZm9yJ10gfHwgcmVxdWVzdC5jb25uZWN0aW9uLnJlbW90ZUFkZHJlc3NcclxuICAgICAgICB9IHdhcyBpbmNvcnJlY3QuIFJlY2VpdmVkIHBheWxvYWQgaXMgbWlzc2luZyBjb3JyZWN0IGNoYXJ0IGRhdGEgZm9yIGV4cG9ydDogJHtKU09OLnN0cmluZ2lmeShib2R5KX0uYFxyXG4gICAgICApO1xyXG5cclxuICAgICAgdGhyb3cgbmV3IEV4cG9ydEVycm9yKFxyXG4gICAgICAgIGBbdmFsaWRhdGlvbl0gUmVxdWVzdCBbJHtyZXF1ZXN0SWR9XSAtIE5vIGNvcnJlY3QgY2hhcnQgZGF0YSBmb3VuZC4gRW5zdXJlIHRoYXQgeW91IGFyZSB1c2luZyBlaXRoZXIgYXBwbGljYXRpb24vanNvbiBvciBtdWx0aXBhcnQvZm9ybS1kYXRhIGhlYWRlcnMuIElmIHNlbmRpbmcgSlNPTiwgbWFrZSBzdXJlIHRoZSBjaGFydCBkYXRhIGlzIGluIHRoZSAnaW5maWxlJywgJ29wdGlvbnMnLCBvciAnZGF0YScgYXR0cmlidXRlLiBJZiBzZW5kaW5nIFNWRywgZW5zdXJlIGl0IGlzIGluIHRoZSAnc3ZnJyBhdHRyaWJ1dGUuYCxcclxuICAgICAgICA0MDBcclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBUaHJvdyBhbiBlcnJvciBpZiB0ZXN0IG9mIHhsaW5rOmhyZWYgZWxlbWVudHMgZnJvbSBwYXlsb2FkJ3MgU1ZHIGZhaWxzXHJcbiAgICBpZiAoYm9keS5zdmcgJiYgaXNQcml2YXRlUmFuZ2VVcmxGb3VuZChib2R5LnN2ZykpIHtcclxuICAgICAgdGhyb3cgbmV3IEV4cG9ydEVycm9yKFxyXG4gICAgICAgIGBbdmFsaWRhdGlvbl0gUmVxdWVzdCBbJHtyZXF1ZXN0SWR9XSAtIFNWRyBwb3RlbnRpYWxseSBjb250YWluIGF0IGxlYXN0IG9uZSBmb3JiaWRkZW4gVVJMIGluICd4bGluazpocmVmJyBlbGVtZW50LiBQbGVhc2UgcmV2aWV3IHRoZSBTVkcgY29udGVudCBhbmQgZW5zdXJlIHRoYXQgYWxsIHJlZmVyZW5jZWQgVVJMcyBjb21wbHkgd2l0aCBzZWN1cml0eSBwb2xpY2llcy5gLFxyXG4gICAgICAgIDQwMFxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEdldCB0aGUgcmVxdWVzdCBvcHRpb25zIGFuZCBzdG9yZSBwYXJzZWQgc3RydWN0dXJlIGluIHRoZSByZXF1ZXN0XHJcbiAgICByZXF1ZXN0LnZhbGlkYXRlZE9wdGlvbnMgPSB7XHJcbiAgICAgIC8vIFNldCB0aGUgY3JlYXRlZCBJRCBhcyBhIGByZXF1ZXN0SWRgIHByb3BlcnR5IGluIHRoZSBvcHRpb25zXHJcbiAgICAgIHJlcXVlc3RJZCxcclxuICAgICAgZXhwb3J0OiB7XHJcbiAgICAgICAgaW5zdHIsXHJcbiAgICAgICAgc3ZnOiBib2R5LnN2ZyxcclxuICAgICAgICBvdXRmaWxlOlxyXG4gICAgICAgICAgYm9keS5vdXRmaWxlIHx8XHJcbiAgICAgICAgICBgJHtyZXF1ZXN0LnBhcmFtcy5maWxlbmFtZSB8fCAnY2hhcnQnfS4ke2JvZHkudHlwZSB8fCAncG5nJ31gLFxyXG4gICAgICAgIHR5cGU6IGJvZHkudHlwZSxcclxuICAgICAgICBjb25zdHI6IGJvZHkuY29uc3RyLFxyXG4gICAgICAgIGI2NDogYm9keS5iNjQsXHJcbiAgICAgICAgbm9Eb3dubG9hZDogYm9keS5ub0Rvd25sb2FkLFxyXG4gICAgICAgIGhlaWdodDogYm9keS5oZWlnaHQsXHJcbiAgICAgICAgd2lkdGg6IGJvZHkud2lkdGgsXHJcbiAgICAgICAgc2NhbGU6IGJvZHkuc2NhbGUsXHJcbiAgICAgICAgZ2xvYmFsT3B0aW9uczogaXNBbGxvd2VkQ29uZmlnKFxyXG4gICAgICAgICAgYm9keS5nbG9iYWxPcHRpb25zLFxyXG4gICAgICAgICAgdHJ1ZSxcclxuICAgICAgICAgIGFsbG93Q29kZUV4ZWN1dGlvblxyXG4gICAgICAgICksXHJcbiAgICAgICAgdGhlbWVPcHRpb25zOiBpc0FsbG93ZWRDb25maWcoXHJcbiAgICAgICAgICBib2R5LnRoZW1lT3B0aW9ucyxcclxuICAgICAgICAgIHRydWUsXHJcbiAgICAgICAgICBhbGxvd0NvZGVFeGVjdXRpb25cclxuICAgICAgICApXHJcbiAgICAgIH0sXHJcbiAgICAgIGN1c3RvbUxvZ2ljOiB7XHJcbiAgICAgICAgYWxsb3dDb2RlRXhlY3V0aW9uLFxyXG4gICAgICAgIGFsbG93RmlsZVJlc291cmNlczogZmFsc2UsXHJcbiAgICAgICAgY3VzdG9tQ29kZTogYm9keS5jdXN0b21Db2RlLFxyXG4gICAgICAgIGNhbGxiYWNrOiBib2R5LmNhbGxiYWNrLFxyXG4gICAgICAgIHJlc291cmNlczogaXNBbGxvd2VkQ29uZmlnKGJvZHkucmVzb3VyY2VzLCB0cnVlLCBhbGxvd0NvZGVFeGVjdXRpb24pXHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gQ2FsbCB0aGUgbmV4dCBtaWRkbGV3YXJlXHJcbiAgICByZXR1cm4gbmV4dCgpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXR1cm4gbmV4dChlcnJvcik7XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogQWRkcyB0aGUgdmFsaWRhdGlvbiBtaWRkbGV3YXJlcyB0byB0aGUgcGFzc2VkIGV4cHJlc3MgYXBwIGluc3RhbmNlLlxyXG4gKlxyXG4gKiBAcGFyYW0ge0V4cHJlc3N9IGFwcCAtIFRoZSBFeHByZXNzIGFwcCBpbnN0YW5jZS5cclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHZhbGlkYXRpb25NaWRkbGV3YXJlKGFwcCkge1xyXG4gIC8vIEFkZCBjb250ZW50IHR5cGUgdmFsaWRhdGlvbiBtaWRkbGV3YXJlXHJcbiAgYXBwLnBvc3QoWycvJywgJy86ZmlsZW5hbWUnXSwgY29udGVudFR5cGVNaWRkbGV3YXJlKTtcclxuXHJcbiAgLy8gQWRkIHJlcXVlc3QgYm9keSByZXF1ZXN0IHZhbGlkYXRpb24gbWlkZGxld2FyZVxyXG4gIGFwcC5wb3N0KFsnLycsICcvOmZpbGVuYW1lJ10sIHJlcXVlc3RCb2R5TWlkZGxld2FyZSk7XHJcbn1cclxuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHJcbkhpZ2hjaGFydHMgRXhwb3J0IFNlcnZlclxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE2LTIwMjUsIEhpZ2hzb2Z0XHJcblxyXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXHJcblxyXG5BZGRpdGlvbmFsbHkgYSB2YWxpZCBIaWdoY2hhcnRzIGxpY2Vuc2UgaXMgcmVxdWlyZWQgZm9yIHVzZS5cclxuXHJcblNlZSBMSUNFTlNFIGZpbGUgaW4gcm9vdCBmb3IgZGV0YWlscy5cclxuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4vKipcclxuICogQG92ZXJ2aWV3IERlZmluZXMgdGhlIGV4cG9ydCByb3V0ZXMgYW5kIGxvZ2ljIGZvciBoYW5kbGluZyBjaGFydCBleHBvcnRcclxuICogcmVxdWVzdHMgaW4gYW4gRXhwcmVzcyBzZXJ2ZXIuIFRoaXMgbW9kdWxlIHByb2Nlc3NlcyBpbmNvbWluZyByZXF1ZXN0c1xyXG4gKiB0byBleHBvcnQgY2hhcnRzIGluIHZhcmlvdXMgZm9ybWF0cyAoZS5nLiBKUEVHLCBQTkcsIFBERiwgU1ZHKS4gSXQgaW50ZWdyYXRlc1xyXG4gKiB3aXRoIEhpZ2hjaGFydHMnIGNvcmUgZnVuY3Rpb25hbGl0aWVzIGFuZCBzdXBwb3J0cyBib3RoIGltbWVkaWF0ZSBkb3dubG9hZFxyXG4gKiByZXNwb25zZXMgYW5kIEJhc2U2NC1lbmNvZGVkIGNvbnRlbnQgcmV0dXJucy4gVGhlIGNvZGUgYWxzbyBmZWF0dXJlc1xyXG4gKiBiZW5jaG1hcmtpbmcgZm9yIHBlcmZvcm1hbmNlIG1vbml0b3JpbmcuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgc3RhcnRFeHBvcnQgfSBmcm9tICcuLi8uLi9jaGFydC5qcyc7XHJcbmltcG9ydCB7IGxvZyB9IGZyb20gJy4uLy4uL2xvZ2dlci5qcyc7XHJcbmltcG9ydCB7IGdldEJhc2U2NCwgbWVhc3VyZVRpbWUgfSBmcm9tICcuLi8uLi91dGlscy5qcyc7XHJcblxyXG5pbXBvcnQgRXhwb3J0RXJyb3IgZnJvbSAnLi4vLi4vZXJyb3JzL0V4cG9ydEVycm9yLmpzJztcclxuXHJcbi8vIFJldmVyc2VkIE1JTUUgdHlwZXNcclxuY29uc3QgcmV2ZXJzZWRNaW1lID0ge1xyXG4gIHBuZzogJ2ltYWdlL3BuZycsXHJcbiAganBlZzogJ2ltYWdlL2pwZWcnLFxyXG4gIGdpZjogJ2ltYWdlL2dpZicsXHJcbiAgcGRmOiAnYXBwbGljYXRpb24vcGRmJyxcclxuICBzdmc6ICdpbWFnZS9zdmcreG1sJ1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEhhbmRsZXMgdGhlIGV4cG9ydCByZXF1ZXN0cyBmcm9tIHRoZSBjbGllbnQuXHJcbiAqXHJcbiAqIEBhc3luY1xyXG4gKiBAZnVuY3Rpb24gcmVxdWVzdEV4cG9ydFxyXG4gKlxyXG4gKiBAcGFyYW0ge0V4cHJlc3MuUmVxdWVzdH0gcmVxdWVzdCAtIFRoZSBFeHByZXNzIHJlcXVlc3Qgb2JqZWN0LlxyXG4gKiBAcGFyYW0ge0V4cHJlc3MuUmVzcG9uc2V9IHJlc3BvbnNlIC0gVGhlIEV4cHJlc3MgcmVzcG9uc2Ugb2JqZWN0LlxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBuZXh0IC0gVGhlIG5leHQgbWlkZGxld2FyZSBmdW5jdGlvbi5cclxuICpcclxuICogQHJldHVybnMge1Byb21pc2U8dm9pZD59IEEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIG9uY2UgdGhlIGV4cG9ydCBwcm9jZXNzXHJcbiAqIGlzIGNvbXBsZXRlLlxyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gcmVxdWVzdEV4cG9ydChyZXF1ZXN0LCByZXNwb25zZSwgbmV4dCkge1xyXG4gIHRyeSB7XHJcbiAgICAvLyBTdGFydCBjb3VudGluZyB0aW1lIGZvciBhIHJlcXVlc3RcclxuICAgIGNvbnN0IHJlcXVlc3RDb3VudGVyID0gbWVhc3VyZVRpbWUoKTtcclxuXHJcbiAgICAvLyBJbiBjYXNlIHRoZSBjb25uZWN0aW9uIGlzIGNsb3NlZCwgZm9yY2UgdG8gYWJvcnQgZnVydGhlciBhY3Rpb25zXHJcbiAgICBsZXQgY29ubmVjdGlvbkFib3J0ZWQgPSBmYWxzZTtcclxuICAgIHJlcXVlc3Quc29ja2V0Lm9uKCdjbG9zZScsIChoYWRFcnJvcnMpID0+IHtcclxuICAgICAgaWYgKGhhZEVycm9ycykge1xyXG4gICAgICAgIGNvbm5lY3Rpb25BYm9ydGVkID0gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gR2V0IHRoZSBvcHRpb25zIHByZXZpb3VzbHkgdmFsaWRhdGVkIGluIHRoZSB2YWxpZGF0aW9uIG1pZGRsZXdhcmVcclxuICAgIGNvbnN0IG9wdGlvbnMgPSByZXF1ZXN0LnZhbGlkYXRlZE9wdGlvbnM7XHJcblxyXG4gICAgLy8gR2V0IHRoZSByZXF1ZXN0IGlkXHJcbiAgICBjb25zdCByZXF1ZXN0SWQgPSBvcHRpb25zLnJlcXVlc3RJZDtcclxuXHJcbiAgICAvLyBJbmZvIGFib3V0IGFuIGluY29taW5nIHJlcXVlc3Qgd2l0aCBjb3JyZWN0IGRhdGFcclxuICAgIGxvZyg0LCBgW2V4cG9ydF0gUmVxdWVzdCBbJHtyZXF1ZXN0SWR9XSAtIEdvdCBhbiBpbmNvbWluZyBIVFRQIHJlcXVlc3QuYCk7XHJcblxyXG4gICAgLy8gU3RhcnQgdGhlIGV4cG9ydCBwcm9jZXNzXHJcbiAgICBhd2FpdCBzdGFydEV4cG9ydChvcHRpb25zLCAoZXJyb3IsIGRhdGEpID0+IHtcclxuICAgICAgLy8gUmVtb3ZlIHRoZSBjbG9zZSBldmVudCBmcm9tIHRoZSBzb2NrZXRcclxuICAgICAgcmVxdWVzdC5zb2NrZXQucmVtb3ZlQWxsTGlzdGVuZXJzKCdjbG9zZScpO1xyXG5cclxuICAgICAgLy8gSWYgdGhlIGNvbm5lY3Rpb24gd2FzIGNsb3NlZCwgZG8gbm90aGluZ1xyXG4gICAgICBpZiAoY29ubmVjdGlvbkFib3J0ZWQpIHtcclxuICAgICAgICBsb2coXHJcbiAgICAgICAgICAzLFxyXG4gICAgICAgICAgYFtleHBvcnRdIFJlcXVlc3QgWyR7cmVxdWVzdElkfV0gLSBUaGUgY2xpZW50IGNsb3NlZCB0aGUgY29ubmVjdGlvbiBiZWZvcmUgdGhlIGNoYXJ0IGZpbmlzaGVkIHByb2Nlc3NpbmcuYFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBJZiBlcnJvciwgbG9nIGl0IGFuZCBzZW5kIGl0IHRvIHRoZSBlcnJvciBtaWRkbGV3YXJlXHJcbiAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgIHRocm93IGVycm9yO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBJZiBkYXRhIGlzIG1pc3NpbmcsIGxvZyB0aGUgbWVzc2FnZSBhbmQgc2VuZCBpdCB0byB0aGUgZXJyb3IgbWlkZGxld2FyZVxyXG4gICAgICBpZiAoIWRhdGEgfHwgIWRhdGEucmVzdWx0KSB7XHJcbiAgICAgICAgbG9nKFxyXG4gICAgICAgICAgMixcclxuICAgICAgICAgIGBbZXhwb3J0XSBSZXF1ZXN0IFske3JlcXVlc3RJZH1dIC0gUmVxdWVzdCBmcm9tICR7XHJcbiAgICAgICAgICAgIHJlcXVlc3QuaGVhZGVyc1sneC1mb3J3YXJkZWQtZm9yJ10gfHxcclxuICAgICAgICAgICAgcmVxdWVzdC5jb25uZWN0aW9uLnJlbW90ZUFkZHJlc3NcclxuICAgICAgICAgIH0gd2FzIGluY29ycmVjdC4gUmVjZWl2ZWQgcmVzdWx0IGlzICR7ZGF0YS5yZXN1bHR9LmBcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICB0aHJvdyBuZXcgRXhwb3J0RXJyb3IoXHJcbiAgICAgICAgICBgW2V4cG9ydF0gUmVxdWVzdCBbJHtyZXF1ZXN0SWR9XSAtIFVuZXhwZWN0ZWQgcmV0dXJuIG9mIHRoZSBleHBvcnQgcmVzdWx0IGZyb20gdGhlIGNoYXJ0IGdlbmVyYXRpb24uIFBsZWFzZSBjaGVjayB5b3VyIHJlcXVlc3QgZGF0YS5gLFxyXG4gICAgICAgICAgNDAwXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gUmV0dXJuIHRoZSByZXN1bHQgaW4gYW4gYXBwcm9wcmlhdGUgZm9ybWF0XHJcbiAgICAgIGlmIChkYXRhLnJlc3VsdCkge1xyXG4gICAgICAgIGxvZyhcclxuICAgICAgICAgIDMsXHJcbiAgICAgICAgICBgW2V4cG9ydF0gUmVxdWVzdCBbJHtyZXF1ZXN0SWR9XSAtIFRoZSB3aG9sZSBleHBvcnRpbmcgcHJvY2VzcyB0b29rICR7cmVxdWVzdENvdW50ZXIoKX1tcy5gXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgLy8gR2V0IHRoZSBgdHlwZWAsIGBiNjRgLCBgbm9Eb3dubG9hZGAsIGFuZCBgb3V0ZmlsZWAgZnJvbSBvcHRpb25zXHJcbiAgICAgICAgY29uc3QgeyB0eXBlLCBiNjQsIG5vRG93bmxvYWQsIG91dGZpbGUgfSA9IGRhdGEub3B0aW9ucy5leHBvcnQ7XHJcblxyXG4gICAgICAgIC8vIElmIG9ubHkgQmFzZTY0IGlzIHJlcXVpcmVkLCByZXR1cm4gaXRcclxuICAgICAgICBpZiAoYjY0KSB7XHJcbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc2VuZChnZXRCYXNlNjQoZGF0YS5yZXN1bHQsIHR5cGUpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFNldCBjb3JyZWN0IGNvbnRlbnQgdHlwZVxyXG4gICAgICAgIHJlc3BvbnNlLmhlYWRlcignQ29udGVudC1UeXBlJywgcmV2ZXJzZWRNaW1lW3R5cGVdIHx8ICdpbWFnZS9wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gRGVjaWRlIHdoZXRoZXIgdG8gZG93bmxvYWQgb3Igbm90IGNoYXJ0IGZpbGVcclxuICAgICAgICBpZiAoIW5vRG93bmxvYWQpIHtcclxuICAgICAgICAgIHJlc3BvbnNlLmF0dGFjaG1lbnQob3V0ZmlsZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJZiBTVkcsIHJldHVybiBwbGFpbiBjb250ZW50LCBvdGhlcndpc2UgYSBiNjQgc3RyaW5nIGZyb20gYSBidWZmZXJcclxuICAgICAgICByZXR1cm4gdHlwZSA9PT0gJ3N2ZydcclxuICAgICAgICAgID8gcmVzcG9uc2Uuc2VuZChkYXRhLnJlc3VsdClcclxuICAgICAgICAgIDogcmVzcG9uc2Uuc2VuZChCdWZmZXIuZnJvbShkYXRhLnJlc3VsdCwgJ2Jhc2U2NCcpKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHJldHVybiBuZXh0KGVycm9yKTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBZGRzIHRoZSBgZXhwb3J0YCByb3V0ZXMuXHJcbiAqXHJcbiAqIEBmdW5jdGlvbiBleHBvcnRSb3V0ZXNcclxuICpcclxuICogQHBhcmFtIHtFeHByZXNzfSBhcHAgLSBUaGUgRXhwcmVzcyBhcHAgaW5zdGFuY2UuXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBleHBvcnRSb3V0ZXMoYXBwKSB7XHJcbiAgLyoqXHJcbiAgICogQWRkcyB0aGUgUE9TVCAnLycgLSBBIHJvdXRlIGZvciBoYW5kbGluZyBQT1NUIHJlcXVlc3RzIGF0IHRoZSByb290XHJcbiAgICogZW5kcG9pbnQuXHJcbiAgICovXHJcbiAgYXBwLnBvc3QoJy8nLCByZXF1ZXN0RXhwb3J0KTtcclxuXHJcbiAgLyoqXHJcbiAgICogQWRkcyB0aGUgUE9TVCAnLzpmaWxlbmFtZScgLSBBIHJvdXRlIGZvciBoYW5kbGluZyBQT1NUIHJlcXVlc3RzIHdpdGhcclxuICAgKiBhIHNwZWNpZmllZCBmaWxlbmFtZSBwYXJhbWV0ZXIuXHJcbiAgICovXHJcbiAgYXBwLnBvc3QoJy86ZmlsZW5hbWUnLCByZXF1ZXN0RXhwb3J0KTtcclxufVxyXG4iLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5cclxuSGlnaGNoYXJ0cyBFeHBvcnQgU2VydmVyXHJcblxyXG5Db3B5cmlnaHQgKGMpIDIwMTYtMjAyNSwgSGlnaHNvZnRcclxuXHJcbkxpY2VuY2VkIHVuZGVyIHRoZSBNSVQgbGljZW5jZS5cclxuXHJcbkFkZGl0aW9uYWxseSBhIHZhbGlkIEhpZ2hjaGFydHMgbGljZW5zZSBpcyByZXF1aXJlZCBmb3IgdXNlLlxyXG5cclxuU2VlIExJQ0VOU0UgZmlsZSBpbiByb290IGZvciBkZXRhaWxzLlxyXG5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbi8qKlxyXG4gKiBAb3ZlcnZpZXcgRGVmaW5lcyBhbiBFeHByZXNzIHJvdXRlIGZvciBzZXJ2ZXIgaGVhbHRoIG1vbml0b3JpbmcsIGluY2x1ZGluZ1xyXG4gKiB1cHRpbWUsIHN1Y2Nlc3MgcmF0ZXMsIGFuZCBvdGhlciBzZXJ2ZXIgc3RhdGlzdGljcy5cclxuICovXHJcblxyXG5pbXBvcnQgeyByZWFkRmlsZVN5bmMgfSBmcm9tICdmcyc7XHJcbmltcG9ydCB7IGpvaW4gfSBmcm9tICdwYXRoJztcclxuXHJcbmltcG9ydCB7IGdldEhjVmVyc2lvbiB9IGZyb20gJy4uLy4uL2NhY2hlLmpzJztcclxuaW1wb3J0IHsgbG9nIH0gZnJvbSAnLi4vLi4vbG9nZ2VyLmpzJztcclxuaW1wb3J0IHsgZ2V0UG9vbFN0YXRzLCBnZXRQb29sSW5mb0pTT04gfSBmcm9tICcuLi8uLi9wb29sLmpzJztcclxuaW1wb3J0IHsgYWRkVGltZXIgfSBmcm9tICcuLi8uLi90aW1lci5qcyc7XHJcbmltcG9ydCB7IF9fZGlybmFtZSwgZ2V0TmV3RGF0ZVRpbWUgfSBmcm9tICcuLi8uLi91dGlscy5qcyc7XHJcblxyXG4vLyBTZXQgdGhlIHN0YXJ0IGRhdGUgb2YgdGhlIHNlcnZlclxyXG5jb25zdCBzZXJ2ZXJTdGFydFRpbWUgPSBuZXcgRGF0ZSgpO1xyXG5cclxuLy8gR2V0IHRoZSBgcGFja2FnZS5qc29uYCBjb250ZW50XHJcbmNvbnN0IHBhY2thZ2VGaWxlID0gSlNPTi5wYXJzZShcclxuICByZWFkRmlsZVN5bmMoam9pbihfX2Rpcm5hbWUsICdwYWNrYWdlLmpzb24nKSwgJ3V0ZjgnKVxyXG4pO1xyXG5cclxuLy8gQW4gYXJyYXkgZm9yIHN1Y2Nlc3MgcmF0ZSByYXRpb3NcclxuY29uc3Qgc3VjY2Vzc1JhdGVzID0gW107XHJcblxyXG4vLyBSZWNvcmQgZXZlcnkgbWludXRlXHJcbmNvbnN0IHJlY29yZEludGVydmFsID0gNjAgKiAxMDAwO1xyXG5cclxuLy8gMzAgbWludXRlc1xyXG5jb25zdCB3aW5kb3dTaXplID0gMzA7XHJcblxyXG4vKipcclxuICogQ2FsY3VsYXRlcyBtb3ZpbmcgYXZlcmFnZSBpbmRpY2F0b3IgYmFzZWQgb24gdGhlIGRhdGEgZnJvbSB0aGUgYHN1Y2Nlc3NSYXRlc2BcclxuICogYXJyYXkuXHJcbiAqXHJcbiAqIEBmdW5jdGlvbiBfY2FsY3VsYXRlTW92aW5nQXZlcmFnZVxyXG4gKlxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBBIG1vdmluZyBhdmVyYWdlIGZvciBzdWNjZXNzIHJhdGlvIG9mIHRoZSBzZXJ2ZXIgZXhwb3J0cy5cclxuICovXHJcbmZ1bmN0aW9uIF9jYWxjdWxhdGVNb3ZpbmdBdmVyYWdlKCkge1xyXG4gIHJldHVybiBzdWNjZXNzUmF0ZXMucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCkgLyBzdWNjZXNzUmF0ZXMubGVuZ3RoO1xyXG59XHJcblxyXG4vKipcclxuICogU3RhcnRzIHRoZSBpbnRlcnZhbCByZXNwb25zaWJsZSBmb3IgY2FsY3VsYXRpbmcgY3VycmVudCBzdWNjZXNzIHJhdGUgcmF0aW9cclxuICogYW5kIGNvbGxlY3RzIHJlY29yZHMgdG8gdGhlIGBzdWNjZXNzUmF0ZXNgIGFycmF5LlxyXG4gKlxyXG4gKiBAZnVuY3Rpb24gX3N0YXJ0U3VjY2Vzc1JhdGVcclxuICpcclxuICogQHJldHVybnMge05vZGVKUy5UaW1lb3V0fSBJZCBvZiBhbiBpbnRlcnZhbC5cclxuICovXHJcbmZ1bmN0aW9uIF9zdGFydFN1Y2Nlc3NSYXRlKCkge1xyXG4gIHJldHVybiBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICBjb25zdCBzdGF0cyA9IGdldFBvb2xTdGF0cygpO1xyXG4gICAgY29uc3Qgc3VjY2Vzc1JhdGlvID1cclxuICAgICAgc3RhdHMuZXhwb3J0c0F0dGVtcHRlZCA9PT0gMFxyXG4gICAgICAgID8gMVxyXG4gICAgICAgIDogKHN0YXRzLmV4cG9ydHNQZXJmb3JtZWQgLyBzdGF0cy5leHBvcnRzQXR0ZW1wdGVkKSAqIDEwMDtcclxuXHJcbiAgICBzdWNjZXNzUmF0ZXMucHVzaChzdWNjZXNzUmF0aW8pO1xyXG4gICAgaWYgKHN1Y2Nlc3NSYXRlcy5sZW5ndGggPiB3aW5kb3dTaXplKSB7XHJcbiAgICAgIHN1Y2Nlc3NSYXRlcy5zaGlmdCgpO1xyXG4gICAgfVxyXG4gIH0sIHJlY29yZEludGVydmFsKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEFkZHMgdGhlIGBoZWFsdGhgIHJvdXRlcy5cclxuICpcclxuICogQGZ1bmN0aW9uIGhlYWx0aFJvdXRlc1xyXG4gKlxyXG4gKiBAcGFyYW0ge0V4cHJlc3N9IGFwcCAtIFRoZSBFeHByZXNzIGFwcCBpbnN0YW5jZS5cclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhlYWx0aFJvdXRlcyhhcHApIHtcclxuICAvLyBTdGFydCBwcm9jZXNzaW5nIHN1Y2Nlc3MgcmF0ZSByYXRpbyBpbnRlcnZhbCBhbmQgc2F2ZSBpdHMgaWQgdG8gdGhlIGFycmF5XHJcbiAgLy8gZm9yIHRoZSBncmFjZWZ1bCBjbGVhcmluZyBvbiBzaHV0ZG93biB3aXRoIGluamVjdGVkIGBhZGRUaW1lcmAgZnVudGlvblxyXG4gIGFkZFRpbWVyKF9zdGFydFN1Y2Nlc3NSYXRlKCkpO1xyXG5cclxuICAvKipcclxuICAgKiBBZGRzIHRoZSBHRVQgJy9oZWFsdGgnIC0gQSByb3V0ZSBmb3IgZ2V0dGluZyB0aGUgYmFzaWMgc3RhdHMgb2YgdGhlIHNlcnZlci5cclxuICAgKi9cclxuICBhcHAuZ2V0KCcvaGVhbHRoJywgKHJlcXVlc3QsIHJlc3BvbnNlLCBuZXh0KSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBsb2coNCwgJ1toZWFsdGhdIFJldHVybmluZyBzZXJ2ZXIgaGVhbHRoLicpO1xyXG5cclxuICAgICAgY29uc3Qgc3RhdHMgPSBnZXRQb29sU3RhdHMoKTtcclxuICAgICAgY29uc3QgcGVyaW9kID0gc3VjY2Vzc1JhdGVzLmxlbmd0aDtcclxuICAgICAgY29uc3QgbW92aW5nQXZlcmFnZSA9IF9jYWxjdWxhdGVNb3ZpbmdBdmVyYWdlKCk7XHJcblxyXG4gICAgICAvLyBTZW5kIHRoZSBzZXJ2ZXIncyBzdGF0aXN0aWNzXHJcbiAgICAgIHJlc3BvbnNlLnNlbmQoe1xyXG4gICAgICAgIC8vIFN0YXR1cyBhbmQgdGltZXNcclxuICAgICAgICBzdGF0dXM6ICdPSycsXHJcbiAgICAgICAgYm9vdFRpbWU6IHNlcnZlclN0YXJ0VGltZSxcclxuICAgICAgICB1cHRpbWU6IGAke01hdGguZmxvb3IoKGdldE5ld0RhdGVUaW1lKCkgLSBzZXJ2ZXJTdGFydFRpbWUuZ2V0VGltZSgpKSAvIDEwMDAgLyA2MCl9IG1pbnV0ZXNgLFxyXG5cclxuICAgICAgICAvLyBWZXJzaW9uc1xyXG4gICAgICAgIHNlcnZlclZlcnNpb246IHBhY2thZ2VGaWxlLnZlcnNpb24sXHJcbiAgICAgICAgaGlnaGNoYXJ0c1ZlcnNpb246IGdldEhjVmVyc2lvbigpLFxyXG5cclxuICAgICAgICAvLyBFeHBvcnRzXHJcbiAgICAgICAgYXZlcmFnZUV4cG9ydFRpbWU6IHN0YXRzLnRpbWVTcGVudEF2ZXJhZ2UsXHJcbiAgICAgICAgYXR0ZW1wdGVkRXhwb3J0czogc3RhdHMuZXhwb3J0c0F0dGVtcHRlZCxcclxuICAgICAgICBwZXJmb3JtZWRFeHBvcnRzOiBzdGF0cy5leHBvcnRzUGVyZm9ybWVkLFxyXG4gICAgICAgIGZhaWxlZEV4cG9ydHM6IHN0YXRzLmV4cG9ydHNEcm9wcGVkLFxyXG4gICAgICAgIHN1Y2Vzc1JhdGlvOiAoc3RhdHMuZXhwb3J0c1BlcmZvcm1lZCAvIHN0YXRzLmV4cG9ydHNBdHRlbXB0ZWQpICogMTAwLFxyXG5cclxuICAgICAgICAvLyBQb29sXHJcbiAgICAgICAgcG9vbDogZ2V0UG9vbEluZm9KU09OKCksXHJcblxyXG4gICAgICAgIC8vIE1vdmluZyBhdmVyYWdlXHJcbiAgICAgICAgcGVyaW9kLFxyXG4gICAgICAgIG1vdmluZ0F2ZXJhZ2UsXHJcbiAgICAgICAgbWVzc2FnZTpcclxuICAgICAgICAgIGlzTmFOKG1vdmluZ0F2ZXJhZ2UpIHx8ICFzdWNjZXNzUmF0ZXMubGVuZ3RoXHJcbiAgICAgICAgICAgID8gJ1RvbyBlYXJseSB0byByZXBvcnQuIE5vIGV4cG9ydHMgbWFkZSB5ZXQuIFBsZWFzZSBjaGVjayBiYWNrIHNvb24uJ1xyXG4gICAgICAgICAgICA6IGBMYXN0ICR7cGVyaW9kfSBtaW51dGVzIGhhZCBhIHN1Y2Nlc3MgcmF0ZSBvZiAke21vdmluZ0F2ZXJhZ2UudG9GaXhlZCgyKX0lLmAsXHJcblxyXG4gICAgICAgIC8vIFNWRyBhbmQgSlNPTiBleHBvcnRzXHJcbiAgICAgICAgc3ZnRXhwb3J0czogc3RhdHMuZXhwb3J0c0Zyb21TdmcsXHJcbiAgICAgICAganNvbkV4cG9ydHM6IHN0YXRzLmV4cG9ydHNGcm9tT3B0aW9ucyxcclxuICAgICAgICBzdmdFeHBvcnRzQXR0ZW1wdHM6IHN0YXRzLmV4cG9ydHNGcm9tU3ZnQXR0ZW1wdHMsXHJcbiAgICAgICAganNvbkV4cG9ydHNBdHRlbXB0czogc3RhdHMuZXhwb3J0c0Zyb21PcHRpb25zQXR0ZW1wdHNcclxuICAgICAgfSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICByZXR1cm4gbmV4dChlcnJvcik7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHJcbkhpZ2hjaGFydHMgRXhwb3J0IFNlcnZlclxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE2LTIwMjUsIEhpZ2hzb2Z0XHJcblxyXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXHJcblxyXG5BZGRpdGlvbmFsbHkgYSB2YWxpZCBIaWdoY2hhcnRzIGxpY2Vuc2UgaXMgcmVxdWlyZWQgZm9yIHVzZS5cclxuXHJcblNlZSBMSUNFTlNFIGZpbGUgaW4gcm9vdCBmb3IgZGV0YWlscy5cclxuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4vKipcclxuICogQG92ZXJ2aWV3IERlZmluZXMgYW4gRXhwcmVzcyByb3V0ZSBmb3Igc2VydmluZyB0aGUgVUkgZm9yIHRoZSBleHBvcnQgc2VydmVyXHJcbiAqIHdoZW4gZW5hYmxlZC5cclxuICovXHJcblxyXG5pbXBvcnQgeyBqb2luIH0gZnJvbSAncGF0aCc7XHJcblxyXG5pbXBvcnQgeyBnZXRPcHRpb25zIH0gZnJvbSAnLi4vLi4vY29uZmlnLmpzJztcclxuaW1wb3J0IHsgbG9nIH0gZnJvbSAnLi4vLi4vbG9nZ2VyLmpzJztcclxuaW1wb3J0IHsgX19kaXJuYW1lIH0gZnJvbSAnLi4vLi4vdXRpbHMuanMnO1xyXG5cclxuLyoqXHJcbiAqIEFkZHMgdGhlIGB1aWAgcm91dGVzLlxyXG4gKlxyXG4gKiBAZnVuY3Rpb24gdWlSb3V0ZXNcclxuICpcclxuICogQHBhcmFtIHtFeHByZXNzfSBhcHAgLSBUaGUgRXhwcmVzcyBhcHAgaW5zdGFuY2UuXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1aVJvdXRlcyhhcHApIHtcclxuICAvLyBBZGQgdGhlIFVJIGVuZHBvaW50IG9ubHkgaWYgcmVxdWlyZWRcclxuICBpZiAoZ2V0T3B0aW9ucygpLnVpLmVuYWJsZSkge1xyXG4gICAgLyoqXHJcbiAgICAgKiBBZGRzIHRoZSBHRVQgJy8nIC0gQSByb3V0ZSBmb3IgYSBVSSB3aGVuIGVuYWJsZWQgb24gdGhlIGV4cG9ydCBzZXJ2ZXIuXHJcbiAgICAgKi9cclxuICAgIGFwcC5nZXQoZ2V0T3B0aW9ucygpLnVpLnJvdXRlIHx8ICcvJywgKHJlcXVlc3QsIHJlc3BvbnNlLCBuZXh0KSA9PiB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgbG9nKDQsICdbdWldIFJldHVybmluZyBVSSBmb3IgdGhlIGV4cG9ydC4nKTtcclxuXHJcbiAgICAgICAgcmVzcG9uc2Uuc2VuZEZpbGUoam9pbihfX2Rpcm5hbWUsICdwdWJsaWMnLCAnaW5kZXguaHRtbCcpLCB7XHJcbiAgICAgICAgICBhY2NlcHRSYW5nZXM6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIG5leHQoZXJyb3IpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHJcbkhpZ2hjaGFydHMgRXhwb3J0IFNlcnZlclxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE2LTIwMjUsIEhpZ2hzb2Z0XHJcblxyXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXHJcblxyXG5BZGRpdGlvbmFsbHkgYSB2YWxpZCBIaWdoY2hhcnRzIGxpY2Vuc2UgaXMgcmVxdWlyZWQgZm9yIHVzZS5cclxuXHJcblNlZSBMSUNFTlNFIGZpbGUgaW4gcm9vdCBmb3IgZGV0YWlscy5cclxuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4vKipcclxuICogQG92ZXJ2aWV3IERlZmluZXMgYW4gRXhwcmVzcyByb3V0ZSBmb3IgdXBkYXRpbmcgdGhlIEhpZ2hjaGFydHMgdmVyc2lvblxyXG4gKiBvbiB0aGUgc2VydmVyLCB3aXRoIGF1dGhlbnRpY2F0aW9uIGFuZCB2YWxpZGF0aW9uLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGdldEhjVmVyc2lvbiwgdXBkYXRlSGNWZXJzaW9uIH0gZnJvbSAnLi4vLi4vY2FjaGUuanMnO1xyXG5pbXBvcnQgeyBlbnZzIH0gZnJvbSAnLi4vLi4vZW52cy5qcyc7XHJcbmltcG9ydCB7IGxvZyB9IGZyb20gJy4uLy4uL2xvZ2dlci5qcyc7XHJcblxyXG5pbXBvcnQgRXhwb3J0RXJyb3IgZnJvbSAnLi4vLi4vZXJyb3JzL0V4cG9ydEVycm9yLmpzJztcclxuXHJcbi8qKlxyXG4gKiBBZGRzIHRoZSBgdmVyc2lvbl9jaGFuZ2VgIHJvdXRlcy5cclxuICpcclxuICogQGZ1bmN0aW9uIHZlcnNpb25DaGFuZ2VSb3V0ZXNcclxuICpcclxuICogQHBhcmFtIHtFeHByZXNzfSBhcHAgLSBUaGUgRXhwcmVzcyBhcHAgaW5zdGFuY2UuXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB2ZXJzaW9uQ2hhbmdlUm91dGVzKGFwcCkge1xyXG4gIC8qKlxyXG4gICAqIEFkZHMgdGhlIFBPU1QgJy92ZXJzaW9uX2NoYW5nZS86bmV3VmVyc2lvbicgLSBBIHJvdXRlIGZvciBjaGFuZ2luZ1xyXG4gICAqIHRoZSBIaWdoY2hhcnRzIHZlcnNpb24gb24gdGhlIHNlcnZlci5cclxuICAgKi9cclxuICBhcHAucG9zdCgnL3ZlcnNpb25fY2hhbmdlLzpuZXdWZXJzaW9uJywgYXN5bmMgKHJlcXVlc3QsIHJlc3BvbnNlLCBuZXh0KSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBsb2coNCwgJ1t2ZXJzaW9uXSBDaGFuZ2luZyBIaWdoY2hhcnRzIHZlcnNpb24uJyk7XHJcblxyXG4gICAgICAvLyBHZXQgdGhlIHRva2VuIGRpcmVjdGx5IGZyb20gZW52c1xyXG4gICAgICBjb25zdCBhZG1pblRva2VuID0gZW52cy5ISUdIQ0hBUlRTX0FETUlOX1RPS0VOO1xyXG5cclxuICAgICAgLy8gQ2hlY2sgdGhlIGV4aXN0ZW5jZSBvZiB0aGUgdG9rZW5cclxuICAgICAgaWYgKCFhZG1pblRva2VuIHx8ICFhZG1pblRva2VuLmxlbmd0aCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFeHBvcnRFcnJvcihcclxuICAgICAgICAgICdbdmVyc2lvbl0gVGhlIHNlcnZlciBpcyBub3QgY29uZmlndXJlZCB0byBwZXJmb3JtIHJ1bi10aW1lIHZlcnNpb24gY2hhbmdlczogYEhJR0hDSEFSVFNfQURNSU5fVE9LRU5gIGlzIG5vdCBzZXQuJyxcclxuICAgICAgICAgIDQwMVxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEdldCB0aGUgdG9rZW4gZnJvbSB0aGUgaGMtYXV0aCBoZWFkZXJcclxuICAgICAgY29uc3QgdG9rZW4gPSByZXF1ZXN0LmdldCgnaGMtYXV0aCcpO1xyXG5cclxuICAgICAgLy8gQ2hlY2sgaWYgdGhlIGhjLWF1dGggaGVhZGVyIGNvbnRhaW4gYSBjb3JyZWN0IHRva2VuXHJcbiAgICAgIGlmICghdG9rZW4gfHwgdG9rZW4gIT09IGFkbWluVG9rZW4pIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXhwb3J0RXJyb3IoXHJcbiAgICAgICAgICAnW3ZlcnNpb25dIEludmFsaWQgb3IgbWlzc2luZyB0b2tlbjogU2V0IHRoZSB0b2tlbiBpbiB0aGUgaGMtYXV0aCBoZWFkZXIuJyxcclxuICAgICAgICAgIDQwMVxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEdldCB0aGUgbmV3IHZlcnNpb24gZnJvbSB0aGUgcGFyYW1zXHJcbiAgICAgIGNvbnN0IG5ld1ZlcnNpb24gPSByZXF1ZXN0LnBhcmFtcy5uZXdWZXJzaW9uO1xyXG5cclxuICAgICAgLy8gVXBkYXRlIHZlcnNpb25cclxuICAgICAgaWYgKG5ld1ZlcnNpb24pIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgYXdhaXQgdXBkYXRlSGNWZXJzaW9uKG5ld1ZlcnNpb24pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICB0aHJvdyBuZXcgRXhwb3J0RXJyb3IoXHJcbiAgICAgICAgICAgIGBbdmVyc2lvbl0gVmVyc2lvbiBjaGFuZ2U6ICR7ZXJyb3IubWVzc2FnZX1gLFxyXG4gICAgICAgICAgICA0MDBcclxuICAgICAgICAgICkuc2V0RXJyb3IoZXJyb3IpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU3VjY2Vzc1xyXG4gICAgICAgIHJlc3BvbnNlLnN0YXR1cygyMDApLnNlbmQoe1xyXG4gICAgICAgICAgc3RhdHVzQ29kZTogMjAwLFxyXG4gICAgICAgICAgaGlnaGNoYXJ0c1ZlcnNpb246IGdldEhjVmVyc2lvbigpLFxyXG4gICAgICAgICAgbWVzc2FnZTogYFN1Y2Nlc3NmdWxseSB1cGRhdGVkIEhpZ2hjaGFydHMgdG8gdmVyc2lvbjogJHtuZXdWZXJzaW9ufS5gXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gTm8gdmVyc2lvbiBzcGVjaWZpZWRcclxuICAgICAgICB0aHJvdyBuZXcgRXhwb3J0RXJyb3IoJ1t2ZXJzaW9uXSBObyBuZXcgdmVyc2lvbiBzdXBwbGllZC4nLCA0MDApO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICByZXR1cm4gbmV4dChlcnJvcik7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHJcbkhpZ2hjaGFydHMgRXhwb3J0IFNlcnZlclxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE2LTIwMjUsIEhpZ2hzb2Z0XHJcblxyXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXHJcblxyXG5BZGRpdGlvbmFsbHkgYSB2YWxpZCBIaWdoY2hhcnRzIGxpY2Vuc2UgaXMgcmVxdWlyZWQgZm9yIHVzZS5cclxuXHJcblNlZSBMSUNFTlNFIGZpbGUgaW4gcm9vdCBmb3IgZGV0YWlscy5cclxuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4vKipcclxuICogQG92ZXJ2aWV3IEEgbW9kdWxlIHRoYXQgc2V0cyB1cCBhbmQgbWFuYWdlcyBIVFRQIGFuZCBIVFRQUyBzZXJ2ZXJzXHJcbiAqIGZvciB0aGUgSGlnaGNoYXJ0cyBFeHBvcnQgU2VydmVyLiBJdCBoYW5kbGVzIHNlcnZlciBpbml0aWFsaXphdGlvbixcclxuICogY29uZmlndXJhdGlvbiwgZXJyb3IgaGFuZGxpbmcsIG1pZGRsZXdhcmVzIHNldHVwLCByb3V0ZSBkZWZpbml0aW9uLCBhbmQgcmF0ZVxyXG4gKiBsaW1pdGluZy4gVGhlIG1vZHVsZSBleHBvcnRzIGZ1bmN0aW9ucyB0byBzdGFydCwgc3RvcCwgYW5kIG1hbmFnZSBzZXJ2ZXJcclxuICogaW5zdGFuY2VzLCBhcyB3ZWxsIGFzIHV0aWxpdHkgZnVuY3Rpb25zIGZvciBkZWZpbmluZyByb3V0ZXMgYW5kIGF0dGFjaGluZ1xyXG4gKiBtaWRkbGV3YXJlcy5cclxuICovXHJcblxyXG5pbXBvcnQgeyByZWFkRmlsZVN5bmMgfSBmcm9tICdmcyc7XHJcbmltcG9ydCB7IGpvaW4gfSBmcm9tICdwYXRoJztcclxuXHJcbmltcG9ydCBjb3JzIGZyb20gJ2NvcnMnO1xyXG5pbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcclxuaW1wb3J0IGh0dHAgZnJvbSAnaHR0cCc7XHJcbmltcG9ydCBodHRwcyBmcm9tICdodHRwcyc7XHJcbmltcG9ydCBtdWx0ZXIgZnJvbSAnbXVsdGVyJztcclxuXHJcbmltcG9ydCB7IHVwZGF0ZU9wdGlvbnMgfSBmcm9tICcuLi9jb25maWcuanMnO1xyXG5pbXBvcnQgeyBsb2csIGxvZ1dpdGhTdGFjayB9IGZyb20gJy4uL2xvZ2dlci5qcyc7XHJcbmltcG9ydCB7IF9fZGlybmFtZSwgZ2V0QWJzb2x1dGVQYXRoIH0gZnJvbSAnLi4vdXRpbHMuanMnO1xyXG5cclxuaW1wb3J0IGVycm9yTWlkZGxld2FyZSBmcm9tICcuL21pZGRsZXdhcmVzL2Vycm9yLmpzJztcclxuaW1wb3J0IHJhdGVMaW1pdGluZ01pZGRsZXdhcmUgZnJvbSAnLi9taWRkbGV3YXJlcy9yYXRlTGltaXRpbmcuanMnO1xyXG5pbXBvcnQgdmFsaWRhdGlvbk1pZGRsZXdhcmUgZnJvbSAnLi9taWRkbGV3YXJlcy92YWxpZGF0aW9uLmpzJztcclxuXHJcbmltcG9ydCBleHBvcnRSb3V0ZXMgZnJvbSAnLi9yb3V0ZXMvZXhwb3J0LmpzJztcclxuaW1wb3J0IGhlYWx0aFJvdXRlcyBmcm9tICcuL3JvdXRlcy9oZWFsdGguanMnO1xyXG5pbXBvcnQgdWlSb3V0ZXMgZnJvbSAnLi9yb3V0ZXMvdWkuanMnO1xyXG5pbXBvcnQgdmVyc2lvbkNoYW5nZVJvdXRlcyBmcm9tICcuL3JvdXRlcy92ZXJzaW9uQ2hhbmdlLmpzJztcclxuXHJcbmltcG9ydCBFeHBvcnRFcnJvciBmcm9tICcuLi9lcnJvcnMvRXhwb3J0RXJyb3IuanMnO1xyXG5cclxuLy8gQXJyYXkgb2YgYW4gYWN0aXZlIHNlcnZlcnNcclxuY29uc3QgYWN0aXZlU2VydmVycyA9IG5ldyBNYXAoKTtcclxuXHJcbi8vIENyZWF0ZSBleHByZXNzIGFwcFxyXG5jb25zdCBhcHAgPSBleHByZXNzKCk7XHJcblxyXG4vKipcclxuICogU3RhcnRzIGFuIEhUVFAgYW5kL29yIEhUVFBTIHNlcnZlciBiYXNlZCBvbiB0aGUgcHJvdmlkZWQgY29uZmlndXJhdGlvbi5cclxuICogVGhlIGBzZXJ2ZXJPcHRpb25zYCBvYmplY3QgY29udGFpbnMgc2VydmVyLXJlbGF0ZWQgcHJvcGVydGllcyAocmVmZXJcclxuICogdG8gdGhlIGBzZXJ2ZXJgIHNlY3Rpb24gaW4gdGhlIGAuL2xpYi9zY2hlbWFzL2NvbmZpZy5qc2AgZmlsZSBmb3IgZGV0YWlscykuXHJcbiAqXHJcbiAqIEBhc3luY1xyXG4gKiBAZnVuY3Rpb24gc3RhcnRTZXJ2ZXJcclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IHNlcnZlck9wdGlvbnMgLSBUaGUgY29uZmlndXJhdGlvbiBvYmplY3QgY29udGFpbmluZyBgc2VydmVyYFxyXG4gKiBvcHRpb25zLiBUaGlzIG9iamVjdCBtYXkgaW5jbHVkZSBhIHBhcnRpYWwgb3IgY29tcGxldGUgc2V0IG9mIHRoZSBgc2VydmVyYFxyXG4gKiBvcHRpb25zLiBJZiB0aGUgb3B0aW9ucyBhcmUgcGFydGlhbCwgbWlzc2luZyB2YWx1ZXMgd2lsbCBkZWZhdWx0XHJcbiAqIHRvIHRoZSBjdXJyZW50IGdsb2JhbCBjb25maWd1cmF0aW9uLlxyXG4gKlxyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gQSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgc2VydmVyIGlzIGVpdGhlclxyXG4gKiBub3QgZW5hYmxlZCBvciBubyB2YWxpZCBFeHByZXNzIGFwcCBpcyBmb3VuZCwgc2lnbmFsaW5nIHRoZSBlbmQgb2YgdGhlXHJcbiAqIGZ1bmN0aW9uJ3MgZXhlY3V0aW9uLlxyXG4gKlxyXG4gKiBAdGhyb3dzIHtFeHBvcnRFcnJvcn0gVGhyb3dzIGFuIGBFeHBvcnRFcnJvcmAgaWYgdGhlIHNlcnZlciBjYW5ub3RcclxuICogYmUgY29uZmlndXJlZCBhbmQgc3RhcnRlZC5cclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzdGFydFNlcnZlcihzZXJ2ZXJPcHRpb25zKSB7XHJcbiAgdHJ5IHtcclxuICAgIC8vIFVwZGF0ZSB0aGUgaW5zdGFuY2Ugb3B0aW9ucyBvYmplY3RcclxuICAgIGNvbnN0IG9wdGlvbnMgPSB1cGRhdGVPcHRpb25zKHtcclxuICAgICAgc2VydmVyOiBzZXJ2ZXJPcHRpb25zXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBVc2UgdmFsaWRhdGVkIG9wdGlvbnNcclxuICAgIHNlcnZlck9wdGlvbnMgPSBvcHRpb25zLnNlcnZlcjtcclxuXHJcbiAgICAvLyBTdG9wIGlmIG5vdCBlbmFibGVkXHJcbiAgICBpZiAoIXNlcnZlck9wdGlvbnMuZW5hYmxlIHx8ICFhcHApIHtcclxuICAgICAgdGhyb3cgbmV3IEV4cG9ydEVycm9yKFxyXG4gICAgICAgICdbc2VydmVyXSBTZXJ2ZXIgY2Fubm90IGJlIHN0YXJ0ZWQgKG5vdCBlbmFibGVkIG9yIG5vIGNvcnJlY3QgRXhwcmVzcyBhcHAgZm91bmQpLicsXHJcbiAgICAgICAgNTAwXHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVG9vIGJpZyBsaW1pdHMgbGVhZCB0byB0aW1lb3V0cyBpbiB0aGUgZXhwb3J0IHByb2Nlc3Mgd2hlblxyXG4gICAgLy8gdGhlIHJhc3Rlcml6YXRpb24gdGltZW91dCBpcyBzZXQgdG9vIGxvd1xyXG4gICAgY29uc3QgdXBsb2FkTGltaXRCeXRlcyA9IHNlcnZlck9wdGlvbnMudXBsb2FkTGltaXQgKiAxMDI0ICogMTAyNDtcclxuXHJcbiAgICAvLyBNZW1vcnkgc3RvcmFnZSBmb3IgbXVsdGVyIHBhY2thZ2VcclxuICAgIGNvbnN0IHN0b3JhZ2UgPSBtdWx0ZXIubWVtb3J5U3RvcmFnZSgpO1xyXG5cclxuICAgIC8vIEVuYWJsZSBwYXJzaW5nIG9mIGZvcm0gZGF0YSAoZmlsZXMpIHdpdGggbXVsdGVyIHBhY2thZ2VcclxuICAgIGNvbnN0IHVwbG9hZCA9IG11bHRlcih7XHJcbiAgICAgIHN0b3JhZ2UsXHJcbiAgICAgIGxpbWl0czoge1xyXG4gICAgICAgIGZpZWxkU2l6ZTogdXBsb2FkTGltaXRCeXRlc1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBEaXNhYmxlIHRoZSBYLVBvd2VyZWQtQnkgaGVhZGVyXHJcbiAgICBhcHAuZGlzYWJsZSgneC1wb3dlcmVkLWJ5Jyk7XHJcblxyXG4gICAgLy8gRW5hYmxlIENPUlMgc3VwcG9ydFxyXG4gICAgYXBwLnVzZShcclxuICAgICAgY29ycyh7XHJcbiAgICAgICAgbWV0aG9kczogWydQT1NUJywgJ0dFVCcsICdPUFRJT05TJ11cclxuICAgICAgfSlcclxuICAgICk7XHJcblxyXG4gICAgLy8gR2V0dGluZyBhIGxvdCBvZiBgUmFuZ2VOb3RTYXRpc2ZpYWJsZUVycm9yYCBleGNlcHRpb25zIChldmVuIHRob3VnaCB0aGlzXHJcbiAgICAvLyBpcyBhIGRlcHJlY2F0ZWQgb3B0aW9ucywgbGV0J3MgdHJ5IHRvIHNldCBpdCB0byBmYWxzZSlcclxuICAgIGFwcC51c2UoKHJlcXVlc3QsIHJlc3BvbnNlLCBuZXh0KSA9PiB7XHJcbiAgICAgIHJlc3BvbnNlLnNldCgnQWNjZXB0LVJhbmdlcycsICdub25lJyk7XHJcbiAgICAgIG5leHQoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIEVuYWJsZSBib2R5IHBhcnNlciBmb3IgSlNPTiBkYXRhXHJcbiAgICBhcHAudXNlKFxyXG4gICAgICBleHByZXNzLmpzb24oe1xyXG4gICAgICAgIGxpbWl0OiB1cGxvYWRMaW1pdEJ5dGVzXHJcbiAgICAgIH0pXHJcbiAgICApO1xyXG5cclxuICAgIC8vIEVuYWJsZSBib2R5IHBhcnNlciBmb3IgVVJMLWVuY29kZWQgZm9ybSBkYXRhXHJcbiAgICBhcHAudXNlKFxyXG4gICAgICBleHByZXNzLnVybGVuY29kZWQoe1xyXG4gICAgICAgIGV4dGVuZGVkOiB0cnVlLFxyXG4gICAgICAgIGxpbWl0OiB1cGxvYWRMaW1pdEJ5dGVzXHJcbiAgICAgIH0pXHJcbiAgICApO1xyXG5cclxuICAgIC8vIFVzZSBvbmx5IG5vbi1maWxlIG11bHRpcGFydCBmb3JtIGZpZWxkc1xyXG4gICAgYXBwLnVzZSh1cGxvYWQubm9uZSgpKTtcclxuXHJcbiAgICAvLyBTZXQgdXAgc3RhdGljIGZvbGRlcidzIHJvdXRlXHJcbiAgICBhcHAudXNlKGV4cHJlc3Muc3RhdGljKGpvaW4oX19kaXJuYW1lLCAncHVibGljJykpKTtcclxuXHJcbiAgICAvLyBMaXN0ZW4gSFRUUCBzZXJ2ZXJcclxuICAgIGlmICghc2VydmVyT3B0aW9ucy5zc2wuZm9yY2UpIHtcclxuICAgICAgLy8gTWFpbiBzZXJ2ZXIgaW5zdGFuY2UgKEhUVFApXHJcbiAgICAgIGNvbnN0IGh0dHBTZXJ2ZXIgPSBodHRwLmNyZWF0ZVNlcnZlcihhcHApO1xyXG5cclxuICAgICAgLy8gQXR0YWNoIGVycm9yIGhhbmRsZXJzIGFuZCBsaXN0ZW4gdG8gdGhlIHNlcnZlclxyXG4gICAgICBfYXR0YWNoU2VydmVyRXJyb3JIYW5kbGVycyhodHRwU2VydmVyKTtcclxuXHJcbiAgICAgIC8vIExpc3RlblxyXG4gICAgICBodHRwU2VydmVyLmxpc3RlbihzZXJ2ZXJPcHRpb25zLnBvcnQsIHNlcnZlck9wdGlvbnMuaG9zdCwgKCkgPT4ge1xyXG4gICAgICAgIC8vIFNhdmUgdGhlIHJlZmVyZW5jZSB0byBIVFRQIHNlcnZlclxyXG4gICAgICAgIGFjdGl2ZVNlcnZlcnMuc2V0KHNlcnZlck9wdGlvbnMucG9ydCwgaHR0cFNlcnZlcik7XHJcblxyXG4gICAgICAgIGxvZyhcclxuICAgICAgICAgIDMsXHJcbiAgICAgICAgICBgW3NlcnZlcl0gU3RhcnRlZCBIVFRQIHNlcnZlciBvbiAke3NlcnZlck9wdGlvbnMuaG9zdH06JHtzZXJ2ZXJPcHRpb25zLnBvcnR9LmBcclxuICAgICAgICApO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBMaXN0ZW4gSFRUUFMgc2VydmVyXHJcbiAgICBpZiAoc2VydmVyT3B0aW9ucy5zc2wuZW5hYmxlKSB7XHJcbiAgICAgIC8vIFNldCB1cCBhbiBTU0wgc2VydmVyIGFsc29cclxuICAgICAgbGV0IGtleSwgY2VydDtcclxuXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgLy8gR2V0IHRoZSBTU0wga2V5XHJcbiAgICAgICAga2V5ID0gcmVhZEZpbGVTeW5jKFxyXG4gICAgICAgICAgam9pbihnZXRBYnNvbHV0ZVBhdGgoc2VydmVyT3B0aW9ucy5zc2wuY2VydFBhdGgpLCAnc2VydmVyLmtleScpLFxyXG4gICAgICAgICAgJ3V0ZjgnXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgLy8gR2V0IHRoZSBTU0wgY2VydGlmaWNhdGVcclxuICAgICAgICBjZXJ0ID0gcmVhZEZpbGVTeW5jKFxyXG4gICAgICAgICAgam9pbihnZXRBYnNvbHV0ZVBhdGgoc2VydmVyT3B0aW9ucy5zc2wuY2VydFBhdGgpLCAnc2VydmVyLmNydCcpLFxyXG4gICAgICAgICAgJ3V0ZjgnXHJcbiAgICAgICAgKTtcclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBsb2coXHJcbiAgICAgICAgICAyLFxyXG4gICAgICAgICAgYFtzZXJ2ZXJdIFVuYWJsZSB0byBsb2FkIGtleS9jZXJ0aWZpY2F0ZSBmcm9tIHRoZSAnJHtzZXJ2ZXJPcHRpb25zLnNzbC5jZXJ0UGF0aH0nIHBhdGguIENvdWxkIG5vdCBydW4gc2VjdXJlZCBsYXllciBzZXJ2ZXIuYFxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChrZXkgJiYgY2VydCkge1xyXG4gICAgICAgIC8vIE1haW4gc2VydmVyIGluc3RhbmNlIChIVFRQUylcclxuICAgICAgICBjb25zdCBodHRwc1NlcnZlciA9IGh0dHBzLmNyZWF0ZVNlcnZlcih7IGtleSwgY2VydCB9LCBhcHApO1xyXG5cclxuICAgICAgICAvLyBBdHRhY2ggZXJyb3IgaGFuZGxlcnMgYW5kIGxpc3RlbiB0byB0aGUgc2VydmVyXHJcbiAgICAgICAgX2F0dGFjaFNlcnZlckVycm9ySGFuZGxlcnMoaHR0cHNTZXJ2ZXIpO1xyXG5cclxuICAgICAgICAvLyBMaXN0ZW5cclxuICAgICAgICBodHRwc1NlcnZlci5saXN0ZW4oc2VydmVyT3B0aW9ucy5zc2wucG9ydCwgc2VydmVyT3B0aW9ucy5ob3N0LCAoKSA9PiB7XHJcbiAgICAgICAgICAvLyBTYXZlIHRoZSByZWZlcmVuY2UgdG8gSFRUUFMgc2VydmVyXHJcbiAgICAgICAgICBhY3RpdmVTZXJ2ZXJzLnNldChzZXJ2ZXJPcHRpb25zLnNzbC5wb3J0LCBodHRwc1NlcnZlcik7XHJcblxyXG4gICAgICAgICAgbG9nKFxyXG4gICAgICAgICAgICAzLFxyXG4gICAgICAgICAgICBgW3NlcnZlcl0gU3RhcnRlZCBIVFRQUyBzZXJ2ZXIgb24gJHtzZXJ2ZXJPcHRpb25zLmhvc3R9OiR7c2VydmVyT3B0aW9ucy5zc2wucG9ydH0uYFxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFNldCB1cCB0aGUgcmF0ZSBsaW1pdGVyXHJcbiAgICByYXRlTGltaXRpbmdNaWRkbGV3YXJlKGFwcCwgc2VydmVyT3B0aW9ucy5yYXRlTGltaXRpbmcpO1xyXG5cclxuICAgIC8vIFNldCB1cCB0aGUgdmFsaWRhdGlvbiBoYW5kbGVyXHJcbiAgICB2YWxpZGF0aW9uTWlkZGxld2FyZShhcHApO1xyXG5cclxuICAgIC8vIFNldCB1cCByb3V0ZXNcclxuICAgIGV4cG9ydFJvdXRlcyhhcHApO1xyXG4gICAgaGVhbHRoUm91dGVzKGFwcCk7XHJcbiAgICB1aVJvdXRlcyhhcHApO1xyXG4gICAgdmVyc2lvbkNoYW5nZVJvdXRlcyhhcHApO1xyXG5cclxuICAgIC8vIFNldCB1cCB0aGUgY2VudHJhbGl6ZWQgZXJyb3IgaGFuZGxlclxyXG4gICAgZXJyb3JNaWRkbGV3YXJlKGFwcCk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHRocm93IG5ldyBFeHBvcnRFcnJvcihcclxuICAgICAgJ1tzZXJ2ZXJdIENvdWxkIG5vdCBjb25maWd1cmUgYW5kIHN0YXJ0IHRoZSBzZXJ2ZXIuJyxcclxuICAgICAgNTAwXHJcbiAgICApLnNldEVycm9yKGVycm9yKTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDbG9zZXMgYWxsIHNlcnZlcnMgYXNzb2NpYXRlZCB3aXRoIEV4cHJlc3MgYXBwIGluc3RhbmNlLlxyXG4gKlxyXG4gKiBAZnVuY3Rpb24gY2xvc2VTZXJ2ZXJzXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gY2xvc2VTZXJ2ZXJzKCkge1xyXG4gIC8vIENoZWNrIGlmIHRoZXJlIGFyZSBzZXJ2ZXJzIHdvcmtpbmdcclxuICBpZiAoYWN0aXZlU2VydmVycy5zaXplID4gMCkge1xyXG4gICAgbG9nKDQsIGBbc2VydmVyXSBDbG9zaW5nIGFsbCBzZXJ2ZXJzLmApO1xyXG5cclxuICAgIC8vIENsb3NlIGVhY2ggb25lIG9mIHNlcnZlcnNcclxuICAgIGZvciAoY29uc3QgW3BvcnQsIHNlcnZlcl0gb2YgYWN0aXZlU2VydmVycykge1xyXG4gICAgICBzZXJ2ZXIuY2xvc2UoKCkgPT4ge1xyXG4gICAgICAgIGFjdGl2ZVNlcnZlcnMuZGVsZXRlKHBvcnQpO1xyXG4gICAgICAgIGxvZyg0LCBgW3NlcnZlcl0gQ2xvc2VkIHNlcnZlciBvbiBwb3J0OiAke3BvcnR9LmApO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZXQgYWxsIHNlcnZlcnMgYXNzb2NpYXRlZCB3aXRoIEV4cHJlc3MgYXBwIGluc3RhbmNlLlxyXG4gKlxyXG4gKiBAZnVuY3Rpb24gZ2V0U2VydmVyc1xyXG4gKlxyXG4gKiBAcmV0dXJucyB7QXJyYXk8T2JqZWN0Pn0gU2VydmVycyBhc3NvY2lhdGVkIHdpdGggRXhwcmVzcyBhcHAgaW5zdGFuY2UuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2VydmVycygpIHtcclxuICByZXR1cm4gYWN0aXZlU2VydmVycztcclxufVxyXG5cclxuLyoqXHJcbiAqIEdldCB0aGUgRXhwcmVzcyBpbnN0YW5jZS5cclxuICpcclxuICogQGZ1bmN0aW9uIGdldEV4cHJlc3NcclxuICpcclxuICogQHJldHVybnMge0V4cHJlc3N9IFRoZSBFeHByZXNzIGluc3RhbmNlLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEV4cHJlc3MoKSB7XHJcbiAgcmV0dXJuIGV4cHJlc3M7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZXQgdGhlIEV4cHJlc3MgYXBwIGluc3RhbmNlLlxyXG4gKlxyXG4gKiBAZnVuY3Rpb24gZ2V0QXBwXHJcbiAqXHJcbiAqIEByZXR1cm5zIHtFeHByZXNzfSBUaGUgRXhwcmVzcyBhcHAgaW5zdGFuY2UuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXBwKCkge1xyXG4gIHJldHVybiBhcHA7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBFbmFibGUgcmF0ZSBsaW1pdGluZyBmb3IgdGhlIHNlcnZlci5cclxuICpcclxuICogQGZ1bmN0aW9uIGVuYWJsZVJhdGVMaW1pdGluZ1xyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gcmF0ZUxpbWl0aW5nT3B0aW9ucyAtIFRoZSBjb25maWd1cmF0aW9uIG9iamVjdCBjb250YWluaW5nXHJcbiAqIGByYXRlTGltaXRpbmdgIG9wdGlvbnMuIFRoaXMgb2JqZWN0IG1heSBpbmNsdWRlIGEgcGFydGlhbCBvciBjb21wbGV0ZSBzZXRcclxuICogb2YgdGhlIGByYXRlTGltaXRpbmdgIG9wdGlvbnMuIElmIHRoZSBvcHRpb25zIGFyZSBwYXJ0aWFsLCBtaXNzaW5nIHZhbHVlc1xyXG4gKiB3aWxsIGRlZmF1bHQgdG8gdGhlIGN1cnJlbnQgZ2xvYmFsIGNvbmZpZ3VyYXRpb24uXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZW5hYmxlUmF0ZUxpbWl0aW5nKHJhdGVMaW1pdGluZ09wdGlvbnMpIHtcclxuICAvLyBVcGRhdGUgdGhlIGluc3RhbmNlIG9wdGlvbnMgb2JqZWN0XHJcbiAgY29uc3Qgb3B0aW9ucyA9IHVwZGF0ZU9wdGlvbnMoe1xyXG4gICAgc2VydmVyOiB7XHJcbiAgICAgIHJhdGVMaW1pdGluZzogcmF0ZUxpbWl0aW5nT3B0aW9uc1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICAvLyBTZXQgdGhlIHJhdGUgbGltaXRpbmcgb3B0aW9uc1xyXG4gIHJhdGVMaW1pdGluZ01pZGRsZXdhcmUoYXBwLCBvcHRpb25zLnNlcnZlci5yYXRlTGltaXRpbmdPcHRpb25zKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEFwcGx5IG1pZGRsZXdhcmUocykgdG8gYSBzcGVjaWZpYyBwYXRoLlxyXG4gKlxyXG4gKiBAZnVuY3Rpb24gdXNlXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gVGhlIHBhdGggdG8gd2hpY2ggdGhlIG1pZGRsZXdhcmUocykgc2hvdWxkIGJlIGFwcGxpZWQuXHJcbiAqIEBwYXJhbSB7Li4uRnVuY3Rpb259IG1pZGRsZXdhcmVzIC0gVGhlIG1pZGRsZXdhcmUgZnVuY3Rpb24ocykgdG8gYmUgYXBwbGllZC5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiB1c2UocGF0aCwgLi4ubWlkZGxld2FyZXMpIHtcclxuICBhcHAudXNlKHBhdGgsIC4uLm1pZGRsZXdhcmVzKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFNldCB1cCBhIHJvdXRlIHdpdGggR0VUIG1ldGhvZCBhbmQgYXBwbHkgbWlkZGxld2FyZShzKS5cclxuICpcclxuICogQGZ1bmN0aW9uIGdldFxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAtIFRoZSBwYXRoIHRvIHdoaWNoIHRoZSBtaWRkbGV3YXJlKHMpIHNob3VsZCBiZSBhcHBsaWVkLlxyXG4gKiBAcGFyYW0gey4uLkZ1bmN0aW9ufSBtaWRkbGV3YXJlcyAtIFRoZSBtaWRkbGV3YXJlIGZ1bmN0aW9uKHMpIHRvIGJlIGFwcGxpZWQuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0KHBhdGgsIC4uLm1pZGRsZXdhcmVzKSB7XHJcbiAgYXBwLmdldChwYXRoLCAuLi5taWRkbGV3YXJlcyk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTZXQgdXAgYSByb3V0ZSB3aXRoIFBPU1QgbWV0aG9kIGFuZCBhcHBseSBtaWRkbGV3YXJlKHMpLlxyXG4gKlxyXG4gKiBAZnVuY3Rpb24gcG9zdFxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAtIFRoZSBwYXRoIHRvIHdoaWNoIHRoZSBtaWRkbGV3YXJlKHMpIHNob3VsZCBiZSBhcHBsaWVkLlxyXG4gKiBAcGFyYW0gey4uLkZ1bmN0aW9ufSBtaWRkbGV3YXJlcyAtIFRoZSBtaWRkbGV3YXJlIGZ1bmN0aW9uKHMpIHRvIGJlIGFwcGxpZWQuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gcG9zdChwYXRoLCAuLi5taWRkbGV3YXJlcykge1xyXG4gIGFwcC5wb3N0KHBhdGgsIC4uLm1pZGRsZXdhcmVzKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEF0dGFjaCBlcnJvciBoYW5kbGVycyB0byB0aGUgc2VydmVyLlxyXG4gKlxyXG4gKiBAZnVuY3Rpb24gX2F0dGFjaFNlcnZlckVycm9ySGFuZGxlcnNcclxuICpcclxuICogQHBhcmFtIHsoaHR0cC5TZXJ2ZXJ8aHR0cHMuU2VydmVyKX0gc2VydmVyIC0gVGhlIEhUVFAvSFRUUFMgc2VydmVyIGluc3RhbmNlLlxyXG4gKi9cclxuZnVuY3Rpb24gX2F0dGFjaFNlcnZlckVycm9ySGFuZGxlcnMoc2VydmVyKSB7XHJcbiAgc2VydmVyLm9uKCdjbGllbnRFcnJvcicsIChlcnJvciwgc29ja2V0KSA9PiB7XHJcbiAgICBsb2dXaXRoU3RhY2soXHJcbiAgICAgIDEsXHJcbiAgICAgIGVycm9yLFxyXG4gICAgICBgW3NlcnZlcl0gQ2xpZW50IGVycm9yOiAke2Vycm9yLm1lc3NhZ2V9LCBkZXN0cm95aW5nIHNvY2tldC5gXHJcbiAgICApO1xyXG4gICAgc29ja2V0LmRlc3Ryb3koKTtcclxuICB9KTtcclxuXHJcbiAgc2VydmVyLm9uKCdlcnJvcicsIChlcnJvcikgPT4ge1xyXG4gICAgbG9nV2l0aFN0YWNrKDEsIGVycm9yLCBgW3NlcnZlcl0gU2VydmVyIGVycm9yOiAke2Vycm9yLm1lc3NhZ2V9YCk7XHJcbiAgfSk7XHJcblxyXG4gIHNlcnZlci5vbignY29ubmVjdGlvbicsIChzb2NrZXQpID0+IHtcclxuICAgIHNvY2tldC5vbignZXJyb3InLCAoZXJyb3IpID0+IHtcclxuICAgICAgbG9nV2l0aFN0YWNrKDEsIGVycm9yLCBgW3NlcnZlcl0gU29ja2V0IGVycm9yOiAke2Vycm9yLm1lc3NhZ2V9YCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gIHN0YXJ0U2VydmVyLFxyXG4gIGNsb3NlU2VydmVycyxcclxuICBnZXRTZXJ2ZXJzLFxyXG4gIGdldEV4cHJlc3MsXHJcbiAgZ2V0QXBwLFxyXG4gIGVuYWJsZVJhdGVMaW1pdGluZyxcclxuICB1c2UsXHJcbiAgZ2V0LFxyXG4gIHBvc3RcclxufTtcclxuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHJcbkhpZ2hjaGFydHMgRXhwb3J0IFNlcnZlclxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE2LTIwMjUsIEhpZ2hzb2Z0XHJcblxyXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXHJcblxyXG5BZGRpdGlvbmFsbHkgYSB2YWxpZCBIaWdoY2hhcnRzIGxpY2Vuc2UgaXMgcmVxdWlyZWQgZm9yIHVzZS5cclxuXHJcblNlZSBMSUNFTlNFIGZpbGUgaW4gcm9vdCBmb3IgZGV0YWlscy5cclxuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4vKipcclxuICogQG92ZXJ2aWV3IEhhbmRsZXMgZ3JhY2VmdWwgc2h1dGRvd24gb2YgdGhlIEhpZ2hjaGFydHMgRXhwb3J0IFNlcnZlciwgZW5zdXJpbmdcclxuICogcHJvcGVyIGNsZWFudXAgb2YgcmVzb3VyY2VzIHN1Y2ggYXMgYnJvd3NlciwgcGFnZXMsIHNlcnZlcnMsIGFuZCB0aW1lcnMuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsga2lsbFBvb2wgfSBmcm9tICcuL3Bvb2wuanMnO1xyXG5pbXBvcnQgeyBjbGVhckFsbFRpbWVycyB9IGZyb20gJy4vdGltZXIuanMnO1xyXG5cclxuaW1wb3J0IHsgY2xvc2VTZXJ2ZXJzIH0gZnJvbSAnLi9zZXJ2ZXIvc2VydmVyLmpzJztcclxuXHJcbi8qKlxyXG4gKiBQZXJmb3JtcyBjbGVhbnVwIG9wZXJhdGlvbnMgdG8gZW5zdXJlIGEgZ3JhY2VmdWwgc2h1dGRvd24gb2YgdGhlIHByb2Nlc3MuXHJcbiAqIFRoaXMgaW5jbHVkZXMgY2xlYXJpbmcgYWxsIHJlZ2lzdGVyZWQgdGltZW91dHMvaW50ZXJ2YWxzLCBjbG9zaW5nIGFjdGl2ZVxyXG4gKiBzZXJ2ZXJzLCB0ZXJtaW5hdGluZyByZXNvdXJjZXMgKHBhZ2VzKSBvZiB0aGUgcG9vbCwgcG9vbCBpdHNlbGYsIGFuZCBjbG9zaW5nXHJcbiAqIHRoZSBicm93c2VyLlxyXG4gKlxyXG4gKiBAZnVuY3Rpb24gc2h1dGRvd25DbGVhblVwXHJcbiAqXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbZXhpdENvZGU9MF0gLSBUaGUgZXhpdCBjb2RlIHRvIHVzZSB3aXRoIGBwcm9jZXNzLmV4aXQoKWAuXHJcbiAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGAwYC5cclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzaHV0ZG93bkNsZWFuVXAoZXhpdENvZGUgPSAwKSB7XHJcbiAgLy8gQXdhaXQgZnJlZWluZyBhbGwgcmVzb3VyY2VzXHJcbiAgYXdhaXQgUHJvbWlzZS5hbGxTZXR0bGVkKFtcclxuICAgIC8vIENsZWFyIGFsbCBvbmdvaW5nIGludGVydmFsc1xyXG4gICAgY2xlYXJBbGxUaW1lcnMoKSxcclxuXHJcbiAgICAvLyBHZXQgYXZhaWxhYmxlIHNlcnZlciBpbnN0YW5jZXMgKEhUVFAvSFRUUFMpIGFuZCBjbG9zZSB0aGVtXHJcbiAgICBjbG9zZVNlcnZlcnMoKSxcclxuXHJcbiAgICAvLyBDbG9zZSBhbiBhY3RpdmUgcG9vbCBhbG9uZyB3aXRoIGl0cyB3b3JrZXJzIGFuZCB0aGUgYnJvd3NlciBpbnN0YW5jZVxyXG4gICAga2lsbFBvb2woKVxyXG4gIF0pO1xyXG5cclxuICAvLyBFeGl0IHByb2Nlc3Mgd2l0aCBhIGNvcnJlY3QgY29kZVxyXG4gIHByb2Nlc3MuZXhpdChleGl0Q29kZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICBzaHV0ZG93bkNsZWFuVXBcclxufTtcclxuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuXHJcbkhpZ2hjaGFydHMgRXhwb3J0IFNlcnZlclxyXG5cclxuQ29weXJpZ2h0IChjKSAyMDE2LTIwMjUsIEhpZ2hzb2Z0XHJcblxyXG5MaWNlbmNlZCB1bmRlciB0aGUgTUlUIGxpY2VuY2UuXHJcblxyXG5BZGRpdGlvbmFsbHkgYSB2YWxpZCBIaWdoY2hhcnRzIGxpY2Vuc2UgaXMgcmVxdWlyZWQgZm9yIHVzZS5cclxuXHJcblNlZSBMSUNFTlNFIGZpbGUgaW4gcm9vdCBmb3IgZGV0YWlscy5cclxuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4vKipcclxuICogQG92ZXJ2aWV3IFRoaXMgY29yZSBtb2R1bGUgaW5pdGlhbGl6ZXMgYW5kIG1hbmFnZXMgdGhlIEhpZ2hjaGFydHMgRXhwb3J0XHJcbiAqIFNlcnZlci4gVGhlIG1haW4gYGluaXRFeHBvcnRgIGZ1bmN0aW9uIGhhbmRsZXMgbG9nZ2luZywgc2NyaXB0IGNhY2hpbmcsXHJcbiAqIHJlc291cmNlIHBvb2xpbmcsIGJyb3dzZXIgc3RhcnR1cCwgYW5kIGVuc3VyZXMgZ3JhY2VmdWwgcHJvY2VzcyBjbGVhbnVwXHJcbiAqIG9uIGV4aXQuIEFkZGl0aW9uYWxseSwgaXQgcHJvdmlkZXMgQVBJIGZ1bmN0aW9ucyBmb3IgdXNpbmcgaXQgYXMgYSBOb2RlLmpzXHJcbiAqIG1vZHVsZSwgb2ZmZXJpbmcgZnVuY3Rpb25hbGl0aWVzIGZvciBwcm9jZXNzaW5nIG9wdGlvbnMsIGNvbmZpZ3VyaW5nXHJcbiAqIGFuZCBwZXJmb3JtaW5nIGV4cG9ydHMsIGFuZCBzZXR0aW5nIHVwIHNlcnZlci5cclxuICovXHJcblxyXG5pbXBvcnQgJ2NvbG9ycyc7XHJcblxyXG5pbXBvcnQgeyBjaGVja0NhY2hlIH0gZnJvbSAnLi9jYWNoZS5qcyc7XHJcbmltcG9ydCB7XHJcbiAgYmF0Y2hFeHBvcnQsXHJcbiAgc2luZ2xlRXhwb3J0LFxyXG4gIHN0YXJ0RXhwb3J0LFxyXG4gIHNldEFsbG93Q29kZUV4ZWN1dGlvblxyXG59IGZyb20gJy4vY2hhcnQuanMnO1xyXG5pbXBvcnQgeyBnZXRPcHRpb25zLCB1cGRhdGVPcHRpb25zLCBtYXBUb05ld09wdGlvbnMgfSBmcm9tICcuL2NvbmZpZy5qcyc7XHJcbmltcG9ydCB7XHJcbiAgbG9nLFxyXG4gIGxvZ1dpdGhTdGFjayxcclxuICBpbml0TG9nZ2luZyxcclxuICBlbmFibGVDb25zb2xlTG9nZ2luZyxcclxuICBlbmFibGVGaWxlTG9nZ2luZyxcclxuICBzZXRMb2dMZXZlbFxyXG59IGZyb20gJy4vbG9nZ2VyLmpzJztcclxuaW1wb3J0IHsgaW5pdFBvb2wsIGtpbGxQb29sIH0gZnJvbSAnLi9wb29sLmpzJztcclxuaW1wb3J0IHsgc2h1dGRvd25DbGVhblVwIH0gZnJvbSAnLi9yZXNvdXJjZVJlbGVhc2UuanMnO1xyXG5cclxuaW1wb3J0IHNlcnZlciBmcm9tICcuL3NlcnZlci9zZXJ2ZXIuanMnO1xyXG5cclxuLyoqXHJcbiAqIEluaXRpYWxpemVzIHRoZSBleHBvcnQgcHJvY2Vzcy4gVGFza3Mgc3VjaCBhcyBjb25maWd1cmluZyBsb2dnaW5nLCBjaGVja2luZ1xyXG4gKiB0aGUgY2FjaGUgYW5kIHNvdXJjZXMsIGFuZCBpbml0aWFsaXppbmcgdGhlIHJlc291cmNlIHBvb2wgb2NjdXIgZHVyaW5nIHRoaXNcclxuICogc3RhZ2UuXHJcbiAqXHJcbiAqIFRoaXMgZnVuY3Rpb24gbXVzdCBiZSBjYWxsZWQgYmVmb3JlIGF0dGVtcHRpbmcgdG8gZXhwb3J0IGNoYXJ0cyBvciBzZXRcclxuICogdXAgYSBzZXJ2ZXIuXHJcbiAqXHJcbiAqIEBhc3luY1xyXG4gKiBAZnVuY3Rpb24gaW5pdEV4cG9ydFxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gaW5pdE9wdGlvbnMgLSBUaGUgYGluaXRPcHRpb25zYCBvYmplY3QsIHdoaWNoIG1heVxyXG4gKiBiZSBhIHBhcnRpYWwgb3IgY29tcGxldGUgc2V0IG9mIG9wdGlvbnMuIElmIHRoZSBvcHRpb25zIGFyZSBwYXJ0aWFsLCBtaXNzaW5nXHJcbiAqIHZhbHVlcyB3aWxsIGRlZmF1bHQgdG8gdGhlIGN1cnJlbnQgZ2xvYmFsIGNvbmZpZ3VyYXRpb24uXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaW5pdEV4cG9ydChpbml0T3B0aW9ucykge1xyXG4gIC8vIEluaXQgYW5kIHVwZGF0ZSB0aGUgaW5zdGFuY2Ugb3B0aW9ucyBvYmplY3RcclxuICBjb25zdCBvcHRpb25zID0gdXBkYXRlT3B0aW9ucyhpbml0T3B0aW9ucyk7XHJcblxyXG4gIC8vIFNldCB0aGUgYGFsbG93Q29kZUV4ZWN1dGlvbmAgcGVyIGV4cG9ydCBtb2R1bGUgc2NvcGVcclxuICBzZXRBbGxvd0NvZGVFeGVjdXRpb24ob3B0aW9ucy5jdXN0b21Mb2dpYy5hbGxvd0NvZGVFeGVjdXRpb24pO1xyXG5cclxuICAvLyBJbml0IHRoZSBsb2dnaW5nXHJcbiAgaW5pdExvZ2dpbmcob3B0aW9ucy5sb2dnaW5nKTtcclxuXHJcbiAgLy8gQXR0YWNoIHByb2Nlc3MnIGV4aXQgbGlzdGVuZXJzXHJcbiAgaWYgKG9wdGlvbnMub3RoZXIubGlzdGVuVG9Qcm9jZXNzRXhpdHMpIHtcclxuICAgIF9hdHRhY2hQcm9jZXNzRXhpdExpc3RlbmVycygpO1xyXG4gIH1cclxuXHJcbiAgLy8gQ2hlY2sgdGhlIGN1cnJlbnQgc3RhdHVzIG9mIGNhY2hlXHJcbiAgYXdhaXQgY2hlY2tDYWNoZShvcHRpb25zLmhpZ2hjaGFydHMsIG9wdGlvbnMuc2VydmVyLnByb3h5KTtcclxuXHJcbiAgLy8gSW5pdCB0aGUgcG9vbFxyXG4gIGF3YWl0IGluaXRQb29sKG9wdGlvbnMucG9vbCwgb3B0aW9ucy5wdXBwZXRlZXIuYXJncyk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBdHRhY2hlcyBleGl0IGxpc3RlbmVycyB0byB0aGUgcHJvY2VzcywgZW5zdXJpbmcgcHJvcGVyIGNsZWFudXAgb2YgcmVzb3VyY2VzXHJcbiAqIGFuZCB0ZXJtaW5hdGlvbiBvbiBleGl0IHNpZ25hbHMuIEhhbmRsZXMgJ2V4aXQnLCAnU0lHSU5UJywgJ1NJR1RFUk0nLFxyXG4gKiBhbmQgJ3VuY2F1Z2h0RXhjZXB0aW9uJyBldmVudHMuXHJcbiAqXHJcbiAqIEBmdW5jdGlvbiBfYXR0YWNoUHJvY2Vzc0V4aXRMaXN0ZW5lcnNcclxuICovXHJcbmZ1bmN0aW9uIF9hdHRhY2hQcm9jZXNzRXhpdExpc3RlbmVycygpIHtcclxuICBsb2coMywgJ1twcm9jZXNzXSBBdHRhY2hpbmcgZXhpdCBsaXN0ZW5lcnMgdG8gdGhlIHByb2Nlc3MuJyk7XHJcblxyXG4gIC8vIEhhbmRsZXIgZm9yIHRoZSAnZXhpdCdcclxuICBwcm9jZXNzLm9uKCdleGl0JywgKGNvZGUpID0+IHtcclxuICAgIGxvZyg0LCBgW3Byb2Nlc3NdIFByb2Nlc3MgZXhpdGVkIHdpdGggY29kZTogJHtjb2RlfS5gKTtcclxuICB9KTtcclxuXHJcbiAgLy8gSGFuZGxlciBmb3IgdGhlICdTSUdJTlQnXHJcbiAgcHJvY2Vzcy5vbignU0lHSU5UJywgYXN5bmMgKG5hbWUsIGNvZGUpID0+IHtcclxuICAgIGxvZyg0LCBgW3Byb2Nlc3NdIFRoZSAke25hbWV9IGV2ZW50IHdpdGggY29kZTogJHtjb2RlfS5gKTtcclxuICAgIGF3YWl0IHNodXRkb3duQ2xlYW5VcCgpO1xyXG4gIH0pO1xyXG5cclxuICAvLyBIYW5kbGVyIGZvciB0aGUgJ1NJR1RFUk0nXHJcbiAgcHJvY2Vzcy5vbignU0lHVEVSTScsIGFzeW5jIChuYW1lLCBjb2RlKSA9PiB7XHJcbiAgICBsb2coNCwgYFtwcm9jZXNzXSBUaGUgJHtuYW1lfSBldmVudCB3aXRoIGNvZGU6ICR7Y29kZX0uYCk7XHJcbiAgICBhd2FpdCBzaHV0ZG93bkNsZWFuVXAoKTtcclxuICB9KTtcclxuXHJcbiAgLy8gSGFuZGxlciBmb3IgdGhlICdTSUdIVVAnXHJcbiAgcHJvY2Vzcy5vbignU0lHSFVQJywgYXN5bmMgKG5hbWUsIGNvZGUpID0+IHtcclxuICAgIGxvZyg0LCBgW3Byb2Nlc3NdIFRoZSAke25hbWV9IGV2ZW50IHdpdGggY29kZTogJHtjb2RlfS5gKTtcclxuICAgIGF3YWl0IHNodXRkb3duQ2xlYW5VcCgpO1xyXG4gIH0pO1xyXG5cclxuICAvLyBIYW5kbGVyIGZvciB0aGUgJ3VuY2F1Z2h0RXhjZXB0aW9uJ1xyXG4gIHByb2Nlc3Mub24oJ3VuY2F1Z2h0RXhjZXB0aW9uJywgYXN5bmMgKGVycm9yLCBuYW1lKSA9PiB7XHJcbiAgICBsb2dXaXRoU3RhY2soMSwgZXJyb3IsIGBbcHJvY2Vzc10gVGhlICR7bmFtZX0gZXJyb3IuYCk7XHJcbiAgICBhd2FpdCBzaHV0ZG93bkNsZWFuVXAoMSk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAvLyBTZXJ2ZXJcclxuICAuLi5zZXJ2ZXIsXHJcblxyXG4gIC8vIE9wdGlvbnNcclxuICBnZXRPcHRpb25zLFxyXG4gIHVwZGF0ZU9wdGlvbnMsXHJcbiAgbWFwVG9OZXdPcHRpb25zLFxyXG5cclxuICAvLyBFeHBvcnRpbmdcclxuICBpbml0RXhwb3J0LFxyXG4gIHNpbmdsZUV4cG9ydCxcclxuICBiYXRjaEV4cG9ydCxcclxuICBzdGFydEV4cG9ydCxcclxuXHJcbiAgLy8gUmVsZWFzZVxyXG4gIGtpbGxQb29sLFxyXG4gIHNodXRkb3duQ2xlYW5VcCxcclxuXHJcbiAgLy8gTG9nc1xyXG4gIGxvZyxcclxuICBsb2dXaXRoU3RhY2ssXHJcbiAgc2V0TG9nTGV2ZWw6IGZ1bmN0aW9uIChsZXZlbCkge1xyXG4gICAgLy8gVXBkYXRlIHRoZSBpbnN0YW5jZSBvcHRpb25zIG9iamVjdFxyXG4gICAgY29uc3Qgb3B0aW9ucyA9IHVwZGF0ZU9wdGlvbnMoe1xyXG4gICAgICBsb2dnaW5nOiB7XHJcbiAgICAgICAgbGV2ZWxcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gQ2FsbCB0aGUgZnVuY3Rpb25cclxuICAgIHNldExvZ0xldmVsKG9wdGlvbnMubG9nZ2luZy5sZXZlbCk7XHJcbiAgfSxcclxuICBlbmFibGVDb25zb2xlTG9nZ2luZzogZnVuY3Rpb24gKHRvQ29uc29sZSkge1xyXG4gICAgLy8gVXBkYXRlIHRoZSBpbnN0YW5jZSBvcHRpb25zIG9iamVjdFxyXG4gICAgY29uc3Qgb3B0aW9ucyA9IHVwZGF0ZU9wdGlvbnMoe1xyXG4gICAgICBsb2dnaW5nOiB7XHJcbiAgICAgICAgdG9Db25zb2xlXHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIENhbGwgdGhlIGZ1bmN0aW9uXHJcbiAgICBlbmFibGVDb25zb2xlTG9nZ2luZyhvcHRpb25zLmxvZ2dpbmcudG9Db25zb2xlKTtcclxuICB9LFxyXG4gIGVuYWJsZUZpbGVMb2dnaW5nOiBmdW5jdGlvbiAoZGVzdCwgZmlsZSwgdG9GaWxlKSB7XHJcbiAgICAvLyBVcGRhdGUgdGhlIGluc3RhbmNlIG9wdGlvbnMgb2JqZWN0XHJcbiAgICBjb25zdCBvcHRpb25zID0gdXBkYXRlT3B0aW9ucyh7XHJcbiAgICAgIGxvZ2dpbmc6IHtcclxuICAgICAgICBkZXN0LFxyXG4gICAgICAgIGZpbGUsXHJcbiAgICAgICAgdG9GaWxlXHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIENhbGwgdGhlIGZ1bmN0aW9uXHJcbiAgICBlbmFibGVGaWxlTG9nZ2luZyhcclxuICAgICAgb3B0aW9ucy5sb2dnaW5nLmRlc3QsXHJcbiAgICAgIG9wdGlvbnMubG9nZ2luZy5maWxlLFxyXG4gICAgICBvcHRpb25zLmxvZ2dpbmcudG9GaWxlXHJcbiAgICApO1xyXG4gIH1cclxufTtcclxuIl0sIm5hbWVzIjpbImRlZmF1bHRDb25maWciLCJwdXBwZXRlZXIiLCJhcmdzIiwidmFsdWUiLCJ0eXBlcyIsImVudkxpbmsiLCJjbGlOYW1lIiwiZGVzY3JpcHRpb24iLCJwcm9tcHRPcHRpb25zIiwidHlwZSIsInNlcGFyYXRvciIsImhpZ2hjaGFydHMiLCJ2ZXJzaW9uIiwiY2RuVXJsIiwiZm9yY2VGZXRjaCIsImNhY2hlUGF0aCIsImNvcmVTY3JpcHRzIiwiaW5zdHJ1Y3Rpb25zIiwibW9kdWxlU2NyaXB0cyIsImluZGljYXRvclNjcmlwdHMiLCJjdXN0b21TY3JpcHRzIiwiZXhwb3J0IiwiaW5maWxlIiwiaW5zdHIiLCJvcHRpb25zIiwic3ZnIiwiYmF0Y2giLCJvdXRmaWxlIiwiaGludCIsImNob2ljZXMiLCJjb25zdHIiLCJiNjQiLCJub0Rvd25sb2FkIiwiaGVpZ2h0Iiwid2lkdGgiLCJzY2FsZSIsImRlZmF1bHRIZWlnaHQiLCJkZWZhdWx0V2lkdGgiLCJkZWZhdWx0U2NhbGUiLCJtaW4iLCJtYXgiLCJnbG9iYWxPcHRpb25zIiwidGhlbWVPcHRpb25zIiwicmFzdGVyaXphdGlvblRpbWVvdXQiLCJjdXN0b21Mb2dpYyIsImFsbG93Q29kZUV4ZWN1dGlvbiIsImFsbG93RmlsZVJlc291cmNlcyIsImN1c3RvbUNvZGUiLCJjYWxsYmFjayIsInJlc291cmNlcyIsImxvYWRDb25maWciLCJsZWdhY3lOYW1lIiwiY3JlYXRlQ29uZmlnIiwic2VydmVyIiwiZW5hYmxlIiwiaG9zdCIsInBvcnQiLCJ1cGxvYWRMaW1pdCIsImJlbmNobWFya2luZyIsInByb3h5IiwidGltZW91dCIsInJhdGVMaW1pdGluZyIsIm1heFJlcXVlc3RzIiwid2luZG93IiwiZGVsYXkiLCJ0cnVzdFByb3h5Iiwic2tpcEtleSIsInNraXBUb2tlbiIsInNzbCIsImZvcmNlIiwiY2VydFBhdGgiLCJwb29sIiwibWluV29ya2VycyIsIm1heFdvcmtlcnMiLCJ3b3JrTGltaXQiLCJhY3F1aXJlVGltZW91dCIsImNyZWF0ZVRpbWVvdXQiLCJkZXN0cm95VGltZW91dCIsImlkbGVUaW1lb3V0IiwiY3JlYXRlUmV0cnlJbnRlcnZhbCIsInJlYXBlckludGVydmFsIiwibG9nZ2luZyIsImxldmVsIiwicm91bmQiLCJmaWxlIiwiZGVzdCIsInRvQ29uc29sZSIsInRvRmlsZSIsInVpIiwicm91dGUiLCJvdGhlciIsIm5vZGVFbnYiLCJsaXN0ZW5Ub1Byb2Nlc3NFeGl0cyIsIm5vTG9nbyIsImhhcmRSZXNldFBhZ2UiLCJicm93c2VyU2hlbGxNb2RlIiwiZGVidWciLCJoZWFkbGVzcyIsImRldnRvb2xzIiwibGlzdGVuVG9Db25zb2xlIiwiZHVtcGlvIiwic2xvd01vIiwiZGVidWdnaW5nUG9ydCIsImRvdGVudiIsImNvbmZpZyIsInYiLCJhcnJheSIsImZpbHRlckFycmF5IiwieiIsInN0cmluZyIsInRyYW5zZm9ybSIsInNwbGl0IiwibWFwIiwidHJpbSIsImZpbHRlciIsImluY2x1ZGVzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwiYm9vbGVhbiIsImVudW0iLCJ2YWx1ZXMiLCJyZWZpbmUiLCJtZXNzYWdlIiwicG9zaXRpdmVOdW0iLCJpc05hTiIsInBhcnNlRmxvYXQiLCJub25OZWdhdGl2ZU51bSIsIkNvbmZpZyIsIm9iamVjdCIsIlBVUFBFVEVFUl9BUkdTIiwiSElHSENIQVJUU19WRVJTSU9OIiwidGVzdCIsIkhJR0hDSEFSVFNfQ0ROX1VSTCIsInN0YXJ0c1dpdGgiLCJISUdIQ0hBUlRTX0ZPUkNFX0ZFVENIIiwiSElHSENIQVJUU19DQUNIRV9QQVRIIiwiSElHSENIQVJUU19BRE1JTl9UT0tFTiIsIkhJR0hDSEFSVFNfQ09SRV9TQ1JJUFRTIiwiSElHSENIQVJUU19NT0RVTEVfU0NSSVBUUyIsIkhJR0hDSEFSVFNfSU5ESUNBVE9SX1NDUklQVFMiLCJISUdIQ0hBUlRTX0NVU1RPTV9TQ1JJUFRTIiwiRVhQT1JUX0lORklMRSIsIkVYUE9SVF9JTlNUUiIsIkVYUE9SVF9PUFRJT05TIiwiRVhQT1JUX1NWRyIsIkVYUE9SVF9CQVRDSCIsIkVYUE9SVF9PVVRGSUxFIiwiRVhQT1JUX1RZUEUiLCJFWFBPUlRfQ09OU1RSIiwiRVhQT1JUX0I2NCIsIkVYUE9SVF9OT19ET1dOTE9BRCIsIkVYUE9SVF9IRUlHSFQiLCJFWFBPUlRfV0lEVEgiLCJFWFBPUlRfU0NBTEUiLCJFWFBPUlRfREVGQVVMVF9IRUlHSFQiLCJFWFBPUlRfREVGQVVMVF9XSURUSCIsIkVYUE9SVF9ERUZBVUxUX1NDQUxFIiwiRVhQT1JUX0dMT0JBTF9PUFRJT05TIiwiRVhQT1JUX1RIRU1FX09QVElPTlMiLCJFWFBPUlRfUkFTVEVSSVpBVElPTl9USU1FT1VUIiwiQ1VTVE9NX0xPR0lDX0FMTE9XX0NPREVfRVhFQ1VUSU9OIiwiQ1VTVE9NX0xPR0lDX0FMTE9XX0ZJTEVfUkVTT1VSQ0VTIiwiQ1VTVE9NX0xPR0lDX0NVU1RPTV9DT0RFIiwiQ1VTVE9NX0xPR0lDX0NBTExCQUNLIiwiQ1VTVE9NX0xPR0lDX1JFU09VUkNFUyIsIkNVU1RPTV9MT0dJQ19MT0FEX0NPTkZJRyIsIkNVU1RPTV9MT0dJQ19DUkVBVEVfQ09ORklHIiwiU0VSVkVSX0VOQUJMRSIsIlNFUlZFUl9IT1NUIiwiU0VSVkVSX1BPUlQiLCJTRVJWRVJfVVBMT0FEX0xJTUlUIiwiU0VSVkVSX0JFTkNITUFSS0lORyIsIlNFUlZFUl9QUk9YWV9IT1NUIiwiU0VSVkVSX1BST1hZX1BPUlQiLCJTRVJWRVJfUFJPWFlfVElNRU9VVCIsIlNFUlZFUl9SQVRFX0xJTUlUSU5HX0VOQUJMRSIsIlNFUlZFUl9SQVRFX0xJTUlUSU5HX01BWF9SRVFVRVNUUyIsIlNFUlZFUl9SQVRFX0xJTUlUSU5HX1dJTkRPVyIsIlNFUlZFUl9SQVRFX0xJTUlUSU5HX0RFTEFZIiwiU0VSVkVSX1JBVEVfTElNSVRJTkdfVFJVU1RfUFJPWFkiLCJTRVJWRVJfUkFURV9MSU1JVElOR19TS0lQX0tFWSIsIlNFUlZFUl9SQVRFX0xJTUlUSU5HX1NLSVBfVE9LRU4iLCJTRVJWRVJfU1NMX0VOQUJMRSIsIlNFUlZFUl9TU0xfRk9SQ0UiLCJTRVJWRVJfU1NMX1BPUlQiLCJTRVJWRVJfU1NMX0NFUlRfUEFUSCIsIlBPT0xfTUlOX1dPUktFUlMiLCJQT09MX01BWF9XT1JLRVJTIiwiUE9PTF9XT1JLX0xJTUlUIiwiUE9PTF9BQ1FVSVJFX1RJTUVPVVQiLCJQT09MX0NSRUFURV9USU1FT1VUIiwiUE9PTF9ERVNUUk9ZX1RJTUVPVVQiLCJQT09MX0lETEVfVElNRU9VVCIsIlBPT0xfQ1JFQVRFX1JFVFJZX0lOVEVSVkFMIiwiUE9PTF9SRUFQRVJfSU5URVJWQUwiLCJQT09MX0JFTkNITUFSS0lORyIsIkxPR0dJTkdfTEVWRUwiLCJMT0dHSU5HX0ZJTEUiLCJMT0dHSU5HX0RFU1QiLCJMT0dHSU5HX1RPX0NPTlNPTEUiLCJMT0dHSU5HX1RPX0ZJTEUiLCJVSV9FTkFCTEUiLCJVSV9ST1VURSIsIk9USEVSX05PREVfRU5WIiwiT1RIRVJfTElTVEVOX1RPX1BST0NFU1NfRVhJVFMiLCJPVEhFUl9OT19MT0dPIiwiT1RIRVJfSEFSRF9SRVNFVF9QQUdFIiwiT1RIRVJfQlJPV1NFUl9TSEVMTF9NT0RFIiwiREVCVUdfRU5BQkxFIiwiREVCVUdfSEVBRExFU1MiLCJERUJVR19ERVZUT09MUyIsIkRFQlVHX0xJU1RFTl9UT19DT05TT0xFIiwiREVCVUdfRFVNUElPIiwiREVCVUdfU0xPV19NTyIsIkRFQlVHX0RFQlVHR0lOR19QT1JUIiwiZW52cyIsInBhcnRpYWwiLCJwYXJzZSIsInByb2Nlc3MiLCJlbnYiLCJfX2Rpcm5hbWUiLCJmaWxlVVJMVG9QYXRoIiwiVVJMIiwiZG9jdW1lbnQiLCJyZXF1aXJlIiwicGF0aFRvRmlsZVVSTCIsIl9fZmlsZW5hbWUiLCJocmVmIiwiX2RvY3VtZW50Q3VycmVudFNjcmlwdCIsInRhZ05hbWUiLCJ0b1VwcGVyQ2FzZSIsInNyYyIsImJhc2VVUkkiLCJkZWVwQ29weSIsIm9iakFyciIsIm9iakFyckNvcHkiLCJBcnJheSIsImlzQXJyYXkiLCJrZXkiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJnZXRBYnNvbHV0ZVBhdGgiLCJwYXRoIiwiaXNBYnNvbHV0ZSIsIm5vcm1hbGl6ZSIsInJlc29sdmUiLCJnZXRCYXNlNjQiLCJpbnB1dCIsIkJ1ZmZlciIsImZyb20iLCJ0b1N0cmluZyIsImdldE5ld0RhdGUiLCJEYXRlIiwiZ2V0TmV3RGF0ZVRpbWUiLCJnZXRUaW1lIiwiaXNPYmplY3QiLCJpdGVtIiwiaXNPYmplY3RFbXB0eSIsImtleXMiLCJpc1ByaXZhdGVSYW5nZVVybEZvdW5kIiwic29tZSIsInBhdHRlcm4iLCJtZWFzdXJlVGltZSIsInN0YXJ0IiwiaHJ0aW1lIiwiYmlnaW50IiwiTnVtYmVyIiwicm91bmROdW1iZXIiLCJwcmVjaXNpb24iLCJtdWx0aXBsaWVyIiwiTWF0aCIsInBvdyIsImNvbG9ycyIsInBhdGhDcmVhdGVkIiwicGF0aFRvTG9nIiwibGV2ZWxzRGVzYyIsInRpdGxlIiwiY29sb3IiLCJsb2ciLCJuZXdMZXZlbCIsInRleHRzIiwicHJlZml4IiwiX2xvZ1RvRmlsZSIsImNvbnNvbGUiLCJhcHBseSIsImNvbmNhdCIsImxvZ1dpdGhTdGFjayIsImVycm9yIiwiY3VzdG9tTWVzc2FnZSIsIm1haW5NZXNzYWdlIiwic3RhY2tNZXNzYWdlIiwic3RhY2siLCJwdXNoIiwic2hpZnQiLCJpbml0TG9nZ2luZyIsImxvZ2dpbmdPcHRpb25zIiwic2V0TG9nTGV2ZWwiLCJlbmFibGVDb25zb2xlTG9nZ2luZyIsImVuYWJsZUZpbGVMb2dnaW5nIiwiaXNJbnRlZ2VyIiwiZXhpc3RzU3luYyIsIm1rZGlyU3luYyIsImpvaW4iLCJhcHBlbmRGaWxlIiwiX2luaXRPcHRpb25zIiwibmVzdGVkUHJvcHMiLCJfY3JlYXRlTmVzdGVkUHJvcHMiLCJhYnNvbHV0ZVByb3BzIiwiX2NyZWF0ZUFic29sdXRlUHJvcHMiLCJnZXRPcHRpb25zIiwiZ2V0Q29weSIsInVwZGF0ZU9wdGlvbnMiLCJuZXdPcHRpb25zIiwiX21lcmdlT3B0aW9ucyIsIm1hcFRvTmV3T3B0aW9ucyIsIm9sZE9wdGlvbnMiLCJlbnRyaWVzIiwicHJvcGVydGllc0NoYWluIiwicmVkdWNlIiwib2JqIiwicHJvcCIsImluZGV4IiwiaXNBbGxvd2VkQ29uZmlnIiwiYWxsb3dGdW5jdGlvbnMiLCJvYmplY3RDb25maWciLCJldmFsIiwiSlNPTiIsInN0cmluZ2lmaWVkT3B0aW9ucyIsIl9vcHRpb25zU3RyaW5naWZ5IiwicGFyc2VkT3B0aW9ucyIsIl8iLCJuYW1lIiwib3JpZ2luYWxPcHRpb25zIiwic3RyaW5naWZ5RnVuY3Rpb25zIiwic3RyaW5naWZ5IiwiZW5kc1dpdGgiLCJyZXBsYWNlQWxsIiwiRXJyb3IiLCJwcm9wQ2hhaW4iLCJmb3JFYWNoIiwiZW50cnkiLCJzdWJzdHJpbmciLCJhc3luYyIsImdldCIsInVybCIsInJlcXVlc3RPcHRpb25zIiwiUHJvbWlzZSIsInJlamVjdCIsIl9nZXRQcm90b2NvbE1vZHVsZSIsInJlc3BvbnNlIiwicmVzcG9uc2VEYXRhIiwib24iLCJjaHVuayIsInRleHQiLCJodHRwcyIsImh0dHAiLCJFeHBvcnRFcnJvciIsImNvbnN0cnVjdG9yIiwic3RhdHVzQ29kZSIsInN1cGVyIiwidGhpcyIsInNldEVycm9yIiwiY2FjaGUiLCJhY3RpdmVNYW5pZmVzdCIsInNvdXJjZXMiLCJoY1ZlcnNpb24iLCJjaGVja0NhY2hlIiwiaGlnaGNoYXJ0c09wdGlvbnMiLCJzZXJ2ZXJQcm94eU9wdGlvbnMiLCJmZXRjaGVkTW9kdWxlcyIsImdldENhY2hlUGF0aCIsIm1hbmlmZXN0UGF0aCIsInNvdXJjZVBhdGgiLCJyZWN1cnNpdmUiLCJfdXBkYXRlQ2FjaGUiLCJyZXF1ZXN0VXBkYXRlIiwibWFuaWZlc3QiLCJyZWFkRmlsZVN5bmMiLCJtb2R1bGVzIiwibW9kdWxlTWFwIiwibSIsIm51bWJlck9mTW9kdWxlcyIsIm1vZHVsZU5hbWUiLCJfZXh0cmFjdEhjVmVyc2lvbiIsIl9zYXZlQ29uZmlnVG9NYW5pZmVzdCIsImdldEhjVmVyc2lvbiIsInVwZGF0ZUhjVmVyc2lvbiIsIm5ld1ZlcnNpb24iLCJ3cml0ZUZpbGVTeW5jIiwiX2NvbmZpZ3VyZVJlcXVlc3QiLCJhbGwiLCJjcyIsIl9mZXRjaFNjcmlwdCIsIm1zIiwiaXMiLCJzY3JpcHQiLCJzaG91bGRUaHJvd0Vycm9yIiwiX2V4dHJhY3RNb2R1bGVOYW1lIiwicHJveHlIb3N0IiwicHJveHlQb3J0IiwiYWdlbnQiLCJIdHRwc1Byb3h5QWdlbnQiLCJjYWNoZVNvdXJjZXMiLCJpbmRleE9mIiwicmVwbGFjZSIsInNjcmlwdFBhdGgiLCJzZXR1cEhpZ2hjaGFydHMiLCJIaWdoY2hhcnRzIiwiYW5pbU9iamVjdCIsImR1cmF0aW9uIiwiY3JlYXRlQ2hhcnQiLCJleHBvcnRPcHRpb25zIiwiY3VzdG9tTG9naWNPcHRpb25zIiwic2V0T3B0aW9ucyIsIm1lcmdlIiwid3JhcCIsInNldE9wdGlvbnNPYmoiLCJpc1JlbmRlckNvbXBsZXRlIiwiQ2hhcnQiLCJwcm9jZWVkIiwidXNlck9wdGlvbnMiLCJjYiIsImV4cG9ydGluZyIsImVuYWJsZWQiLCJwbG90T3B0aW9ucyIsInNlcmllcyIsImxhYmVsIiwidG9vbHRpcCIsImFuaW1hdGlvbiIsIm9uSGlnaGNoYXJ0c1JlbmRlciIsImFkZEV2ZW50IiwiU2VyaWVzIiwiY2hhcnQiLCJhZGRpdGlvbmFsT3B0aW9ucyIsIkZ1bmN0aW9uIiwiZmluYWxPcHRpb25zIiwiZmluYWxDYWxsYmFjayIsImltYWdlcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJyYWNlIiwiaW1hZ2UiLCJjb21wbGV0ZSIsIm5hdHVyYWxIZWlnaHQiLCJhZGRFdmVudExpc3RlbmVyIiwib25jZSIsInNldFRpbWVvdXQiLCJkZWZhdWx0T3B0aW9ucyIsInBhZ2VUZW1wbGF0ZSIsImJyb3dzZXIiLCJjcmVhdGVCcm93c2VyIiwicHVwcGV0ZWVyQXJncyIsImVuYWJsZWREZWJ1ZyIsImRlYnVnT3B0aW9ucyIsImxhdW5jaE9wdGlvbnMiLCJ1c2VyRGF0YURpciIsImhhbmRsZVNJR0lOVCIsImhhbmRsZVNJR1RFUk0iLCJoYW5kbGVTSUdIVVAiLCJ3YWl0Rm9ySW5pdGlhbFBhZ2UiLCJkZWZhdWx0Vmlld3BvcnQiLCJ0cnlDb3VudCIsIm9wZW5Ccm93c2VyIiwibGF1bmNoIiwiY2xvc2VCcm93c2VyIiwiY29ubmVjdGVkIiwiY2xvc2UiLCJuZXdQYWdlIiwicG9vbFJlc291cmNlIiwicGFnZSIsInNldENhY2hlRW5hYmxlZCIsIl9zZXRQYWdlQ29udGVudCIsIl9zZXRQYWdlRXZlbnRzIiwiaXNDbG9zZWQiLCJjbGVhclBhZ2UiLCJoYXJkUmVzZXQiLCJnb3RvIiwid2FpdFVudGlsIiwiZXZhbHVhdGUiLCJib2R5IiwiaW5uZXJIVE1MIiwiaWQiLCJ3b3JrQ291bnQiLCJhZGRQYWdlUmVzb3VyY2VzIiwiaW5qZWN0ZWRSZXNvdXJjZXMiLCJpbmplY3RlZEpzIiwianMiLCJjb250ZW50IiwiZmlsZXMiLCJpc0xvY2FsIiwianNSZXNvdXJjZSIsImFkZFNjcmlwdFRhZyIsImluamVjdGVkQ3NzIiwiY3NzIiwiY3NzSW1wb3J0cyIsIm1hdGNoIiwiY3NzSW1wb3J0UGF0aCIsImNzc1Jlc291cmNlIiwiYWRkU3R5bGVUYWciLCJjbGVhclBhZ2VSZXNvdXJjZXMiLCJyZXNvdXJjZSIsImRpc3Bvc2UiLCJvbGRDaGFydHMiLCJjaGFydHMiLCJvbGRDaGFydCIsImRlc3Ryb3kiLCJzY3JpcHRzVG9SZW1vdmUiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInN0eWxlc1RvUmVtb3ZlIiwibGlua3NUb1JlbW92ZSIsImVsZW1lbnQiLCJyZW1vdmUiLCJzZXRDb250ZW50IiwiY3NzVGVtcGxhdGUiLCJzdmdUZW1wbGF0ZSIsInB1cHBldGVlckV4cG9ydCIsImlzU1ZHIiwic2l6ZSIsIl9nZXRDaGFydFNpemUiLCJ4IiwieSIsIl9nZXRDbGlwUmVnaW9uIiwidmlld3BvcnRIZWlnaHQiLCJhYnMiLCJjZWlsIiwiY2hhcnRIZWlnaHQiLCJ2aWV3cG9ydFdpZHRoIiwiY2hhcnRXaWR0aCIsInJlc3VsdCIsInNldFZpZXdwb3J0IiwiZGV2aWNlU2NhbGVGYWN0b3IiLCJfY3JlYXRlU1ZHIiwiX2NyZWF0ZUltYWdlIiwiX2NyZWF0ZVBERiIsIiRldmFsIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwidHJ1bmMiLCJzdmdFbGVtZW50IiwicXVlcnlTZWxlY3RvciIsImJhc2VWYWwiLCJzdHlsZSIsInpvb20iLCJtYXJnaW4iLCJvdXRlckhUTUwiLCJjbGlwIiwic2NyZWVuc2hvdCIsImVuY29kaW5nIiwiZnVsbFBhZ2UiLCJvcHRpbWl6ZUZvclNwZWVkIiwiY2FwdHVyZUJleW9uZFZpZXdwb3J0IiwicXVhbGl0eSIsIm9taXRCYWNrZ3JvdW5kIiwiX3Jlc29sdmUiLCJlbXVsYXRlTWVkaWFUeXBlIiwicGRmIiwicG9vbFN0YXRzIiwiZXhwb3J0c0F0dGVtcHRlZCIsImV4cG9ydHNQZXJmb3JtZWQiLCJleHBvcnRzRHJvcHBlZCIsImV4cG9ydHNGcm9tU3ZnIiwiZXhwb3J0c0Zyb21PcHRpb25zIiwiZXhwb3J0c0Zyb21TdmdBdHRlbXB0cyIsImV4cG9ydHNGcm9tT3B0aW9uc0F0dGVtcHRzIiwidGltZVNwZW50IiwidGltZVNwZW50QXZlcmFnZSIsImluaXRQb29sIiwicG9vbE9wdGlvbnMiLCJQb29sIiwiX2ZhY3RvcnkiLCJhY3F1aXJlVGltZW91dE1pbGxpcyIsImNyZWF0ZVRpbWVvdXRNaWxsaXMiLCJkZXN0cm95VGltZW91dE1pbGxpcyIsImlkbGVUaW1lb3V0TWlsbGlzIiwiY3JlYXRlUmV0cnlJbnRlcnZhbE1pbGxpcyIsInJlYXBJbnRlcnZhbE1pbGxpcyIsInByb3BhZ2F0ZUNyZWF0ZUVycm9yIiwiY2xlYXJTdGF0dXMiLCJfZXZlbnRJZCIsImluaXRpYWxSZXNvdXJjZXMiLCJpIiwiYWNxdWlyZSIsInByb21pc2UiLCJyZWxlYXNlIiwia2lsbFBvb2wiLCJ3b3JrZXIiLCJ1c2VkIiwiZGVzdHJveWVkIiwicG9zdFdvcmsiLCJ3b3JrZXJIYW5kbGUiLCJfZ2V0UG9vbEluZm8iLCJhY3F1aXJlQ291bnRlciIsInJlcXVlc3RJZCIsImV4cG9ydENvdW50ZXIiLCJleHBvcnRSZXN1bHQiLCJnZXRQb29sU3RhdHMiLCJnZXRQb29sSW5mb0pTT04iLCJudW1Vc2VkIiwiYXZhaWxhYmxlIiwibnVtRnJlZSIsImFsbENyZWF0ZWQiLCJwZW5kaW5nQWNxdWlyZXMiLCJudW1QZW5kaW5nQWNxdWlyZXMiLCJwZW5kaW5nQ3JlYXRlcyIsIm51bVBlbmRpbmdDcmVhdGVzIiwicGVuZGluZ1ZhbGlkYXRpb25zIiwibnVtUGVuZGluZ1ZhbGlkYXRpb25zIiwicGVuZGluZ0Rlc3Ryb3lzIiwiYWJzb2x1dGVBbGwiLCJjcmVhdGUiLCJ1dWlkIiwicmFuZG9tIiwic3RhcnREYXRlIiwidmFsaWRhdGUiLCJtYWluRnJhbWUiLCJkZXRhY2hlZCIsInJlbW92ZUFsbExpc3RlbmVycyIsInNhbml0aXplIiwiSlNET00iLCJET01QdXJpZnkiLCJBRERfVEFHUyIsInNpbmdsZUV4cG9ydCIsInN0YXJ0RXhwb3J0IiwiZGF0YSIsImJhdGNoRXhwb3J0IiwiYmF0Y2hGdW5jdGlvbnMiLCJwYWlyIiwiYmF0Y2hSZXN1bHRzIiwiYWxsU2V0dGxlZCIsInJlYXNvbiIsImltYWdlT3B0aW9ucyIsImVuZENhbGxiYWNrIiwiZmlsZUNvbnRlbnQiLCJfZXhwb3J0RnJvbVN2ZyIsIl9leHBvcnRGcm9tT3B0aW9ucyIsImdldEFsbG93Q29kZUV4ZWN1dGlvbiIsInNldEFsbG93Q29kZUV4ZWN1dGlvbiIsImlucHV0VG9FeHBvcnQiLCJfcHJlcGFyZUV4cG9ydCIsIl9maXhDb25zdHIiLCJfZml4VHlwZSIsIl9maXhPdXRmaWxlIiwiX2hhbmRsZUN1c3RvbUxvZ2ljIiwiX2hhbmRsZUdsb2JhbEFuZFRoZW1lIiwiX2hhbmRsZVNpemUiLCJfY2hlY2tEYXRhU2l6ZSIsImZpeGVkQ29uc3RyIiwidG9Mb3dlckNhc2UiLCJtaW1lVHlwZXMiLCJmb3JtYXRzIiwib3V0VHlwZSIsInBvcCIsImZpbmQiLCJ0Iiwib3B0aW9uc0NoYXJ0Iiwib3B0aW9uc0V4cG9ydGluZyIsImdsb2JhbE9wdGlvbnNDaGFydCIsImdsb2JhbE9wdGlvbnNFeHBvcnRpbmciLCJ0aGVtZU9wdGlvbnNDaGFydCIsInRoZW1lT3B0aW9uc0V4cG9ydGluZyIsInNvdXJjZUhlaWdodCIsInNvdXJjZVdpZHRoIiwicGFyYW0iLCJfaGFuZGxlUmVzb3VyY2VzIiwiX2hhbmRsZUN1c3RvbUNvZGUiLCJoYW5kbGVkUmVzb3VyY2VzIiwiYWxsb3dlZFByb3BzIiwiY29ycmVjdFJlc291cmNlcyIsInByb3BOYW1lIiwiaXNDYWxsYmFjayIsIm9wdGlvbnNOYW1lIiwidG90YWxTaXplIiwiYnl0ZUxlbmd0aCIsInRvRml4ZWQiLCJ0aW1lcklkcyIsImFkZFRpbWVyIiwiY2xlYXJBbGxUaW1lcnMiLCJjbGVhckludGVydmFsIiwiY2xlYXJUaW1lb3V0IiwibG9nRXJyb3JNaWRkbGV3YXJlIiwicmVxdWVzdCIsIm5leHQiLCJyZXR1cm5FcnJvck1pZGRsZXdhcmUiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3JNaWRkbGV3YXJlIiwiYXBwIiwidXNlIiwicmF0ZUxpbWl0aW5nTWlkZGxld2FyZSIsInJhdGVMaW1pdGluZ09wdGlvbnMiLCJyYXRlT3B0aW9ucyIsImxpbWl0ZXIiLCJyYXRlTGltaXQiLCJ3aW5kb3dNcyIsImxpbWl0IiwiZGVsYXlNcyIsImhhbmRsZXIiLCJmb3JtYXQiLCJzZW5kIiwiZGVmYXVsdCIsInNraXAiLCJxdWVyeSIsImFjY2Vzc190b2tlbiIsImNvbnRlbnRUeXBlTWlkZGxld2FyZSIsImNvbnRlbnRUeXBlIiwiaGVhZGVycyIsInJlcXVlc3RCb2R5TWlkZGxld2FyZSIsImNvbm5lY3Rpb24iLCJyZW1vdGVBZGRyZXNzIiwidmFsaWRhdGVkT3B0aW9ucyIsInBhcmFtcyIsImZpbGVuYW1lIiwidmFsaWRhdGlvbk1pZGRsZXdhcmUiLCJwb3N0IiwicmV2ZXJzZWRNaW1lIiwicG5nIiwianBlZyIsImdpZiIsInJlcXVlc3RFeHBvcnQiLCJyZXF1ZXN0Q291bnRlciIsImNvbm5lY3Rpb25BYm9ydGVkIiwic29ja2V0IiwiaGFkRXJyb3JzIiwiaGVhZGVyIiwiYXR0YWNobWVudCIsImV4cG9ydFJvdXRlcyIsInNlcnZlclN0YXJ0VGltZSIsInBhY2thZ2VGaWxlIiwic3VjY2Vzc1JhdGVzIiwicmVjb3JkSW50ZXJ2YWwiLCJ3aW5kb3dTaXplIiwiX2NhbGN1bGF0ZU1vdmluZ0F2ZXJhZ2UiLCJhIiwiYiIsIl9zdGFydFN1Y2Nlc3NSYXRlIiwic2V0SW50ZXJ2YWwiLCJzdGF0cyIsInN1Y2Nlc3NSYXRpbyIsImhlYWx0aFJvdXRlcyIsInBlcmlvZCIsIm1vdmluZ0F2ZXJhZ2UiLCJib290VGltZSIsInVwdGltZSIsImZsb29yIiwic2VydmVyVmVyc2lvbiIsImhpZ2hjaGFydHNWZXJzaW9uIiwiYXZlcmFnZUV4cG9ydFRpbWUiLCJhdHRlbXB0ZWRFeHBvcnRzIiwicGVyZm9ybWVkRXhwb3J0cyIsImZhaWxlZEV4cG9ydHMiLCJzdWNlc3NSYXRpbyIsInN2Z0V4cG9ydHMiLCJqc29uRXhwb3J0cyIsInN2Z0V4cG9ydHNBdHRlbXB0cyIsImpzb25FeHBvcnRzQXR0ZW1wdHMiLCJ1aVJvdXRlcyIsInNlbmRGaWxlIiwiYWNjZXB0UmFuZ2VzIiwidmVyc2lvbkNoYW5nZVJvdXRlcyIsImFkbWluVG9rZW4iLCJ0b2tlbiIsImFjdGl2ZVNlcnZlcnMiLCJNYXAiLCJleHByZXNzIiwic3RhcnRTZXJ2ZXIiLCJzZXJ2ZXJPcHRpb25zIiwidXBsb2FkTGltaXRCeXRlcyIsInN0b3JhZ2UiLCJtdWx0ZXIiLCJtZW1vcnlTdG9yYWdlIiwidXBsb2FkIiwibGltaXRzIiwiZmllbGRTaXplIiwiZGlzYWJsZSIsImNvcnMiLCJtZXRob2RzIiwic2V0IiwidXJsZW5jb2RlZCIsImV4dGVuZGVkIiwibm9uZSIsInN0YXRpYyIsImh0dHBTZXJ2ZXIiLCJjcmVhdGVTZXJ2ZXIiLCJfYXR0YWNoU2VydmVyRXJyb3JIYW5kbGVycyIsImxpc3RlbiIsImNlcnQiLCJodHRwc1NlcnZlciIsImNsb3NlU2VydmVycyIsImRlbGV0ZSIsImdldFNlcnZlcnMiLCJnZXRFeHByZXNzIiwiZ2V0QXBwIiwiZW5hYmxlUmF0ZUxpbWl0aW5nIiwibWlkZGxld2FyZXMiLCJzaHV0ZG93bkNsZWFuVXAiLCJleGl0Q29kZSIsImV4aXQiLCJpbml0RXhwb3J0IiwiaW5pdE9wdGlvbnMiLCJfYXR0YWNoUHJvY2Vzc0V4aXRMaXN0ZW5lcnMiLCJjb2RlIl0sIm1hcHBpbmdzIjoid2xCQWlDQSxNQUFNQSxjQUFnQixDQUNwQkMsVUFBVyxDQUNUQyxLQUFNLENBQ0pDLE1BQU8sQ0FDTCxtQ0FDQSxrQkFDQSwwQ0FDQSwyQkFDQSxrQ0FDQSxrQ0FDQSx3Q0FDQSwyQ0FDQSxx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
